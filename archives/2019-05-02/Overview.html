<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>WebVTT: The Web Video Text Tracks Format</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<style>
   body {
     max-width: none;
   }
  </style>
<script>
   document.addEventListener("DOMContentLoaded", function() {
     var snapshot = document.body.getElementsByClassName("snapshot")[0];
     var button = snapshot.getElementsByTagName("button")[0];
     button.addEventListener("click", function() {
       snapshot.setAttribute("hidden", "");
       localStorage["webvtt-snapshot-note"] = "hidden";
     }, false);
     var hidden = localStorage["webvtt-snapshot-note"] == "hidden";
     if (!hidden) {
       snapshot.removeAttribute("hidden");
     }
   }, false);
 </script>
<style>
   .snapshot {
     position: fixed;
     bottom: 0;
     left: 0;
     right: 0;
     background: #fbe9e9;
     border-top: .5em solid #e05252;
     text-align: center;
     z-index: 2;
   }
   .snapshot a {
     color: inherit;
   }
 </style>
<style>
 samp {
   font-family: inherit;
   background-color: black; /* fallback if rgba() is not supported */
   background-color: rgba(0, 0, 0, 0.7);
   outline: 0.18em solid rgba(0, 0, 0, 0.7);
   color: white;
 }

 [data-algorithm]:not(.heading) {
   padding-left: 2em;
 }
</style>
<style>/* style-md-lists */

            /* This is a weird hack for me not yet following the commonmark spec
               regarding paragraph and lists. */
            [data-md] > :first-child {
                margin-top: 0;
            }
            [data-md] > :last-child {
                margin-bottom: 0;
            }</style>
<style>/* style-selflinks */

            .heading, .issue, .note, .example, li, dt {
                position: relative;
            }
            a.self-link {
                position: absolute;
                top: 0;
                left: calc(-1 * (3.5rem - 26px));
                width: calc(3.5rem - 26px);
                height: 2em;
                text-align: center;
                border: none;
                transition: opacity .2s;
                opacity: .5;
            }
            a.self-link:hover {
                opacity: 1;
            }
            .heading > a.self-link {
                font-size: 83%;
            }
            li > a.self-link {
                left: calc(-1 * (3.5rem - 26px) - 2em);
            }
            dfn > a.self-link {
                top: auto;
                left: auto;
                opacity: 0;
                width: 1.5em;
                height: 1.5em;
                background: gray;
                color: white;
                font-style: normal;
                transition: opacity .2s, background-color .2s, color .2s;
            }
            dfn:hover > a.self-link {
                opacity: 1;
            }
            dfn > a.self-link:hover {
                color: black;
            }

            a.self-link::before            { content: "¶"; }
            .heading > a.self-link::before { content: "§"; }
            dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

            body {
                counter-reset: example figure issue;
            }
            .issue {
                counter-increment: issue;
            }
            .issue:not(.no-marker)::before {
                content: "Issue " counter(issue);
            }

            .example {
                counter-increment: example;
            }
            .example:not(.no-marker)::before {
                content: "Example " counter(example);
            }
            .invalid.example:not(.no-marker)::before,
            .illegal.example:not(.no-marker)::before {
                content: "Invalid Example" counter(example);
            }

            figcaption {
                counter-increment: figure;
            }
            figcaption:not(.no-marker)::before {
                content: "Figure " counter(figure) " ";
            }</style>
<style>/* style-autolinks */

            .css.css, .property.property, .descriptor.descriptor {
                color: #005a9c;
                font-size: inherit;
                font-family: inherit;
            }
            .css::before, .property::before, .descriptor::before {
                content: "‘";
            }
            .css::after, .property::after, .descriptor::after {
                content: "’";
            }
            .property, .descriptor {
                /* Don't wrap property and descriptor names */
                white-space: nowrap;
            }
            .type { /* CSS value <type> */
                font-style: italic;
            }
            pre .property::before, pre .property::after {
                content: "";
            }
            [data-link-type="property"]::before,
            [data-link-type="propdesc"]::before,
            [data-link-type="descriptor"]::before,
            [data-link-type="value"]::before,
            [data-link-type="function"]::before,
            [data-link-type="at-rule"]::before,
            [data-link-type="selector"]::before,
            [data-link-type="maybe"]::before {
                content: "‘";
            }
            [data-link-type="property"]::after,
            [data-link-type="propdesc"]::after,
            [data-link-type="descriptor"]::after,
            [data-link-type="value"]::after,
            [data-link-type="function"]::after,
            [data-link-type="at-rule"]::after,
            [data-link-type="selector"]::after,
            [data-link-type="maybe"]::after {
                content: "’";
            }

            [data-link-type].production::before,
            [data-link-type].production::after,
            .prod [data-link-type]::before,
            .prod [data-link-type]::after {
                content: "";
            }

            [data-link-type=element],
            [data-link-type=element-attr] {
                font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
                font-size: .9em;
            }
            [data-link-type=element]::before { content: "<" }
            [data-link-type=element]::after  { content: ">" }

            [data-link-type=biblio] {
                white-space: pre;
            }</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
  <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-CR" rel="stylesheet" type="text/css">
  <meta content="Bikeshed version 5dff6b06be1856d0a5e62cf40e9cc21c06bfb098" name="generator">
  <link href="https://www.w3.org/TR/webvtt1/" rel="canonical">
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">WebVTT: The Web Video Text Tracks Format</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">W3C Candidate Recommendation <time class="dt-updated" datetime="2018-04-15">15 April 2018</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://www.w3.org/TR/2018/CR-webvtt1-20180415/">https://www.w3.org/TR/2018/CR-webvtt1-20180415/</a>
     <dt>Latest published version:
     <dd><a href="https://www.w3.org/TR/webvtt1/">https://www.w3.org/TR/webvtt1/</a>
     <dt>Editor's Draft:
     <dd><a href="https://w3c.github.io/webvtt/">https://w3c.github.io/webvtt/</a>
     <dt>Previous Versions:
     <dd><a href="https://www.w3.org/TR/2017/WD-webvtt1-20170808/" rel="prev">https://www.w3.org/TR/2017/WD-webvtt1-20170808/</a>
     <dt>Test Suite:
     <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/webvtt">https://github.com/web-platform-tests/wpt/tree/master/webvtt</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:silvia.pfeiffer@data61.csiro.au">Silvia Pfeiffer</a> (<a class="p-org org" href="https://www.csiro.au/">CSIRO</a>)
     <dt class="editor">Former Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:simonp@opera.com">Simon Pieters</a> (<a class="p-org org" href="http://www.opera.com/">Opera Software AS</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:silviapfeiffer1@gmail.com">Silvia Pfeiffer</a> (<a class="p-org org" href="http://nicta.com.au/">NICTA</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:philipj@opera.com">Philip Jägenstedt</a> (<a class="p-org org" href="http://www.opera.com/">Opera Software ASA</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:ian@hixie.ch">Ian Hickson</a> (<a class="p-org org" href="http://www.google.com/">Google</a>)
     <dt>Participate:
     <dd><span><a href="https://github.com/w3c/webvtt">GitHub w3c/webvtt</a> (<a href="https://github.com/w3c/webvtt/issues/new">new issue</a>, <a href="https://github.com/w3c/webvtt/issues">open issues</a>, <a href="https://www.w3.org/Bugs/Public/buglist.cgi?product=TextTracks%20CG&amp;component=WebVTT&amp;resolution=---">legacy open bugs</a>)</span>
     <dt>Commits:
     <dd><span><a href="https://github.com/w3c/webvtt/commits">GitHub w3c/webvtt/commits</a></span>
     <dd><span><a href="https://twitter.com/webvtt">@webvtt</a></span>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2011-2018 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">document use</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This specification defines WebVTT, the Web Video Text Tracks format. Its main use is for marking up external text track resources in connection with the HTML &lt;track> element.

WebVTT files provide captions or subtitles for video content, and also text video descriptions <a data-link-type="biblio" href="#biblio-maur">[MAUR]</a>, chapters for content navigation, and more generally any form of metadata that is time-aligned with audio or video content.</p>

<p>This specification is based on the <a href="https://w3c.github.io/webvtt/">Draft Community Group Report</a> of the
<a href="https://www.w3.org/community/texttracks/">Web Media Text Tracks Community Group</a>.</p>

  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">

<p> <em>This section describes the status of this document at the time of its publication. Other
documents may supersede this document. A list of current W3C publications and the latest revision
of this technical report can be found in the <a href="https://www.w3.org/TR/">W3C technical reports
index at https://www.w3.org/TR/.</a></em> </p>

<p>This document was produced by the <a href="https://www.w3.org/AudioVideo/TT/">
<abbr title="World Wide Web Consortium">W3C</abbr> Timed Text Working Group</a> as a Candidate
Recommendation. This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr>
Recommendation. If you wish to make comments regarding this document, please send them to
<a href="mailto:public-tt@w3.org?subject=%5Bwebvtt%5D">public-tt@w3.org</a>
(<a href="mailto:public-tt-request@w3.org?subject=subscribe">subscribe</a>,
<a href="http://lists.w3.org/Archives/Public/public-tt/">archives</a>) with <code>[webvtt]</code>
at the start of your email’s subject. All comments are welcome.
<abbr title="World Wide Web Consortium">W3C</abbr> publishes a Candidate Recommendation to indicate
that the document is believed to be stable and to encourage implementation by the developer
community. This document will remain a Candidate Recommendation at least until 2 May 2019
in order to ensure the opportunity for wide review.</p>

<p>Please see the Working Group's <a href="https://www.w3.org/wiki/TimedText/WebVTT_Implementation_Report">Implementation Report</a>.</p>

<p>For this specification to exit the CR stage, at least 2 independent implementations of every
feature defined in this specification need to be documented in the implementation report. The
implementation report is based on implementer-provided test results for the
<a href="https://github.com/web-platform-tests/wpt/tree/master/webvtt">test suite</a>. The Working
Group does not require that implementations are publicly available but encourages them to be so.</p>

<div data-fill-with="at-risk">
  <p>The following features are at-risk, and may be dropped during the CR period:</p>
  <ul>
    <li><a href="#collision-avoidance">collision avoidance with snap-to-lines false</a></li>
    <li><a href="#the-cue-region-pseudo-element">::cue-region pseudo-element</a></li>
    <li><a href="#the-past-and-future-pseudo-classes">:past and :future pseudo-classes</a></li>
  </ul>
</div>

<p>A cumulative summary of all changes applied to this version since the
<a href="https://www.w3.org/TR/2014/WD-webvtt1-20141113/">WebVTT First Public Working Draft</a>
was published is available at <a href="changes.html">Changes from FPWD WebVTT</a>.</p>

<p>For convenience, a complete diff between this version and the WebVTT previous Working Draft was published is found at <a href="diff.html">Diff from previous Working Draft WebVTT</a>.</p>

<p> Publication as a Candidate Recommendation does not imply endorsement by the
<abbr title="World Wide Web Consortium">W3C</abbr> Membership. This is a draft document and may be
updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this
document as other than work in progress. </p>

<p> This document was produced by a group operating under
the <a href="https://www.w3.org/Consortium/Patent-Policy/">W3C Patent Policy</a>.
W3C maintains a <a href="https://www.w3.org/2004/01/pp-impl/49309/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
that page also includes instructions for disclosing a patent.
<abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/34314/status">public list of any patent disclosures</a> made in connection with the
deliverables of the group; that page also includes instructions for disclosing a patent.
An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the W3C Patent Policy</a>.</p>

<p> This document is governed by the <a href="https://www.w3.org/2019/Process-20190301/" id="w3c_process_revision">1 March 2019 W3C Process Document</a>.</p>

  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#introduction-caption"><span class="secno">1.1</span> <span class="content">A simple caption file</span></a>
      <li><a href="#introduction-multiple-lines"><span class="secno">1.2</span> <span class="content">Caption cues with multiple lines</span></a>
      <li><a href="#styling"><span class="secno">1.3</span> <span class="content">Styling captions</span></a>
      <li><a href="#introduction-other-features"><span class="secno">1.4</span> <span class="content">Other caption and subtitling features</span></a>
      <li><a href="#introduction-comments"><span class="secno">1.5</span> <span class="content">Comments in WebVTT</span></a>
      <li><a href="#introduction-chapters"><span class="secno">1.6</span> <span class="content">Chapters example</span></a>
      <li><a href="#introduction-metadata"><span class="secno">1.7</span> <span class="content">Metadata example</span></a>
     </ol>
    <li>
     <a href="#conformance"><span class="secno">2</span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#conformance-classes"><span class="secno">2.1</span> <span class="content">Conformance classes</span></a>
      <li><a href="#unicode-normalization"><span class="secno">2.2</span> <span class="content">Unicode normalization</span></a>
     </ol>
    <li>
     <a href="#data-model"><span class="secno">3</span> <span class="content">Data model</span></a>
     <ol class="toc">
      <li><a href="#model-overview"><span class="secno">3.1</span> <span class="content">Overview</span></a>
      <li><a href="#model-cues"><span class="secno">3.2</span> <span class="content">WebVTT cues</span></a>
      <li><a href="#cues"><span class="secno">3.3</span> <span class="content">WebVTT caption or subtitle cues</span></a>
      <li><a href="#regions"><span class="secno">3.4</span> <span class="content">WebVTT caption or subtitle regions</span></a>
      <li><a href="#chapter-cues"><span class="secno">3.5</span> <span class="content">WebVTT chapter cues</span></a>
      <li><a href="#metadata-cues"><span class="secno">3.6</span> <span class="content">WebVTT metadata cues</span></a>
     </ol>
    <li>
     <a href="#syntax"><span class="secno">4</span> <span class="content">Syntax</span></a>
     <ol class="toc">
      <li><a href="#file-structure"><span class="secno">4.1</span> <span class="content">WebVTT file structure</span></a>
      <li>
       <a href="#types-of-webvtt-cue-payload"><span class="secno">4.2</span> <span class="content">Types of WebVTT cue payload</span></a>
       <ol class="toc">
        <li><a href="#metadata-text"><span class="secno">4.2.1</span> <span class="content">WebVTT metadata text</span></a>
        <li><a href="#caption-text"><span class="secno">4.2.2</span> <span class="content">WebVTT caption or subtitle cue text</span></a>
        <li><a href="#chapter-title-text"><span class="secno">4.2.3</span> <span class="content">WebVTT chapter title text</span></a>
       </ol>
      <li><a href="#region-settings"><span class="secno">4.3</span> <span class="content">WebVTT region settings</span></a>
      <li><a href="#cue-settings"><span class="secno">4.4</span> <span class="content">WebVTT cue settings</span></a>
      <li>
       <a href="#properties-of-cue-sequences"><span class="secno">4.5</span> <span class="content">Properties of cue sequences</span></a>
       <ol class="toc">
        <li><a href="#file-using-only-nested-cues"><span class="secno">4.5.1</span> <span class="content">WebVTT file using only nested cues</span></a>
       </ol>
      <li>
       <a href="#types-of-webvtt-files"><span class="secno">4.6</span> <span class="content">Types of WebVTT files</span></a>
       <ol class="toc">
        <li><a href="#file-using-metadata-content"><span class="secno">4.6.1</span> <span class="content">WebVTT file using metadata content</span></a>
        <li><a href="#file-using-chapter-title-text"><span class="secno">4.6.2</span> <span class="content">WebVTT file using chapter title text</span></a>
        <li><a href="#file-using-cue-text"><span class="secno">4.6.3</span> <span class="content">WebVTT file using caption or subtitle cue text</span></a>
       </ol>
     </ol>
    <li>
     <a href="#default-classes"><span class="secno">5</span> <span class="content">Default classes for WebVTT Caption or Subtitle Cue Components</span></a>
     <ol class="toc">
      <li><a href="#default-text-color"><span class="secno">5.1</span> <span class="content">Default text colors</span></a>
      <li><a href="#default-text-background"><span class="secno">5.2</span> <span class="content">Default text background colors</span></a>
     </ol>
    <li>
     <a href="#parsing"><span class="secno">6</span> <span class="content">Parsing</span></a>
     <ol class="toc">
      <li><a href="#file-parsing"><span class="secno">6.1</span> <span class="content">WebVTT file parsing</span></a>
      <li><a href="#region-settings-parsing"><span class="secno">6.2</span> <span class="content">WebVTT region settings parsing</span></a>
      <li><a href="#cue-timings-and-settings-parsing"><span class="secno">6.3</span> <span class="content">WebVTT cue timings and settings parsing</span></a>
      <li><a href="#cue-text-parsing-rules"><span class="secno">6.4</span> <span class="content">WebVTT cue text parsing rules</span></a>
      <li><a href="#dom-construction-rules"><span class="secno">6.5</span> <span class="content"><span>WebVTT cue text DOM construction rules</span></span></a>
      <li><a href="#rules-for-extracting-the-chapter-title"><span class="secno">6.6</span> <span class="content">WebVTT rules for extracting the chapter
title</span></a>
     </ol>
    <li>
     <a href="#rendering"><span class="secno">7</span> <span class="content">Rendering</span></a>
     <ol class="toc">
      <li><a href="#processing-model"><span class="secno">7.1</span> <span class="content">Processing model</span></a>
      <li><a href="#processing-cue-settings"><span class="secno">7.2</span> <span class="content">Processing cue settings</span></a>
      <li><a href="#obtaining-css-boxes"><span class="secno">7.3</span> <span class="content">Obtaining CSS boxes</span></a>
      <li><a href="#applying-css-properties"><span class="secno">7.4</span> <span class="content">Applying CSS properties to <span>WebVTT Node Objects</span></span></a>
     </ol>
    <li>
     <a href="#css-extensions"><span class="secno">8</span> <span class="content">CSS extensions</span></a>
     <ol class="toc">
      <li><a href="#css-extensions-introduction"><span class="secno">8.1</span> <span class="content">Introduction</span></a>
      <li>
       <a href="#css-extensions-processing-model"><span class="secno">8.2</span> <span class="content">Processing model</span></a>
       <ol class="toc">
        <li><a href="#the-cue-pseudo-element"><span class="secno">8.2.1</span> <span class="content">The <span class="css">::cue</span> pseudo-element</span></a>
        <li><a href="#the-past-and-future-pseudo-classes"><span class="secno">8.2.2</span> <span class="content">The <span class="css">:past</span> and <span class="css">:future</span> pseudo-classes</span></a>
        <li><a href="#the-cue-region-pseudo-element"><span class="secno">8.2.3</span> <span class="content">The <span class="css">::cue-region</span> pseudo-element</span></a>
       </ol>
     </ol>
    <li>
     <a href="#api"><span class="secno">9</span> <span class="content">API</span></a>
     <ol class="toc">
      <li><a href="#the-vttcue-interface"><span class="secno">9.1</span> <span class="content">The <code class="idl"><span>VTTCue</span></code> interface</span></a>
      <li><a href="#the-vttregion-interface"><span class="secno">9.2</span> <span class="content">The <code class="idl"><span>VTTRegion</span></code> interface</span></a>
     </ol>
    <li>
     <a href="#iana"><span class="secno">10</span> <span class="content">IANA considerations</span></a>
     <ol class="toc">
      <li><a href="#iana-text-vtt"><span class="secno">10.1</span> <span class="content"><span><code>text/vtt</code></span></span></a>
     </ol>
    <li>
     <a href="#privacy-and-security-considerations"><span class="secno"></span> <span class="content">Privacy and Security Considerations</span></a>
     <ol class="toc">
      <li><a href="#fromat-security"><span class="secno"></span> <span class="content">Text-based format security</span></a>
      <li><a href="#styling-security"><span class="secno"></span> <span class="content">Styling-related privacy and security</span></a>
      <li><a href="#scripting-security"><span class="secno"></span> <span class="content">Scripting-related security</span></a>
      <li><a href="#privacy-of-preference"><span class="secno"></span> <span class="content">Privacy of preference</span></a>
     </ol>
    <li><a href="#acknowledgements"><span class="secno"></span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p><i>This section is non-normative.</i></p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt">WebVTT</dfn> (Web Video Text Tracks) format is intended for marking up external text
track resources in connection with the HTML &lt;track> element.</p>
   <p>WebVTT files provide captions or subtitles for video content, and also text video descriptions <a data-link-type="biblio" href="#biblio-maur">[MAUR]</a>, chapters for content navigation, and more generally any form of metadata that is
time-aligned with audio or video content.</p>
   <p>The majority of the current version of this specification is dedicated to describing how to use
WebVTT files for captioning or subtitling. There is minimal information about chapters and
time-aligned metadata and nothing about video descriptions at this stage.</p>
   <p>In this section we provide some example WebVTT files as an introduction.</p>
   <h3 class="heading settled" data-level="1.1" id="introduction-caption"><span class="secno">1.1. </span><span class="content">A simple caption file</span><a class="self-link" href="#introduction-caption"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>The main use for WebVTT files is captioning or subtitling video content. Here is a sample file
that captions an interview:</p>
<pre>WEBVTT

00:11.000 --> 00:13.000
&lt;v Roger Bingham>We are in New York City

00:13.000 --> 00:16.000
&lt;v Roger Bingham>We’re actually at the Lucern Hotel, just down the street

00:16.000 --> 00:18.000
&lt;v Roger Bingham>from the American Museum of Natural History

00:18.000 --> 00:20.000
&lt;v Roger Bingham>And with me is Neil deGrasse Tyson

00:20.000 --> 00:22.000
&lt;v Roger Bingham>Astrophysicist, Director of the Hayden Planetarium

00:22.000 --> 00:24.000
&lt;v Roger Bingham>at the AMNH.

00:24.000 --> 00:26.000
&lt;v Roger Bingham>Thank you for walking down here.

00:27.000 --> 00:30.000
&lt;v Roger Bingham>And I want to do a follow-up on the last conversation we did.

00:30.000 --> 00:31.500 align:right size:50%
&lt;v Roger Bingham>When we e-mailed—

00:30.500 --> 00:32.500 align:left size:50%
&lt;v Neil deGrasse Tyson>Didn’t we talk about enough in that conversation?

00:32.000 --> 00:35.500 align:right size:50%
&lt;v Roger Bingham>No! No no no no; 'cos 'cos obviously 'cos

00:32.500 --> 00:33.500 align:left size:50%
&lt;v Neil deGrasse Tyson>&lt;i>Laughs&lt;/i>

00:35.500 --> 00:38.000
&lt;v Roger Bingham>You know I’m so excited my glasses are falling off here.
</pre>
   <p>You can see that a WebVTT file in general consists of a sequence of text segments associated with
a time-interval, called a cue (<a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-1">definition</a>). Beyond captioning and subtitling,
WebVTT can be used for time-aligned metadata, typically in use for delivering name-value pairs in
cues. WebVTT can also be used for delivering chapters, which helps with contextual navigation around
an audio/video file. Finally, WebVTT can be used for the delivery of text video descriptions, which
is text that describes the visual content of time-intervals and can be synthesized to speech to help
vision-impaired users understand context.</p>
   <p class="note" role="note">This version of WebVTT focuses on solving the captioning and subtitling use cases.
More specification work is possible for the other use cases. A decision on what type of use case a
WebVTT file is being used for is made by the software that is using the file. For example, if in use
with a HTML file through a &lt;track> element, the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#kind-of-track">kind</a> attribute
defines how the WebVTT file is to be interpreted.</p>
   <p>The following subsections provide an overview of some of the key features of the WebVTT file
format, particularly when in use for captioning and subtitling.</p>
   <h3 class="heading settled" data-level="1.2" id="introduction-multiple-lines"><span class="secno">1.2. </span><span class="content">Caption cues with multiple lines</span><a class="self-link" href="#introduction-multiple-lines"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>Line breaks in cues are honored. User agents will also insert extra line breaks if necessary to
fit the cue in the cue’s width. In general, therefore, authors are encouraged to write cues all on
one line except when a line break is definitely necessary.</p>
   <div class="example" id="example-c6fa39cb">
    <a class="self-link" href="#example-c6fa39cb"></a> 
    <p>These captions on a public service announcement video demonstrate line breaking:</p>
<pre>WEBVTT

00:01.000 --> 00:04.000
Never drink liquid nitrogen.

00:05.000 --> 00:09.000
— It will perforate your stomach.
— You could die.

00:10.000 --> 00:14.000
The Organisation for Sample Public Service Announcements accepts no liability for the content of this advertisement, or for the consequences of any actions taken on the basis of the information provided.
</pre>
    <p>The first cue is simple, it will probably just display on one line. The second will take two
 lines, one for each speaker. The third will wrap to fit the width of the video, possibly taking
 multiple lines. For example, the three cues could look like this:</p>
<pre>           <samp>Never drink liquid nitrogen.</samp>

        <samp>— It will perforate your stomach.</samp>
                <samp>— You could die.</samp>

    <samp>The Organisation for Sample Public Service</samp>
    <samp>Announcements accepts no liability for the</samp>
    <samp>content of this advertisement, or for the</samp>
     <samp>consequences of any actions taken on the</samp>
        <samp>basis of the information provided.</samp>
</pre>
    <p>If the width of the cues is smaller, the first two cues could wrap as well, as in the following
 example. Note how the second cue’s explicit line break is still honored, however:</p>
<pre>      <samp>Never drink</samp>
    <samp>liquid nitrogen.</samp>

  <samp>— It will perforate</samp>
      <samp>your stomach.</samp>
    <samp>— You could die.</samp>

  <samp>The Organisation for</samp>
  <samp>Sample Public Service</samp>
  <samp>Announcements accepts</samp>
  <samp>no liability for the</samp>
     <samp>content of this</samp>
  <samp>advertisement, or for</samp>
   <samp>the consequences of</samp>
  <samp>any actions taken on</samp>
    <samp>the basis of the</samp>
  <samp>information provided.</samp>
</pre>
    <p>Also notice how the wrapping is done so as to keep the line lengths balanced.</p>
   </div>
   <h3 class="heading settled" data-level="1.3" id="styling"><span class="secno">1.3. </span><span class="content">Styling captions</span><a class="self-link" href="#styling"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>CSS style sheets that apply to an HTML page that contains a <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-video-element">video</a> element can
target WebVTT cues and regions in the video using the <span class="css">::cue</span>, <span class="css">::cue()</span>, <span class="css">::cue-region</span> and <span class="css">::cue-region()</span> pseudo-elements.</p>
   <div class="example" id="example-6a17c0df">
    <a class="self-link" href="#example-6a17c0df"></a> 
    <p>In this example, an HTML page has a CSS style sheet in a <a data-link-type="element" href="https://www.w3.org/TR/html51/document-metadata.html#the-style-element">style</a> element that
 styles all cues in the video with a gradient background and a text color, as well as changing the
 text color for all <a data-link-type="dfn" href="#webvtt-bold-object" id="ref-for-webvtt-bold-object-1">WebVTT Bold Objects</a> in cues in the video.</p>
<pre>&lt;!doctype html>
&lt;html>
 &lt;head>
  &lt;title>Styling WebVTT cues&lt;/title>
  &lt;style>
   video::cue {
     background-image: linear-gradient(to bottom, dimgray, lightgray);
     color: papayawhip;
   }
   video::cue(b) {
     color: peachpuff;
   }
  &lt;/style>
 &lt;/head>
 &lt;body>
  &lt;video controls autoplay src="video.webm">
   &lt;track default src="track.vtt">
  &lt;/video>
 &lt;/body>
&lt;/html>
</pre>
   </div>
   <p>CSS style sheets can also be embedded in WebVTT files themselves.</p>
   <p>Style blocks are placed after any headers but before the first cue, and start with the line
"STYLE". Comment blocks can be interleaved with style blocks.</p>
   <p>Blank lines cannot appear in the style sheet. They can be removed or be filled with a space or a
CSS comment (e.g. <code>/**/</code>).</p>
   <p>The string "<code>--></code>" cannot be used in the style sheet. If the style sheet is wrapped in
"<code>&lt;!--</code>" and "<code>--></code>", then those strings can just be removed. If
"<code>--></code>" appears inside a CSS string, then it can use CSS escaping e.g.
"<code>--\></code>".</p>
   <div class="example" id="example-3f42c0aa">
    <a class="self-link" href="#example-3f42c0aa"></a> 
    <p>This example shows how cues can be styled with style blocks in WebVTT.</p>
<pre>WEBVTT

STYLE
::cue {
  background-image: linear-gradient(to bottom, dimgray, lightgray);
  color: papayawhip;
}
/* Style blocks cannot use blank lines nor "dash dash greater than" */

NOTE comment blocks can be used between style blocks.

STYLE
::cue(b) {
  color: peachpuff;
}

hello
00:00:00.000 --> 00:00:10.000
Hello &lt;b>world&lt;/b>.

NOTE style blocks cannot appear after the first cue.
</pre>
   </div>
   <h3 class="heading settled" data-level="1.4" id="introduction-other-features"><span class="secno">1.4. </span><span class="content">Other caption and subtitling features</span><a class="self-link" href="#introduction-other-features"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>WebVTT also supports some less-often used features.</p>
   <div class="example" id="example-59f83607">
    <a class="self-link" href="#example-59f83607"></a> 
    <p>In this example, the cues have an identifier:</p>
<pre>WEBVTT

test
00:00.000 --> 00:02.000
This is a test.

123
00:00.000 --> 00:02.000
That’s an, an, that’s an L!

crédit de transcription
00:04.000 --> 00:05.000
Transcrit par Célestes™
</pre>
    <p>This allows a style sheet to specifically target the cues.</p>
<pre>/* style for cue: test */
::cue(#test) { color: lime; }
</pre>
    <p>Due to the syntax rules of CSS, some characters need to be escaped with CSS character escape
 sequences. For example, an ID that starts with a number 0-9 needs to be escaped. The ID <code>123</code> can be represented as "\31 23" (31 refers to the Unicode code point for "1"). See <a href="https://www.w3.org/International/questions/qa-escapes">Using character escapes in markup
 and CSS</a> for more information on CSS escapes.</p>
<pre>/* style for cue: 123 */
::cue(#\31 23) { color: lime; }
/* style for cue: crédit de transcription */
::cue(#crédit\ de\ transcription) { color: red; }
</pre>
   </div>
   <div class="example" id="example-3fb8f9dd">
    <a class="self-link" href="#example-3fb8f9dd"></a> 
    <p>This example shows how classes can be used on elements, which can be helpful for localization or
 maintainability of styling, and also how to indicate a language change in the cue text.</p>
<pre>WEBVTT

04:02.500 --> 04:05.000
J’ai commencé le basket à l'âge de 13, 14 ans

04:05.001 --> 04:07.800
Sur les &lt;i.foreignphrase>&lt;lang en>playground&lt;/lang>&lt;/i>, ici à Montpellier
</pre>
   </div>
   <div class="example" id="example-954e004d">
    <a class="self-link" href="#example-954e004d"></a> 
    <p>In this example, each cue says who is talking using voice spans. In the first cue, the span
 specifying the speaker is also annotated with two classes, "first" and "loud". In the third cue,
 there is also some italics text (not associated with a specific speaker). The last cue is annotated
 with just the class "loud".</p>
<pre>WEBVTT

00:00.000 --> 00:02.000
&lt;v.first.loud Esme>It’s a blue apple tree!

00:02.000 --> 00:04.000
&lt;v Mary>No way!

00:04.000 --> 00:06.000
&lt;v Esme>Hee!&lt;/v> &lt;i>laughter&lt;/i>

00:06.000 --> 00:08.000
&lt;v.loud Mary>That’s awesome!
</pre>
    <p>Notice that as a special exception, the voice spans don’t have to be closed if they cover the
 entire cue text.</p>
    <p>Style sheets can style these spans:</p>
<pre>::cue(v[voice="Esme"]) { color: cyan }
::cue(v[voice="Mary"]) { color: lime }
::cue(i) { font-style: italic }
::cue(.loud) { font-size: 2em }
</pre>
   </div>
   <div class="example" id="example-b30cb609">
    <a class="self-link" href="#example-b30cb609"></a> 
    <p>This example shows how to position cues at explicit positions in the video viewport.</p>
<pre>WEBVTT

00:00:00.000 --> 00:00:04.000 position:10%,line-left align:left size:35%
Where did he go?

00:00:03.000 --> 00:00:06.500 position:90% align:right size:35%
I think he went down this lane.

00:00:04.000 --> 00:00:06.500 position:45%,line-right align:center size:35%
What are you waiting for?
</pre>
    <p>Since the cues in these examples are horizontal, the "position" setting refers to a percentage
 of the width of the video viewpoint. If the text were vertical, the "position" setting would refer
 to the height of the video viewport.</p>
    <p>The "line-left" or "line-right" only refers to the physical side of the box to which the
 "position" setting applies, in a way which is agnostic regarding the horizontal or vertical
 direction of the cue. It does not affect or relate to the direction or position of the text itself
 within the box.</p>
    <p>The cues cover only 35% of the video viewport’s width - that’s the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-1">cue
 box</a>’s "size" for all three cues.</p>
    <p>The first cue has its <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-2">cue box</a> positioned at the 10% mark. The
 "line-left" and "line-right" within the "position" setting indicates which side of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-3">cue box</a> the position refers to. Since in this case the text is horizontal,
 "line-left" refers to the left side of the box, and the cue box is thus positioned between the 10%
 and the 45% mark of the video viewport’s width, probably underneath a speaker on the left of the
 video image. If the cue was vertical, "line-left" positioning would be from the top of the video
 viewport’s height and the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-4">cue box</a> would cover 35% of the video
 viewport’s height.</p>
    <p>The text within the first cue’s cue box is aligned using the "align" cue setting. For
 left-to-right rendered text, "start" alignment is the left of that box, for right-to-left rendered
 text the right of the box. So, independent of the directionality of the text, it will stay
 underneath that speaker. Note that "center" position alignment of the cue box is the default for
 start aligned text, in order to avoid having the box move when the base direction of the text
 changes (from left-to-right to right-to-left or vice versa) as a result of translation.</p>
    <p>The second cue has its <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-5">cue box</a> right aligned at the 90% mark of the
 video viewport width ("right" aligned text right aligns the box). The same effect can be achieved
 with "position:55%,line-left", which explicitly positions the cue box. The third cue has center
 aligned text within the same positioned cue box as the first cue.</p>
   </div>
   <div class="example" id="example-cd0199a2">
    <a class="self-link" href="#example-cd0199a2"></a> 
    <p>This example shows two regions containing rollup captions for two different speakers. Fred’s
 cues scroll up in a region in the left half of the video, Bill’s cues scroll up in a region on the
 right half of the video. Fred’s first cue disappears at 12.5sec even though it is defined until
 20sec because its region is limited to 3 lines and at 12.5sec a fourth cue appears:</p>
<pre>WEBVTT

REGION
id:fred
width:40%
lines:3
regionanchor:0%,100%
viewportanchor:10%,90%
scroll:up

REGION
id:bill
width:40%
lines:3
regionanchor:100%,100%
viewportanchor:90%,90%
scroll:up

00:00:00.000 --> 00:00:20.000 region:fred align:left
&lt;v Fred>Hi, my name is Fred

00:00:02.500 --> 00:00:22.500 region:bill align:right
&lt;v Bill>Hi, I’m Bill

00:00:05.000 --> 00:00:25.000 region:fred align:left
&lt;v Fred>Would you like to get a coffee?

00:00:07.500 --> 00:00:27.500 region:bill align:right
&lt;v Bill>Sure! I’ve only had one today.

00:00:10.000 --> 00:00:30.000 region:fred align:left
&lt;v Fred>This is my fourth!

00:00:12.500 --> 00:00:32.500 region:fred align:left
&lt;v Fred>OK, let’s go.
</pre>
    <p>Note that regions are only defined for horizontal cues.</p>
   </div>
   <h3 class="heading settled" data-level="1.5" id="introduction-comments"><span class="secno">1.5. </span><span class="content">Comments in WebVTT</span><a class="self-link" href="#introduction-comments"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>Comments can be included in WebVTT files.</p>
   <p>Comments are just blocks that are preceded by a blank line, start with the word
"<code>NOTE</code>" (followed by a space or newline), and end at the first blank line.</p>
   <div class="example" id="example-44941b0b">
    <a class="self-link" href="#example-44941b0b"></a> 
    <p>Here, a one-line comment is used to note a possible problem with a cue.</p>
<pre>WEBVTT

00:01.000 --> 00:04.000
Never drink liquid nitrogen.

NOTE I’m not sure the timing is right on the following cue.

00:05.000 --> 00:09.000
— It will perforate your stomach.
— You could die.
</pre>
   </div>
   <div class="example" id="example-03a9f3ad">
    <a class="self-link" href="#example-03a9f3ad"></a> 
    <p>In this example, the author has written many comments.</p>
<pre>WEBVTT

NOTE
This file was written by Jill. I hope
you enjoy reading it. Some things to
bear in mind:
- I was lip-reading, so the cues may
not be 100% accurate
- I didn’t pay too close attention to
when the cues should start or end.

00:01.000 --> 00:04.000
Never drink liquid nitrogen.

NOTE check next cue

00:05.000 --> 00:09.000
— It will perforate your stomach.
— You could die.

NOTE end of file
</pre>
   </div>
   <h3 class="heading settled" data-level="1.6" id="introduction-chapters"><span class="secno">1.6. </span><span class="content">Chapters example</span><a class="self-link" href="#introduction-chapters"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>A WebVTT file can consist of chapters, which are navigation markers for the video.</p>
   <p>Chapters are plain text, typically just a single line.</p>
   <div class="example" id="example-5b78f944">
    <a class="self-link" href="#example-5b78f944"></a> 
    <p>In this example, a talk is split into each slide being a chapter.</p>
<pre>WEBVTT

NOTE
This is from a talk Silvia gave about WebVTT.

Slide 1
00:00:00.000 --> 00:00:10.700
Title Slide

Slide 2
00:00:10.700 --> 00:00:47.600
Introduction by Naomi Black

Slide 3
00:00:47.600 --> 00:01:50.100
Impact of Captions on the Web

Slide 4
00:01:50.100 --> 00:03:33.000
Requirements of a Video text format
</pre>
   </div>
   <h3 class="heading settled" data-level="1.7" id="introduction-metadata"><span class="secno">1.7. </span><span class="content">Metadata example</span><a class="self-link" href="#introduction-metadata"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>A WebVTT file can consist of time-aligned metadata.</p>
   <p>Metadata can be any string and is often provided as a JSON construct.</p>
   <p>Note that you cannot provide blank lines inside a metadata block, because the blank line
signifies the end of the WebVTT cue.</p>
   <div class="example" id="example-7e3f730b">
    <a class="self-link" href="#example-7e3f730b"></a> 
    <p>In this example, a talk is split into each slide being a chapter.</p>
<pre>WEBVTT

NOTE
Thanks to http://output.jsbin.com/mugibo

1
00:00:00.100 --> 00:00:07.342
{
 "type": "WikipediaPage",
 "url": "https://en.wikipedia.org/wiki/Samurai_Pizza_Cats"
}

2
00:07.810 --> 00:09.221
{
 "type": "WikipediaPage",
 "url" :"http://samuraipizzacats.wikia.com/wiki/Samurai_Pizza_Cats_Wiki"
}

3
00:11.441 --> 00:14.441
{
 "type": "LongLat",
 "lat" : "36.198269",
 "long": "137.2315355"
}
</pre>
   </div>
   <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span class="content">Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p>All diagrams, examples, and notes in this specification are non-normative, as are all sections
explicitly marked non-normative. Everything else in this specification is normative.</p>
   <p>The key words "MUST", "MUST NOT", "SHOULD", "SHOULD NOT", "MAY", and "OPTIONAL" in the normative
parts of this document are to be interpreted as described in RFC2119. The key word "OPTIONALLY" in
the normative parts of this document is to be interpreted with the same normative meaning as "MAY"
and "OPTIONAL". For readability, these words do not appear in all uppercase letters in this
specification. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a></p>
   <p>Requirements phrased in the imperative as part of algorithms (such as "strip any leading space
characters" or "return false and abort these steps") are to be interpreted with the meaning of the
key word ("must", "should", "may", etc) used in introducing the algorithm.</p>
   <p>Conformance requirements phrased as algorithms or specific steps may be implemented in any
manner, so long as the end result is equivalent. (In particular, the algorithms defined in this
specification are intended to be easy to follow, and not intended to be performant.)</p>
   <h3 class="heading settled" data-level="2.1" id="conformance-classes"><span class="secno">2.1. </span><span class="content">Conformance classes</span><a class="self-link" href="#conformance-classes"></a></h3>
   <p>This specification describes the conformance criteria for user agents (relevant to implementors)
and <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-1">WebVTT files</a> (relevant to authors and authoring tool implementors).</p>
   <p class="note" role="note"><a href="#syntax">§4 Syntax</a> defines what consists of a valid <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-2">WebVTT file</a>. Authors need to
follow the requirements therein, and are encouraged to use a conformance checker. <a href="#parsing">§6 Parsing</a> defines how user agents are to interpret a file labelled as <a data-link-type="dfn" href="#text-vtt" id="ref-for-text-vtt-1">text/vtt</a>, for both valid and
invalid <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-3">WebVTT files</a>. The parsing rules are more tolerant to author errors than the syntax
allows, in order to provide for extensibility and to still render cues that have some syntax
errors.</p>
   <p class="example" id="example-a403a5ba"><a class="self-link" href="#example-a403a5ba"></a>For example, the parser will create two cues even if the blank line between them is
skipped. This is clearly a mistake, so a conformance checker will flag it as an error, but it is
still useful to render the cues to the user.</p>
   <p>User agents fall into several (possibly overlapping) categories with different conformance
requirements.</p>
   <dl>
    <dt>User agents that support scripting
    <dd>
     <p>All processing requirements in this specification apply. The user agent must also be
 conforming implementations of the IDL fragments in this specification, as described in the Web IDL
 specification. <a data-link-type="biblio" href="#biblio-webidl-1">[WEBIDL-1]</a></p>
    <dt>User agents with no scripting support
    <dd>
     <p>All processing requirements in this specification apply, except those in <a href="#dom-construction-rules">§6.5 WebVTT cue text DOM construction rules</a> and <a href="#api">§9 API</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="user-agents-that-do-not-support-css">User agents that do not support CSS</dfn>
    <dd>
     <p>All processing requirements in this specification apply, except parts of <a href="#parsing">§6 Parsing</a> that
 relate to stylesheets and CSS, and all of <a href="#rendering">§7 Rendering</a> and <a href="#css-extensions">§8 CSS extensions</a>. The user agent
 must instead only render the text inside <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-1">WebVTT caption or subtitle cue text</a> in an
 appropriate manner and specifically support the color classes defined in <a href="#default-classes">§5 Default classes for WebVTT Caption or Subtitle Cue Components</a>. Any
 other styling instructions are optional.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="user-agents-that-do-not-support-a-full-html-css-engine">User agents that do not support a full HTML CSS engine</dfn>
    <dd>
     <p>All processing requirements in this specification apply, including the color classes defined
 in <a href="#default-classes">§5 Default classes for WebVTT Caption or Subtitle Cue Components</a>. However, the user agent will need to apply the CSS related features in <a href="#parsing">§6 Parsing</a>, <a href="#rendering">§7 Rendering</a> and <a href="#css-extensions">§8 CSS extensions</a> in such a way that the rendered results are
 equivalent to what a full CSS supporting renderer produces.</p>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="user-agents-that-support-a-full-html-css-engine">User agents that support a full HTML CSS engine<a class="self-link" href="#user-agents-that-support-a-full-html-css-engine"></a></dfn>
    <dd>
     <p>All processing requirements in this specification apply. However, only a limited set of CSS
 styles is allowed because <a data-link-type="dfn" href="#user-agents-that-do-not-support-a-full-html-css-engine" id="ref-for-user-agents-that-do-not-support-a-full-html-css-engine-1">user agents that do not support a full HTML CSS engine</a> will need
 to implement CSS functionality equivalents. User agents that support a full CSS engine must
 therefore limit the CSS styles they apply for WebVTT so as to enable identical rendering without
 bleeding in extra CSS styles that are beyond the WebVTT specification.</p>
    <dt>Conformance checkers
    <dd>
     <p>Conformance checkers must verify that a <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-4">WebVTT file</a> conforms to the applicable
 conformance criteria described in this specification. The term "validator" is equivalent to
 conformance checker for the purpose of this specification.</p>
    <dt>Authoring tools
    <dd>
     <p>Authoring tools must generate conforming <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-5">WebVTT files</a>. Tools that convert other formats
  to <a data-link-type="dfn" href="#webvtt" id="ref-for-webvtt-1">WebVTT</a> are also considered to be authoring tools.</p>
     <p>When an authoring tool is used to edit a non-conforming <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-6">WebVTT file</a>, it may preserve the
  conformance errors in sections of the file that were not edited during the editing session (i.e.
  an editing tool is allowed to round-trip erroneous content). However, an authoring tool must not
  claim that the output is conformant if errors have been so preserved.</p>
   </dl>
   <h3 class="heading settled" data-level="2.2" id="unicode-normalization"><span class="secno">2.2. </span><span class="content">Unicode normalization</span><a class="self-link" href="#unicode-normalization"></a></h3>
   <p>Implementations of this specification must not normalize Unicode text during processing.</p>
   <p class="example" id="example-aaaec267"><a class="self-link" href="#example-aaaec267"></a>For example, a cue with an identifier consisting of the characters U+0041 LATIN
CAPITAL LETTER A followed by U+030A COMBINING RING ABOVE (a decomposed character sequence), or the
character U+212B ANGSTROM SIGN (a compatibility character), will not match a selector targeting a
cue with an ID consisting of the character U+00C5 LATIN CAPITAL LETTER A WITH RING ABOVE (a
precomposed character).</p>
   <h2 class="heading settled" data-level="3" id="data-model"><span class="secno">3. </span><span class="content">Data model</span><a class="self-link" href="#data-model"></a></h2>
   <p class="note" role="note">The box model of WebVTT consists of three key elements: the video viewport, cues, and
regions. The video viewport is the rendering area into which cues and regions are rendered. Cues are
boxes consisting of a set of cue lines. Regions are subareas of the video viewport that are used to
group cues together. Cues are positioned either inside the video viewport directly or inside a
region, which is positioned inside the video viewport.</p>
   <p class="note" role="note">The position of a cue inside the video viewport is defined by a set of cue settings.
The position of a region inside the video viewport is defined by a set of region settings. Cues that
are inside regions can only use a limited set of their cue settings. Specifically, if the cue has a
"vertical", "line" or "size" setting, the cue drops out of the region. Otherwise, the cue’s width is
calculated to be relative to the region width rather than the viewport. </p>
   <h3 class="heading settled" data-level="3.1" id="model-overview"><span class="secno">3.1. </span><span class="content">Overview</span><a class="self-link" href="#model-overview"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>The WebVTT file is a container file for chunks of data that are time-aligned with a video or
audio resource. It can therefore be regarded as a serialisation format for time-aligned data.</p>
   <p>A WebVTT file starts with a header and then contains a series of data blocks. If a data block has
a start and end time, it is called a WebVTT cue. A comment is another kind of data block.</p>
   <p>Different kinds of data can be carried in WebVTT files. The HTML specification identifies
captions, subtitles, chapters, audio descriptions and metadata as data kinds and specifies which one
is being used in the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#kind-of-track">text track kind</a> attribute of the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a> element <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a>.</p>
   <p>A WebVTT file must only contain data of one kind, never a mix of different kinds of data. The
data kind of a WebVTT file is externally specified, such as in a HTML file’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a> element. The environment is responsible for interpreting the data correctly.</p>
   <p>WebVTT caption or subtitle cues are rendered as overlays on top of a video viewport or into a
region, which is a subarea of the video viewport.</p>
   <h3 class="heading settled" data-level="3.2" id="model-cues"><span class="secno">3.2. </span><span class="content">WebVTT cues</span><a class="self-link" href="#model-cues"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue">WebVTT cue</dfn> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#cue">text track cue</a> <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a> that additionally consist of the
following: </p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="cue text" data-noexport="" id="cue-text">A cue text</dfn>
    <dd>
     <p>The raw text of the cue, and rules for its interpretation.</p>
   </dl>
   <h3 class="heading settled" data-level="3.3" id="cues"><span class="secno">3.3. </span><span class="content">WebVTT caption or subtitle cues</span><a class="self-link" href="#cues"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-caption-or-subtitle-cue">WebVTT caption or subtitle cue</dfn> is a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-2">WebVTT cue</a> that has the following
additional properties allowing the <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-1">cue text</a> to be rendered and converted to a DOM
fragment:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue box" data-noexport="" id="webvtt-cue-box">A cue box</dfn>
    <dd>
     <p>The cue box of a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-3">WebVTT cue</a> is a box within which the text of all lines of the cue is to
  be rendered. It is either rendered into the video’s viewport or a region inside the viewport if
  the cue is part of a region.</p>
     <p class="note" role="note">The position of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-6">cue box</a> within the video viewport’s
  or region’s dimensions depends on the value of the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-1">WebVTT cue position</a> and the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-1">WebVTT
  cue line</a>.</p>
     <p class="note" role="note">Lines are wrapped within the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-7">cue box</a>’s <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-1">size</a> if lines' lengths make this necessary.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue writing direction" data-noexport="" id="webvtt-cue-writing-direction">A writing direction</dfn>
    <dd>
     <p>A writing direction, either</p>
     <ul>
      <li><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue horizontal writing direction" data-noexport="" id="webvtt-cue-horizontal-writing-direction">horizontal</dfn> (a line extends
   horizontally and is offset vertically from the video viewport’s top edge, with consecutive lines
   displayed below each other),
      <li><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue vertical growing left writing direction" data-noexport="" id="webvtt-cue-vertical-growing-left-writing-direction">vertical growing left</dfn> (a
   line extends vertically and is offset horizontally from the video viewport’s right edge, with
   consecutive lines displayed to the left of each other), or
      <li><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue vertical growing right writing direction" data-noexport="" id="webvtt-cue-vertical-growing-right-writing-direction">vertical growing right</dfn> (a
   line extends vertically and is offset horizontally from the video viewport’s left edge, with
   consecutive lines displayed to the right of each other).
     </ul>
     <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-1">writing direction</a> affects the
  interpretation of the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-2">line</a>, <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-2">position</a>,
  and <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-2">size</a> cue settings to be interpreted with respect to either the
  width or height of the video.</p>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-2">writing direction</a> is set to to <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-1">horizontal</a>.</p>
     <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-1">vertical growing
  left</a> writing direction could be used for vertical Chinese, Japanese, and Korean, and the <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-1">vertical growing right</a> writing
  direction could be used for vertical Mongolian.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue snap-to-lines flag" data-noexport="" id="webvtt-cue-snap-to-lines-flag">A snap-to-lines flag</dfn>
    <dd>
     <p>A boolean indicating whether the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-3">line</a> is an integer number of lines
  (using the line dimensions of the first line of the cue), or whether it is a percentage of the
  dimension of the video. The flag is set to true when lines are counted, and false otherwise.</p>
     <p>Cues where the flag is false will be offset as requested modulo overlap avoidance if multiple
  cues are in the same place.</p>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-1">snap-to-lines flag</a> is set to
  true.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue line" data-noexport="" id="webvtt-cue-line">A line</dfn>
    <dd>
     <p>The <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-4">line</a> defines positioning of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-8">cue
  box</a>.</p>
     <p>The <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-5">line</a> offsets the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-9">cue box</a> from the
  top, the right or left of the video viewport as defined by the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-3">writing direction</a>, the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-2">snap-to-lines
  flag</a>, or the lines occupied by any other showing tracks.</p>
     <p>The <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-6">line</a> is set either as a number of lines, a percentage of the
  video viewport height or width, or as the special value <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue line
  automatic" data-noexport="" id="webvtt-cue-line-automatic">auto</dfn>, which means the offset is to depend on the other showing tracks.</p>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-7">line</a> is set to <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-1">auto</a>.</p>
     <p>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-4">writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-2">horizontal</a>, then the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-8">line</a> percentages are relative to the height of the video, otherwise to the width of the video.</p>
     <p>A <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-4">WebVTT cue</a> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="cue computed line" data-noexport="" id="cue-computed-line">computed line</dfn> whose value is that
  returned by the following algorithm, which is defined in terms of the other aspects of the
  cue:</p>
     <ol class="algorithm" data-algorithm="computed line">
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-9">line</a> is numeric, the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-3">WebVTT cue snap-to-lines flag</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-5">WebVTT cue</a> is false, and the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-10">line</a> is negative or
    greater than 100, then return 100 and abort these steps.</p>
       <p class="note" role="note">Although the <a data-link-type="dfn" href="#webvtt-parser" id="ref-for-webvtt-parser-1">WebVTT parser</a> will not set the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-11">line</a> to a number outside the range 0..100 and also set the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-4">WebVTT cue snap-to-lines
    flag</a> to false, this can happen when using the DOM API’s <code class="idl"><a data-link-type="idl" href="#dom-vttcue-snaptolines" id="ref-for-dom-vttcue-snaptolines-1">snapToLines</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-vttcue-line" id="ref-for-dom-vttcue-line-1">line</a></code> attributes.</p>
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-12">line</a> is numeric, return the value of the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-13">WebVTT cue
   line</a> and abort these steps. (Either the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-5">WebVTT cue snap-to-lines flag</a> is true, so any
   value, not just those in the range 0..100, is valid, or the value is in the range 0..100 and is
   thus valid regardless of the value of that flag.)</p>
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-6">WebVTT cue snap-to-lines flag</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-6">WebVTT cue</a> is false, return the
   value 100 and abort these steps. (The <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-14">line</a> is the special value <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-2">auto</a>.)</p>
      <li>
       <p>Let <var>cue</var> be the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-7">WebVTT cue</a>.</p>
      <li>
       <p>If <var>cue</var> is not in a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#list-of-cues">list of cues</a> of a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text
   track</a>, or if that <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a> is not in the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#list-of-text-tracks">list of text tracks</a> of a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media
   element</a>, return −1 and abort these steps.</p>
      <li>
       <p>Let <var>track</var> be the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a> whose <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#list-of-cues">list of
   cues</a> the <var>cue</var> is in.</p>
      <li>
       <p>Let <var>n</var> be the number of <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text tracks</a> whose <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#a-mode">text track mode</a> is <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#modedef-track-showing">showing</a> and that are in the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#list-of-text-tracks">list of text tracks</a> before <var>track</var>.</p>
      <li>
       <p>Increment <var>n</var> by one.</p>
      <li>
       <p>Negate <var>n</var>.</p>
      <li>
       <p>Return <var>n</var>.</p>
     </ol>
     <p class="example" id="example-d1c46c31"><a class="self-link" href="#example-d1c46c31"></a>For example, if two <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text tracks</a> are <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#modedef-track-showing">showing</a> at the same time in one <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a>, and each <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a> currently has an active <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-8">WebVTT cue</a> whose <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-15">line</a> are both <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-3">auto</a>, then the first <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a>’s cue’s <a data-link-type="dfn" href="#cue-computed-line" id="ref-for-cue-computed-line-1">computed line</a> will be −1 and the second will be −2.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue line alignment" data-noexport="" id="webvtt-cue-line-alignment">A line alignment</dfn>
    <dd>
     <p>An alignment for the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-10">cue box</a>’s <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-16">line</a>, one
  of:</p>
     <dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue line start alignment" data-noexport="" id="webvtt-cue-line-start-alignment">Start alignment</dfn>
      <dd>The <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-11">cue box</a>’s top side (for <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-3">horizontal</a> cues), left side (for <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-2">vertical growing right</a>), or right side (for <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-2">vertical growing left</a>) is aligned at the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-17">line</a>.
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue line center alignment" data-noexport="" id="webvtt-cue-line-center-alignment">Center alignment</dfn>
      <dd>The <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-12">cue box</a> is centered at the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-18">line</a>.
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue line end alignment" data-noexport="" id="webvtt-cue-line-end-alignment">End alignment</dfn>
      <dd>The <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-13">cue box</a>’s bottom side (for <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-4">horizontal</a> cues), right side (for <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-3">vertical growing right</a>), or left side (for <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-3">vertical growing left</a>) is aligned at the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-19">line</a>.
     </dl>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-1">line alignment</a> is set to <a data-link-type="dfn" href="#webvtt-cue-line-start-alignment" id="ref-for-webvtt-cue-line-start-alignment-1">start</a>.</p>
     <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-2">line alignment</a> is separate from the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-1">text alignment</a> — right-to-left vs. left-to-right cue text
  does not affect the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-3">line alignment</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue position" data-noexport="" id="webvtt-cue-position">A position</dfn>
    <dd>
     <p>The <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-3">position</a> defines the indent of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-14">cue box</a> in the direction defined by the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-5">writing
  direction</a>.</p>
     <p>The <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-4">position</a> is either a number giving the position of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-15">cue box</a> as a percentage value or the special value <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue
  automatic position" data-noexport="" id="webvtt-cue-automatic-position">auto</dfn>, which means the position is to depend on the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-2">text alignment</a> of the cue.</p>
     <p>If the cue is not within a <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-1">region</a>, the percentage value is to be
  interpreted as a percentage of the video dimensions, otherwise as a percentage of the region
  dimensions.</p>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-5">position</a> is set to <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-1">auto</a>.</p>
     <p>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-6">writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-5">horizontal</a>, then the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-6">position</a> percentages are relative to the width of the video, otherwise to the height of the video.</p>
     <p>A <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-9">WebVTT cue</a> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="cue computed position" data-noexport="" id="cue-computed-position">computed position</dfn> whose value
  is that returned by the following algorithm, which is defined in terms of the other aspects of the
  cue:</p>
     <ol class="algorithm" data-algorithm="computed position">
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-7">position</a> is numeric between 0 and 100, then return
   the value of the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-8">position</a> and abort these steps. (Otherwise, the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-9">position</a> is the special value <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-2">auto</a>.)</p>
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-3">cue text alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-left-alignment" id="ref-for-webvtt-cue-left-alignment-1">left</a>, return 0 and abort these steps.</p>
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-4">cue text alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-right-alignment" id="ref-for-webvtt-cue-right-alignment-1">right</a>, return 100 and abort these steps.</p>
      <li>
       <p>Otherwise, return 50 and abort these steps.</p>
     </ol>
     <p class="note" role="note">Since the default value of the <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-1">WebVTT cue position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-1">center</a>, if there is no <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-5">WebVTT cue text alignment</a> setting for a cue, the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-10">WebVTT cue position</a> defaults to 50%.</p>
     <p class="note" role="note">Even for <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-6">horizontal</a> cues with
  right-to-left cue text, the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-16">cue box</a> is positioned from the left edge of
  the video viewport. This allows defining a rendering space template which can be filled with
  either left-to-right or right-to-left cue text, or both.</p>
     <p>For <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-10">WebVTT cues</a> that have a <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-3">size</a> other than 100%, and a <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-6">text alignment</a> of <a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-1">start</a> or <a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-1">end</a>, authors must not use the default <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-3">auto</a> <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-11">position</a>.</p>
     <p class="note" role="note">When the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-7">text alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-2">start</a> or <a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-2">end</a>, the <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-4">auto</a> <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-12">position</a> is 50%. This is different
  from <a data-link-type="dfn" href="#webvtt-cue-left-alignment" id="ref-for-webvtt-cue-left-alignment-2">left</a> and <a data-link-type="dfn" href="#webvtt-cue-right-alignment" id="ref-for-webvtt-cue-right-alignment-2">right</a> aligned text, where the <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-5">auto</a> <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-13">position</a> is 0% and 100%, respectively. The above requirement is present because it
  can be surprising that automatic positioning doesn’t work for <a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-3">start</a> or <a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-3">end</a> aligned text. Since <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-2">cue
  text</a> can consist of text with left-to-right base direction, or right-to-left base direction,
  or both (on different lines), such automatic positioning would have unexpected results.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue position alignment" data-noexport="" id="webvtt-cue-position-alignment">A position alignment</dfn>
    <dd>
     <p>An alignment for the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-17">cue box</a> in the dimension of the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-7">writing direction</a>, describing what the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-14">position</a> is anchored to, one of:</p>
     <dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue position line-left alignment" data-noexport="" id="webvtt-cue-position-line-left-alignment">Line-left alignment</dfn>
      <dd>The <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-18">cue box</a>’s left side (for <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-7">horizontal</a> cues) or top side (otherwise) is aligned at the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-15">position</a>.
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue position center alignment" data-noexport="" id="webvtt-cue-position-center-alignment">Center alignment</dfn>
      <dd>The <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-19">cue box</a> is centered at the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-16">position</a>.
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue position line-right alignment" data-noexport="" id="webvtt-cue-position-line-right-alignment">Line-right alignment</dfn>
      <dd>The <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-20">cue box</a>’s right side (for <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-8">horizontal</a> cues) or bottom side (otherwise) is aligned at the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-17">position</a>.
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue position automatic alignment" data-noexport="" id="webvtt-cue-position-automatic-alignment">Auto alignment</dfn>
      <dd>The <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-21">cue box</a>’s alignment depends on the value of the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-8">text alignment</a> of the cue.
     </dl>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-2">position alignment</a> is set to <a data-link-type="dfn" href="#webvtt-cue-position-automatic-alignment" id="ref-for-webvtt-cue-position-automatic-alignment-1">auto</a>.</p>
     <p>A <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-11">WebVTT cue</a> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="cue computed position alignment" data-noexport="" id="cue-computed-position-alignment">computed position
  alignment</dfn> whose value is that returned by the following algorithm, which is defined in terms
  of other aspects of the cue:</p>
     <ol class="algorithm" data-algorithm="computed position alignment">
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-3">WebVTT cue position alignment</a> is not <a data-link-type="dfn" href="#webvtt-cue-position-automatic-alignment" id="ref-for-webvtt-cue-position-automatic-alignment-2">auto</a>, then return the value of the <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-4">WebVTT cue position alignment</a> and abort
   these steps.</p>
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-9">WebVTT cue text alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-left-alignment" id="ref-for-webvtt-cue-left-alignment-3">left</a>,
   return <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-1">line-left</a> and abort these
   steps.</p>
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-10">WebVTT cue text alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-right-alignment" id="ref-for-webvtt-cue-right-alignment-3">right</a>,
   return <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-1">line-right</a> and abort these
   steps.</p>
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-11">WebVTT cue text alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-4">start</a>,
   return <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-2">line-left</a> if the base direction of the
   cue text is left-to-right, <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-2">line-right</a> otherwise.</p>
      <li>
       <p>If the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-12">WebVTT cue text alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-4">end</a>,
   return <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-3">line-right</a> if the base direction of
   the cue text is left-to-right, <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-3">line-left</a> otherwise.</p>
      <li>
       <p>Otherwise, return <a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-2">center</a>.</p>
     </ol>
     <p class="note" role="note">Since the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-18">position</a> always measures from the left
  of the video (for <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-9">horizontal</a> cues) or the top
  (otherwise), the <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-5">WebVTT cue position alignment</a> <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-4">line-left</a> value varies between left and top for horizontal and vertical cues.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue size" data-noexport="" id="webvtt-cue-size">A size</dfn>
    <dd>
     <p>A number giving the size of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-22">cue box</a>, to be interpreted as a
  percentage of the video, as defined by the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-8">writing
  direction</a>.</p>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-4">WebVTT cue size</a> is set to 100%.</p>
     <p>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-9">writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-10">horizontal</a>, then the <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-5">size</a> percentages are relative to the width of the video, otherwise to the height of the video.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue text alignment" data-noexport="" id="webvtt-cue-text-alignment">A text alignment</dfn>
    <dd>
     <p>An alignment for all lines of text within the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-23">cue box</a>, in the
  dimension of the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-10">writing direction</a>, one of:</p>
     <dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue start alignment" data-noexport="" id="webvtt-cue-start-alignment">Start alignment</dfn>
      <dd>The text of each line is individually aligned towards the start side of the box, where the
   start side for that line is determined by using the CSS rules for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-4/#valdef-unicode-bidi-plaintext">plaintext</a> value of the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi">unicode-bidi</a> property. <a data-link-type="biblio" href="#biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]</a>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue center alignment" data-noexport="" id="webvtt-cue-center-alignment">Center alignment</dfn>
      <dd>The text is aligned centered between the box’s start and end sides.
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue end alignment" data-noexport="" id="webvtt-cue-end-alignment">End alignment</dfn>
      <dd>The text of each line is individually aligned towards the end side of the box, where the end
   side for that line is determined by using the CSS rules for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-4/#valdef-unicode-bidi-plaintext">plaintext</a> value of
   the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi">unicode-bidi</a> property. <a data-link-type="biblio" href="#biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]</a>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue left alignment" data-noexport="" id="webvtt-cue-left-alignment">Left alignment</dfn>
      <dd>The text is aligned to the box’s left side (for <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-11">horizontal</a> cues) or top side (otherwise).
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue right alignment" data-noexport="" id="webvtt-cue-right-alignment">Right alignment</dfn>
      <dd>The text is aligned to the box’s right side (for <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-12">horizontal</a> cues) or bottom side (otherwise).
     </dl>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-13">text alignment</a> is set to <a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-3">center</a>.</p>
     <p class="note" role="note">The base direction of each line in a cue (which is used by the Unicode Bidirectional
  Algorithm to determine the order in which to display the characters in the line) is determined by
  looking up the first strong directional character in each line, using the CSS <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-4/#valdef-unicode-bidi-plaintext">plaintext</a> algorithm. In the occasional cases where the first strong character on
  a line would produce the wrong base direction for that line, the author can use an U+200E
  LEFT-TO-RIGHT MARK or U+200F RIGHT-TO-LEFT MARK character at the start of the line to correct it. <a data-link-type="biblio" href="#biblio-bidi">[BIDI]</a></p>
     <div class="example" id="example-4a66a3ef">
      <a class="self-link" href="#example-4a66a3ef"></a> 
      <p>In this example, the second cue will have a right-to-left base direction, rendering as
   "<samp><bdo dir="ltr">.I think ,يلاع</bdo></samp>". (Note that the text
   below shows all characters left-to-right; a text editor would not necessarily have the same
   rendering.)</p>
<pre>WEBVTT

00:00:07.000 --> 00:00:09.000
What was his name again?

00:00:09.000 --> 00:00:11.000
<bdo dir="ltr">عالي, I think.</bdo>
</pre>
      <p>To change that line to left-to-right base direction, start the line with an U+200E
   LEFT-TO-RIGHT MARK character (it can be escaped as "<code>&amp;lrm;</code>").</p>
     </div>
     <p class="note" role="note">Where the base direction of some embedded text within a line needs to be different
  from the surrounding text on that line, this can be achieved by using the paired Unicode bidi
  formatting code characters.</p>
     <div class="example" id="example-89bafe37">
      <a class="self-link" href="#example-89bafe37"></a> 
      <p>In this example, assuming no bidi formatting code characters are used, the cue text is
   rendered as "<samp><bdo dir="ltr">I’ve read the book 3 דנליונ
   times!</bdo></samp>" (i.e. the "3" is on the wrong side of the book title) because of the effect
   of the Unicode Bidirection Algorithm. (Again, the text below shows all characters
   left-to-right.)</p>
<pre>WEBVTT

00:00:04.000 --> 00:00:08.000
<bdo dir="ltr">I’ve read the book נוילנד 3 times!</bdo>
</pre>
      <p>If a U+2068 FIRST STRONG ISOLATE (FSI) character was placed before the book title and a U+2069
   POP DIRECTIONAL ISOLATE (PDI) character after it, the rendering would be the intended "<samp><bdo dir="ltr">I’ve read the book דנליונ 3 times!</bdo></samp>".
   (Those characters can be escaped as "<code>&amp;#x2068;</code>" and "<code>&amp;#x2069;</code>",
   respectively.)</p>
     </div>
     <p class="note" role="note">The default text alignment is <a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-4">center
  alignment</a> regardless of the base direction of the cue text. To make the text alignment of each
  line match the base direction of the line (e.g. left for English, right for Hebrew), use <a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-5">start alignment</a>, or <a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-5">end
  alignment</a> for the opposite alignment.</p>
     <div class="example" id="example-73203b99">
      <a class="self-link" href="#example-73203b99"></a> 
      <p>In this example, <a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-6">start alignment</a> is used. The first
   line is left-aligned because the base direction is left-to-right, and the second line is
   right-aligned because the base direction is right-to-left.</p>
<pre>WEBVTT

00:00:00.000 --> 00:00:05.000 align:start
Hello!
<bdo dir="ltr">שלום!</bdo>
</pre>
      <p>This would render as follows:</p>
<pre><samp>Hello!</samp>
                                            <samp><bdo dir="ltr">!םולש</bdo></samp>
</pre>
     </div>
     <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-cue-left-alignment" id="ref-for-webvtt-cue-left-alignment-4">left alignment</a> and <a data-link-type="dfn" href="#webvtt-cue-right-alignment" id="ref-for-webvtt-cue-right-alignment-4">right alignment</a> can be used to left-align or right-align the cue text regardless of
  its lines' base direction.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue region" data-noexport="" id="webvtt-cue-region">A region</dfn>
    <dd>
     <p>An optional <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-2">WebVTT region</a> to which a cue belongs.</p>
     <p>By default, the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-3">region</a> is set to null.</p>
   </dl>
   <p>The associated <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#rules-for-updating-the-text-track-rendering">rules for updating the text track rendering</a> of <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-12">WebVTT
cues</a> are the <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-1">rules for updating the display of WebVTT text tracks</a>.</p>
   <div class="impl">
    <p>When a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-13">WebVTT cue</a> whose <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-active-flag">active flag</a> is set has its <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-11">writing direction</a>, <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-7">snap-to-lines flag</a>, <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-20">line</a>, <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-4">line alignment</a>, <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-19">position</a>, <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-6">position alignment</a>, <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-6">size</a>, <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-14">text alignment</a>, <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-1">region</a>, or <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-3">text</a> change value, then the user agent must empty the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-display-state">text track cue display state</a>, and then
 immediately run the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a>’s <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-2">rules for updating the display of WebVTT text
 tracks</a>.</p>
   </div>
   <h3 class="heading settled" data-level="3.4" id="regions"><span class="secno">3.4. </span><span class="content">WebVTT caption or subtitle regions</span><a class="self-link" href="#regions"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region">WebVTT region</dfn> represents a subpart of the video viewport and provides a limited
rendering area for <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue" id="ref-for-webvtt-caption-or-subtitle-cue-1">WebVTT caption or subtitle cues</a>.</p>
   <p class="note" role="note">Regions provide a means to group caption or subtitle cues so the cues can be rendered
together, which is particularly important when scrolling up.</p>
   <p>Each <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-4">WebVTT region</a> consists of:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT region identifier" data-noexport="" id="webvtt-region-identifier">An identifier</dfn>
    <dd>
     <p>An arbitrary string of zero or more characters other than U+0020 SPACE or U+0009 CHARACTER
  TABULATION character. The string must not contain the substring "-->" (U+002D HYPHEN-MINUS, U+002D
  HYPHEN-MINUS, U+003E GREATER-THAN SIGN). Defaults to the empty string.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT region width" data-noexport="" id="webvtt-region-width">A width</dfn>
    <dd>
     <p>A number giving the width of the box within which the text of each line of the containing cues
  is to be rendered, to be interpreted as a percentage of the video width. Defaults to 100.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT region lines" data-noexport="" id="webvtt-region-lines">A lines value</dfn>
    <dd>
     <p>A number giving the number of lines of the box within which the text of each line of the
  containing cues is to be rendered. Defaults to 3.</p>
     <p class="note" role="note">Since a WebVTT region defines a fixed rendering area, a cue that has more lines
  than the region allows will be clipped. For scrolling regions, the clipping happens at the top,
  for non-scrolling regions it happens at the bottom.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT region anchor" data-noexport="" id="webvtt-region-anchor">A region anchor point</dfn>
    <dd>
     <p>Two numbers giving the x and y coordinates within the region which is anchored to the video
  viewport and does not change location even when the region does, e.g. because of font size
  changes. Defaults to (0,100), i.e. the bottom left corner of the region.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT region viewport anchor" data-noexport="" id="webvtt-region-viewport-anchor">A region viewport anchor point</dfn>
    <dd>
     <p>Two numbers giving the x and y coordinates within the video viewport to which the region anchor
  point is anchored. Defaults to (0,100), i.e. the bottom left corner of the video viewport.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT region scroll" data-noexport="" id="webvtt-region-scroll">A scroll value</dfn>
    <dd>
     <p>One of the following:</p>
     <dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT region scroll none" data-noexport="" id="webvtt-region-scroll-none">None</dfn>
      <dd>Indicates that the cues in the region are not to scroll and instead stay fixed at the
   location they were first painted in.
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT region scroll up" data-noexport="" id="webvtt-region-scroll-up">Up</dfn>
      <dd>Indicates that the cues in the region will be added at the bottom of the region and push any
   already displayed cues in the region up until all lines of the new cue are visible in the
   region.
     </dl>
   </dl>
   <div class="note" role="note">
    <p>The following diagram illustrates how anchoring of a region to a video viewport works. The black
 cross is the anchor, orange explains the anchor’s offset within the region and green the anchor’s
 offset within the video viewport. Think of it as sticking a pin through a note onto a board:</p>
    <p><img alt="visual explanation of WebVTT regions" longdesc="#regionsExplained" src="webvtt-region-diagram.png"></p>
    <p id="regionsExplained">Image description: Within the video viewport, there is a WebVTT region.
 Inside the region, there is an anchor point marked with a black cross. The vertical and horizontal
 distance from the video viewport’s edges to the anchor is marked with green arrows, representing
 the region viewport anchor X and Y offsets. The vertical and horizontal distance from the region’s
 edges to the anchor is marked with orange arrows, representing the region anchor X and Y offsets.
 The size of the region is represented by the region width for the horizontal axis, and region lines
 for the vertical axis.</p>
   </div>
   <p>For parsing, we also need the following:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="text track list of regions" data-noexport="" id="text-track-list-of-regions">A text track list of regions</dfn>
    <dd>
     <p>A list of zero or more <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-5">WebVTT regions</a>.</p>
   </dl>
   <h3 class="heading settled" data-level="3.5" id="chapter-cues"><span class="secno">3.5. </span><span class="content">WebVTT chapter cues</span><a class="self-link" href="#chapter-cues"></a></h3>
   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="webvtt-chapter-cue">WebVTT chapter cue<a class="self-link" href="#webvtt-chapter-cue"></a></dfn> is a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-14">WebVTT cue</a> whose <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-4">cue text</a> is interpreted as a
chapter title that describes the chapter as a navigation target.</p>
   <p>Chapter cues mark up the timeline of a audio or video file in consecutive, non-overlapping
intervals. It is further possible to subdivide these intervals into sub-chapters building a
navigation tree.</p>
   <h3 class="heading settled" data-level="3.6" id="metadata-cues"><span class="secno">3.6. </span><span class="content">WebVTT metadata cues</span><a class="self-link" href="#metadata-cues"></a></h3>
   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="webvtt-metadata-cue">WebVTT metadata cue<a class="self-link" href="#webvtt-metadata-cue"></a></dfn> is a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-15">WebVTT cue</a> whose <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-5">cue text</a> is interpreted as
time-aligned metadata.</p>
   <h2 class="heading settled" data-level="4" id="syntax"><span class="secno">4. </span><span class="content">Syntax</span><a class="self-link" href="#syntax"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="file-structure"><span class="secno">4.1. </span><span class="content">WebVTT file structure</span><a class="self-link" href="#file-structure"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-file">WebVTT file</dfn> must consist of a <a data-link-type="dfn" href="#webvtt-file-body" id="ref-for-webvtt-file-body-1">WebVTT file body</a> encoded as UTF-8 and labeled
with the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#mime-type">MIME type</a> <code>text/vtt</code>. <a data-link-type="biblio" href="#biblio-rfc3629">[RFC3629]</a></p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-file-body">WebVTT file body</dfn> consists of the following components, in the following order:</p>
   <ol class="algorithm" data-algorithm="WebVTT file body">
    <li>An optional U+FEFF BYTE ORDER MARK (BOM) character.
    <li>The string "<code>WEBVTT</code>".
    <li>Optionally, either a U+0020 SPACE character or a U+0009 CHARACTER TABULATION (tab) character
 followed by any number of characters that are not U+000A LINE FEED (LF) or U+000D CARRIAGE RETURN
 (CR) characters.
    <li>Two or more <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-1">WebVTT line terminators</a> to terminate the line
 with the file magic and separate it from the rest of the body.
    <li>Zero or more <a data-link-type="dfn" href="#webvtt-region-definition-block" id="ref-for-webvtt-region-definition-block-1">WebVTT region definition blocks</a>, <a data-link-type="dfn" href="#webvtt-style-block" id="ref-for-webvtt-style-block-1">WebVTT style blocks</a> and <a data-link-type="dfn" href="#webvtt-comment-block" id="ref-for-webvtt-comment-block-1">WebVTT comment
 blocks</a> separated from each other by one or more <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-2">WebVTT line
 terminators</a>.
    <li>Zero or more <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-3">WebVTT line terminators</a>.
    <li>Zero or more <a data-link-type="dfn" href="#webvtt-cue-block" id="ref-for-webvtt-cue-block-1">WebVTT cue blocks</a> and <a data-link-type="dfn" href="#webvtt-comment-block" id="ref-for-webvtt-comment-block-2">WebVTT comment blocks</a> separated from each other by one or more <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-4">WebVTT line terminators</a>.
    <li>Zero or more <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-5">WebVTT line terminators</a>.
   </ol>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-line-terminator">WebVTT line terminator</dfn> consists of one of the following:</p>
   <ul class="brief">
    <li>A U+000D CARRIAGE RETURN U+000A LINE FEED (CRLF) character pair.
    <li>A single U+000A LINE FEED (LF) character.
    <li>A single U+000D CARRIAGE RETURN (CR) character.
   </ul>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-definition-block">WebVTT region definition block</dfn> consists of the following components, in the given
order:</p>
   <ol>
    <li>The string "<code>REGION</code>" (U+0052 LATIN CAPITAL LETTER R, U+0045 LATIN CAPITAL LETTER E,
 U+0047 LATIN CAPITAL LETTER G, U+0049 LATIN CAPITAL LETTER I, U+004F LATIN CAPITAL LETTER O, U+004E
 LATIN CAPITAL LETTER N).
    <li>Zero or more U+0020 SPACE characters or U+0009 CHARACTER TABULATION (tab) characters.
    <li>A <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-6">WebVTT line terminator</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-region-settings-list" id="ref-for-webvtt-region-settings-list-1">WebVTT region settings list</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-7">WebVTT line terminator</a>.
   </ol>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-style-block">WebVTT style block</dfn> consists of the following components, in the given order:</p>
   <ol>
    <li>The string "<code>STYLE</code>" (U+0053 LATIN CAPITAL LETTER S, U+0054 LATIN CAPITAL LETTER T,
 U+0059 LATIN CAPITAL LETTER Y, U+004C LATIN CAPITAL LETTER L, U+0045 LATIN CAPITAL LETTER E).
    <li>Zero or more U+0020 SPACE characters or U+0009 CHARACTER TABULATION (tab) characters.
    <li>A <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-8">WebVTT line terminator</a>.
    <li>Any sequence of zero or more characters other than U+000A LINE FEED (LF) characters and U+000D
 CARRIAGE RETURN (CR) characters, each optionally separated from the next by a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-9">WebVTT line
 terminator</a>, except that the entire resulting string must not contain the substring
 "<code>--></code>" (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN). The string
 represents a CSS style sheet; the requirements given in the relevant CSS specifications apply. <a data-link-type="biblio" href="#biblio-css22">[CSS22]</a>
    <li>A <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-10">WebVTT line terminator</a>.
   </ol>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-block">WebVTT cue block</dfn> consists of the following components, in the given order:</p>
   <ol>
    <li>Optionally, a <a data-link-type="dfn" href="#webvtt-cue-identifier" id="ref-for-webvtt-cue-identifier-1">WebVTT cue identifier</a> followed by a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-11">WebVTT line terminator</a>.
    <li><a data-link-type="dfn" href="#webvtt-cue-timings" id="ref-for-webvtt-cue-timings-1">WebVTT cue timings</a>.
    <li>Optionally, one or more U+0020 SPACE characters or U+0009 CHARACTER TABULATION (tab) characters
 followed by a <a data-link-type="dfn" href="#webvtt-cue-settings-list" id="ref-for-webvtt-cue-settings-list-1">WebVTT cue settings list</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-12">WebVTT line terminator</a>.
    <li>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="cue-payload">cue payload</dfn>: either <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-2">WebVTT caption or subtitle cue text</a>, <a data-link-type="dfn" href="#webvtt-chapter-title-text" id="ref-for-webvtt-chapter-title-text-1">WebVTT
 chapter title text</a>, or <a data-link-type="dfn" href="#webvtt-metadata-text" id="ref-for-webvtt-metadata-text-1">WebVTT metadata text</a>, but it must not contain the substring
 "<code>--></code>" (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN).
    <li>A <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-13">WebVTT line terminator</a>.
   </ol>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-cue-block" id="ref-for-webvtt-cue-block-2">WebVTT cue block</a> corresponds to one piece of time-aligned text or data in
the <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-7">WebVTT file</a>, for example one subtitle. The <a data-link-type="dfn" href="#cue-payload" id="ref-for-cue-payload-1">cue payload</a> is the text or data
associated with the cue.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-identifier">WebVTT cue identifier</dfn> is any sequence of one or more characters not containing the
substring "<code>--></code>" (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN),
nor containing any U+000A LINE FEED (LF) characters or U+000D CARRIAGE RETURN (CR) characters.</p>
   <p>A <a data-link-type="dfn" href="#webvtt-cue-identifier" id="ref-for-webvtt-cue-identifier-2">WebVTT cue identifier</a> must be unique amongst all the <a data-link-type="dfn" href="#webvtt-cue-identifier" id="ref-for-webvtt-cue-identifier-3">WebVTT cue identifiers</a> of all <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-16">WebVTT cues</a> of a <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-8">WebVTT
file</a>.</p>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-cue-identifier" id="ref-for-webvtt-cue-identifier-4">WebVTT cue identifier</a> can be used to reference a specific cue, for example
from script or CSS.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-timings">WebVTT cue timings</dfn> part of a <a data-link-type="dfn" href="#webvtt-cue-block" id="ref-for-webvtt-cue-block-3">WebVTT cue block</a> consists of the following
components, in the given order:</p>
   <ol>
    <li>A <a data-link-type="dfn" href="#webvtt-timestamp" id="ref-for-webvtt-timestamp-1">WebVTT timestamp</a> representing the start time offset of the cue. The time represented
 by this <a data-link-type="dfn" href="#webvtt-timestamp" id="ref-for-webvtt-timestamp-2">WebVTT timestamp</a> must be greater than or equal to the start time offsets of all
 previous cues in the file.
    <li>One or more U+0020 SPACE characters or U+0009 CHARACTER TABULATION (tab) characters.
    <li>The string "<code>--></code>" (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN
 SIGN).
    <li>One or more U+0020 SPACE characters or U+0009 CHARACTER TABULATION (tab) characters.
    <li>A <a data-link-type="dfn" href="#webvtt-timestamp" id="ref-for-webvtt-timestamp-3">WebVTT timestamp</a> representing the end time offset of the cue. The time represented by
 this <a data-link-type="dfn" href="#webvtt-timestamp" id="ref-for-webvtt-timestamp-4">WebVTT timestamp</a> must be greater than the start time offset of the cue.
   </ol>
   <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-cue-timings" id="ref-for-webvtt-cue-timings-2">WebVTT cue timings</a> give the start and end offsets of the <a data-link-type="dfn" href="#webvtt-cue-block" id="ref-for-webvtt-cue-block-4">WebVTT cue
block</a>. Different cues can overlap. Cues are always listed ordered by their start time.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-timestamp">WebVTT timestamp</dfn> consists of the following components, in the given order:</p>
   <ol>
    <li>
      Optionally (required if <var>hours</var> is non-zero): 
     <ol>
      <li>Two or more <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, representing the <var>hours</var> as a base ten integer.
      <li>A U+003A COLON character (:)
     </ol>
    <li>Two <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, representing the <var>minutes</var> as a base ten integer in the range
 0 ≤ <var>minutes</var> ≤ 59.
    <li>A U+003A COLON character (:)
    <li>Two <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, representing the <var>seconds</var> as a base ten integer in the range
 0 ≤ <var>seconds</var> ≤ 59.
    <li>A U+002E FULL STOP character (.).
    <li>Three <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, representing the thousandths of a second <var>seconds-frac</var> as a base
 ten integer.
   </ol>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-timestamp" id="ref-for-webvtt-timestamp-5">WebVTT timestamp</a> is always interpreted relative to the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#current-position">current playback
position</a> of the media data that the WebVTT file is to be synchronized with.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-settings-list">WebVTT cue settings list</dfn> consist of a sequence of zero or more <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT cue
setting" data-noexport="" id="webvtt-cue-setting">WebVTT cue settings</dfn> in any order, separated from each other by one or more U+0020
SPACE characters or U+0009 CHARACTER TABULATION (tab) characters. Each setting consists of the
following components, in the order given:</p>
   <ol>
    <li>A <a data-link-type="dfn" href="#webvtt-cue-setting-name" id="ref-for-webvtt-cue-setting-name-1">WebVTT cue setting name</a>.
    <li>An optional U+003A COLON (colon) character.
    <li>An optional <a data-link-type="dfn" href="#webvtt-cue-setting-value" id="ref-for-webvtt-cue-setting-value-1">WebVTT cue setting value</a>.
   </ol>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-setting-name">WebVTT cue setting name</dfn> and a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-setting-value">WebVTT cue setting value</dfn> each consist of
any sequence of one or more characters other than U+000A LINE FEED (LF) characters and - U+000D
CARRIAGE RETURN (CR) characters except that the entire resulting string must not contain the
substring "<code>--></code>" (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN
SIGN).</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-percentage">WebVTT percentage</dfn> consists of the following components:</p>
   <ol>
    <li>One or more <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>.
    <li>
      Optionally: 
     <ol>
      <li>A U+002E DOT character (.).
      <li>One or more <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>.
     </ol>
    <li>A U+0025 PERCENT SIGN character (%).
   </ol>
   <p>When interpreted as a number, a <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-1">WebVTT percentage</a> must be in the range 0..100.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-comment-block">WebVTT comment block</dfn> consists of the following components, in the given order:</p>
   <ol>
    <li>The string "<code>NOTE</code>".
    <li>
      Optionally, the following components, in the given order: 
     <ol>
      <li>
        Either: 
       <ul>
        <li>A U+0020 SPACE character or U+0009 CHARACTER TABULATION (tab) character.
        <li>A <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-14">WebVTT line terminator</a>.
       </ul>
      <li>Any sequence of zero or more characters other than U+000A LINE FEED (LF) characters and
   U+000D CARRIAGE RETURN (CR) characters, each optionally separated from the next by a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-15">WebVTT
   line terminator</a>, except that the entire resulting string must not contain the substring
   "<code>--></code>" (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN).
     </ol>
    <li>A <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-16">WebVTT line terminator</a>.
   </ol>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-comment-block" id="ref-for-webvtt-comment-block-3">WebVTT comment block</a> is ignored by the parser.</p>
   <h3 class="heading settled" data-level="4.2" id="types-of-webvtt-cue-payload"><span class="secno">4.2. </span><span class="content">Types of WebVTT cue payload</span><a class="self-link" href="#types-of-webvtt-cue-payload"></a></h3>
   <h4 class="heading settled" data-level="4.2.1" id="metadata-text"><span class="secno">4.2.1. </span><span class="content">WebVTT metadata text</span><a class="self-link" href="#metadata-text"></a></h4>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-metadata-text">WebVTT metadata text</dfn> consists of any sequence of zero or more characters other than
U+000A LINE FEED (LF) characters and U+000D CARRIAGE RETURN (CR) characters, each optionally
separated from the next by a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-17">WebVTT line terminator</a>. (In other words, any text that does not
have two consecutive <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-18">WebVTT line terminators</a> and does not start
or end with a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-19">WebVTT line terminator</a>.)</p>
   <p><a data-link-type="dfn" href="#webvtt-metadata-text" id="ref-for-webvtt-metadata-text-2">WebVTT metadata text</a> cues are only useful for scripted applications (e.g. using the <code>metadata</code> <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#kind-of-track">text track kind</a> in a HTML <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a>).</p>
   <h4 class="heading settled" data-level="4.2.2" id="caption-text"><span class="secno">4.2.2. </span><span class="content">WebVTT caption or subtitle cue text</span><a class="self-link" href="#caption-text"></a></h4>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-caption-or-subtitle-cue-text">WebVTT caption or subtitle cue text</dfn> is <a data-link-type="dfn" href="#cue-payload" id="ref-for-cue-payload-2">cue payload</a> that consists of zero or
more <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-components" id="ref-for-webvtt-caption-or-subtitle-cue-components-1">WebVTT caption or subtitle cue components</a>, in any order, each optionally separated from
the next by a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-20">WebVTT line terminator</a>.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-caption-or-subtitle-cue-components">WebVTT caption or subtitle cue components</dfn> are:</p>
   <ul>
    <li>A <a data-link-type="dfn" href="#webvtt-cue-class-span" id="ref-for-webvtt-cue-class-span-1">WebVTT cue class span</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-italics-span" id="ref-for-webvtt-cue-italics-span-1">WebVTT cue italics span</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-bold-span" id="ref-for-webvtt-cue-bold-span-1">WebVTT cue bold span</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-underline-span" id="ref-for-webvtt-cue-underline-span-1">WebVTT cue underline span</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-ruby-span" id="ref-for-webvtt-cue-ruby-span-1">WebVTT cue ruby span</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-voice-span" id="ref-for-webvtt-cue-voice-span-1">WebVTT cue voice span</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-language-span" id="ref-for-webvtt-cue-language-span-1">WebVTT cue language span</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-timestamp" id="ref-for-webvtt-cue-timestamp-1">WebVTT cue timestamp</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-text-span" id="ref-for-webvtt-cue-text-span-1">WebVTT cue text span</a>, representing the text of the cue.
    <li>An <a data-link-type="dfn" href="https://www.w3.org/TR/html51/syntax.html#character-references">HTML character reference</a>, representing one or two Unicode
 code points, as defined in HTML, in the text of the cue. <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a>
   </ul>
   <p>All <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-components" id="ref-for-webvtt-caption-or-subtitle-cue-components-2">WebVTT caption or subtitle cue components</a> bar the HTML character reference may have
one or more <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="cue-component-class-names">cue component class names</dfn> attached to it by separating the cue component
class name from the cue component start tag using the period ('.') notation. The class name must
immediately follow the "period" (.).</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-internal-text">WebVTT cue internal text</dfn> consists of an optional <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-21">WebVTT line terminator</a>,
followed by zero or more <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-components" id="ref-for-webvtt-caption-or-subtitle-cue-components-3">WebVTT caption or subtitle cue components</a>, in any order, each
optionally followed by a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-22">WebVTT line terminator</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-class-span">WebVTT cue class span</dfn> consists of a <a data-link-type="dfn" href="#webvtt-cue-span-start-tag" id="ref-for-webvtt-cue-span-start-tag-1">WebVTT cue span start tag</a> "<code>c</code>" that disallows an annotation, <a data-link-type="dfn" href="#webvtt-cue-internal-text" id="ref-for-webvtt-cue-internal-text-1">WebVTT cue internal text</a> representing cue
text, and a <a data-link-type="dfn" href="#webvtt-cue-span-end-tag" id="ref-for-webvtt-cue-span-end-tag-1">WebVTT cue span end tag</a> "<code>c</code>".</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-italics-span">WebVTT cue italics span</dfn> consists of a <a data-link-type="dfn" href="#webvtt-cue-span-start-tag" id="ref-for-webvtt-cue-span-start-tag-2">WebVTT cue span start tag</a> "<code>i</code>" that disallows an annotation, <a data-link-type="dfn" href="#webvtt-cue-internal-text" id="ref-for-webvtt-cue-internal-text-2">WebVTT cue internal text</a> representing the
italicized text, and a <a data-link-type="dfn" href="#webvtt-cue-span-end-tag" id="ref-for-webvtt-cue-span-end-tag-2">WebVTT cue span end tag</a> "<code>i</code>".</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-bold-span">WebVTT cue bold span</dfn> consists of a <a data-link-type="dfn" href="#webvtt-cue-span-start-tag" id="ref-for-webvtt-cue-span-start-tag-3">WebVTT cue span start tag</a> "<code>b</code>"
that disallows an annotation, <a data-link-type="dfn" href="#webvtt-cue-internal-text" id="ref-for-webvtt-cue-internal-text-3">WebVTT cue internal text</a> representing the boldened text, and a <a data-link-type="dfn" href="#webvtt-cue-span-end-tag" id="ref-for-webvtt-cue-span-end-tag-3">WebVTT cue span end tag</a> "<code>b</code>".</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-underline-span">WebVTT cue underline span</dfn> consists of a <a data-link-type="dfn" href="#webvtt-cue-span-start-tag" id="ref-for-webvtt-cue-span-start-tag-4">WebVTT cue span start tag</a> "<code>u</code>" that disallows an annotation, <a data-link-type="dfn" href="#webvtt-cue-internal-text" id="ref-for-webvtt-cue-internal-text-4">WebVTT cue internal text</a> representing the
underlined text, and a <a data-link-type="dfn" href="#webvtt-cue-span-end-tag" id="ref-for-webvtt-cue-span-end-tag-4">WebVTT cue span end tag</a> "<code>u</code>".</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-ruby-span">WebVTT cue ruby span</dfn> consists of the following components, in the order given:</p>
   <ol>
    <li>A <a data-link-type="dfn" href="#webvtt-cue-span-start-tag" id="ref-for-webvtt-cue-span-start-tag-5">WebVTT cue span start tag</a> "<code>ruby</code>" that disallows an annotation.
    <li>
      One or more occurrences of the following group of components, in the order given: 
     <ol>
      <li><a data-link-type="dfn" href="#webvtt-cue-internal-text" id="ref-for-webvtt-cue-internal-text-5">WebVTT cue internal text</a>, representing the ruby base.
      <li>A <a data-link-type="dfn" href="#webvtt-cue-span-start-tag" id="ref-for-webvtt-cue-span-start-tag-6">WebVTT cue span start tag</a> "<code>rt</code>" that disallows an annotation.
      <li>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-ruby-text-span">WebVTT cue ruby text span</dfn>: <a data-link-type="dfn" href="#webvtt-cue-internal-text" id="ref-for-webvtt-cue-internal-text-6">WebVTT cue internal text</a>, representing the
   ruby text component of the ruby annotation.
      <li>A <a data-link-type="dfn" href="#webvtt-cue-span-end-tag" id="ref-for-webvtt-cue-span-end-tag-5">WebVTT cue span end tag</a> "<code>rt</code>". If this is the last occurrence of this
   group of components in the <a data-link-type="dfn" href="#webvtt-cue-ruby-span" id="ref-for-webvtt-cue-ruby-span-2">WebVTT cue ruby span</a>, then this last end tag string may be
   omitted.
     </ol>
    <li>If the last end tag string was not omitted: Optionally, a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-23">WebVTT line terminator</a>.
    <li>If the last end tag string was not omitted: Zero or more U+0020 SPACE characters or U+0009
 CHARACTER TABULATION (tab) characters, each optionally followed by a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-24">WebVTT line
 terminator</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-span-end-tag" id="ref-for-webvtt-cue-span-end-tag-6">WebVTT cue span end tag</a> "<code>ruby</code>".
   </ol>
   <p class="note" role="note">Cue positioning controls the positioning of the baseline text, not the ruby
text.</p>
   <p class="note" role="note">Ruby in WebVTT is a subset of the ruby features in HTML. This might be extended in
the future to also support an object for ruby base text as well as complex ruby, when these features
are more mature in HTML and CSS. <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a> <a data-link-type="biblio" href="#biblio-css3-ruby">[CSS3-RUBY]</a></p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-voice-span">WebVTT cue voice span</dfn> consists of the following components, in the order given:</p>
   <ol>
    <li>A <a data-link-type="dfn" href="#webvtt-cue-span-start-tag" id="ref-for-webvtt-cue-span-start-tag-7">WebVTT cue span start tag</a> "<code>v</code>" that requires an annotation; the annotation
 represents the name of the voice.
    <li><a data-link-type="dfn" href="#webvtt-cue-internal-text" id="ref-for-webvtt-cue-internal-text-7">WebVTT cue internal text</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-span-end-tag" id="ref-for-webvtt-cue-span-end-tag-7">WebVTT cue span end tag</a> "<code>v</code>". If this <a data-link-type="dfn" href="#webvtt-cue-voice-span" id="ref-for-webvtt-cue-voice-span-2">WebVTT cue voice span</a> is the
 only <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-components" id="ref-for-webvtt-caption-or-subtitle-cue-components-4">component</a> of its <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-3">WebVTT caption or
 subtitle cue text</a> sequence, then the end tag may be omitted for brevity.
   </ol>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-language-span">WebVTT cue language span</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>A <a data-link-type="dfn" href="#webvtt-cue-span-start-tag" id="ref-for-webvtt-cue-span-start-tag-8">WebVTT cue span start tag</a> "<code>lang</code>" that requires an annotation; the
 annotation represents the language of the following component, and must be a valid BCP 47 language
 tag. <a data-link-type="biblio" href="#biblio-bcp47">[BCP47]</a>
    <li><a data-link-type="dfn" href="#webvtt-cue-internal-text" id="ref-for-webvtt-cue-internal-text-8">WebVTT cue internal text</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-cue-span-end-tag" id="ref-for-webvtt-cue-span-end-tag-8">WebVTT cue span end tag</a> "<code>lang</code>".
   </ol>
   <p class="note" role="note">The requirement above regarding valid BCP 47 language tag is an authoring requirement,
so a conformance checker will do validity checking of the language tag, but other user agents will
not.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-span-start-tag">WebVTT cue span start tag</dfn> has a <var>tag name</var> and either 
requires or disallows an annotation, and consists of the following components, in the order
given:</p>
   <ol>
    <li>A U+003C LESS-THAN SIGN character (&lt;).
    <li>The <var>tag name</var>.
    <li>
      Zero or more occurrences of the following sequence: 
     <ol>
      <li>U+002E FULL STOP character (.)
      <li>One or more characters other than U+0009 CHARACTER TABULATION (tab) characters, U+000A LINE
   FEED (LF) characters, U+000D CARRIAGE RETURN (CR) characters, U+0020 SPACE characters, U+0026
   AMPERSAND characters (&amp;), U+003C LESS-THAN SIGN characters (&lt;), U+003E GREATER-THAN SIGN
   characters (>), and U+002E FULL STOP characters (.), representing a class that describes the cue
   span’s significance.
     </ol>
    <li>
     <p>If the start tag requires an annotation: a U+0020 SPACE character or a U+0009 CHARACTER
  TABULATION (tab) character, followed by one or more of the following components, the concatenation
  of their representations having a value that contains at least one character other than U+0020
  SPACE and U+0009 CHARACTER TABULATION (tab) characters:</p>
     <ul>
      <li><a data-link-type="dfn" href="#webvtt-cue-span-start-tag-annotation-text" id="ref-for-webvtt-cue-span-start-tag-annotation-text-1">WebVTT cue span start tag annotation text</a>, representing the text of the
   annotation.
      <li>An <a data-link-type="dfn" href="https://www.w3.org/TR/html51/syntax.html#character-references">HTML character reference</a>, representing one or two Unicode
   code points, as defined in HTML, in the text of the annotation. <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a>
     </ul>
    <li>A U+003E GREATER-THAN SIGN character (>).
   </ol>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-span-end-tag">WebVTT cue span end tag</dfn> has a <var>tag name</var> and consists of the following components,
in the order given:</p>
   <ol>
    <li>A U+003C LESS-THAN SIGN character (&lt;).
    <li>U+002F SOLIDUS character (/).
    <li>The <var>tag name</var>.
    <li>A U+003E GREATER-THAN SIGN character (>).
   </ol>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-timestamp">WebVTT cue timestamp</dfn> consists of a U+003C LESS-THAN SIGN character (&lt;), followed
by a <a data-link-type="dfn" href="#webvtt-timestamp" id="ref-for-webvtt-timestamp-6">WebVTT timestamp</a> representing the time that the given point in the cue becomes active,
followed by a U+003E GREATER-THAN SIGN character (>). The time represented by the <a data-link-type="dfn" href="#webvtt-timestamp" id="ref-for-webvtt-timestamp-7">WebVTT
timestamp</a> must be greater than the times represented by any previous <a data-link-type="dfn" href="#webvtt-cue-timestamp" id="ref-for-webvtt-cue-timestamp-2">WebVTT cue timestamps</a> in the cue, as well as greater than the cue’s start time
offset, and less than the cue’s end time offset.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-text-span">WebVTT cue text span</dfn> consists of one or more characters other than U+000A LINE FEED
(LF) characters, U+000D CARRIAGE RETURN (CR) characters, U+0026 AMPERSAND characters (&amp;), and
U+003C LESS-THAN SIGN characters (&lt;).</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-span-start-tag-annotation-text">WebVTT cue span start tag annotation text</dfn> consists of one or more characters other
than U+000A LINE FEED (LF) characters, U+000D CARRIAGE RETURN (CR) characters, U+0026 AMPERSAND
characters (&amp;), and U+003E GREATER-THAN SIGN characters (>).</p>
   <h4 class="heading settled" data-level="4.2.3" id="chapter-title-text"><span class="secno">4.2.3. </span><span class="content">WebVTT chapter title text</span><a class="self-link" href="#chapter-title-text"></a></h4>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-chapter-title-text">WebVTT chapter title text</dfn> is <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-6">cue text</a> that makes use of zero or more of the
following components, each optionally separated from the next by a <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-25">WebVTT line
terminator</a>:</p>
   <ul>
    <li><a data-link-type="dfn" href="#webvtt-cue-text-span" id="ref-for-webvtt-cue-text-span-2">WebVTT cue text span</a>
    <li><a data-link-type="dfn" href="https://www.w3.org/TR/html51/syntax.html#character-references">HTML character reference</a> <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a>
   </ul>
   <h3 class="heading settled" data-level="4.3" id="region-settings"><span class="secno">4.3. </span><span class="content">WebVTT region settings</span><a class="self-link" href="#region-settings"></a></h3>
   <p>A <a data-link-type="dfn" href="#webvtt-cue-settings-list" id="ref-for-webvtt-cue-settings-list-2">WebVTT cue settings list</a> can contain a reference to a <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-6">WebVTT region</a>. To define a
region, a <a data-link-type="dfn" href="#webvtt-region-definition-block" id="ref-for-webvtt-region-definition-block-2">WebVTT region definition block</a> is specified.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-settings-list">WebVTT region settings list</dfn> consists of zero or more of the following components,
in any order, separated from each other by one or more U+0020 SPACE characters, U+0009 CHARACTER
TABULATION (tab) characters, or <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-26">WebVTT line terminators</a>, except that the string must not
contain two consecutive <a data-link-type="dfn" href="#webvtt-line-terminator" id="ref-for-webvtt-line-terminator-27">WebVTT line terminators</a>. Each component must not be included more
than once per <a data-link-type="dfn" href="#webvtt-region-settings-list" id="ref-for-webvtt-region-settings-list-2">WebVTT region settings list</a> string.</p>
   <ul>
    <li>A <a data-link-type="dfn" href="#webvtt-region-identifier-setting" id="ref-for-webvtt-region-identifier-setting-1">WebVTT region identifier setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-region-width-setting" id="ref-for-webvtt-region-width-setting-1">WebVTT region width setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-region-lines-setting" id="ref-for-webvtt-region-lines-setting-1">WebVTT region lines setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-region-anchor-setting" id="ref-for-webvtt-region-anchor-setting-1">WebVTT region anchor setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-region-viewport-anchor-setting" id="ref-for-webvtt-region-viewport-anchor-setting-1">WebVTT region viewport anchor setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-region-scroll-setting" id="ref-for-webvtt-region-scroll-setting-1">WebVTT region scroll setting</a>.
   </ul>
   <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-region-settings-list" id="ref-for-webvtt-region-settings-list-3">WebVTT region settings list</a> gives configuration options regarding the
dimensions, positioning and anchoring of the region. For example, it allows a group of cues within a
region to be anchored in the center of the region and the center of the video viewport. In this
example, when the font size grows, the region grows uniformly in all directions from the center.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-identifier-setting">WebVTT region identifier setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>id</code>".</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
     <p>An arbitrary string of one or more characters other than <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#space-characters">ASCII whitespace</a>. The string
 must not contain the substring "<code>--></code>" (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E
 GREATER-THAN SIGN).</p>
   </ol>
   <p>A <a data-link-type="dfn" href="#webvtt-region-identifier-setting" id="ref-for-webvtt-region-identifier-setting-2">WebVTT region identifier setting</a> must be unique amongst all the <a data-link-type="dfn" href="#webvtt-region-identifier-setting" id="ref-for-webvtt-region-identifier-setting-3">WebVTT region identifier settings</a> of all <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-7">WebVTT
regions</a> of a <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-9">WebVTT file</a>.</p>
   <p>A <a data-link-type="dfn" href="#webvtt-region-identifier-setting" id="ref-for-webvtt-region-identifier-setting-4">WebVTT region identifier setting</a> must be present in each <a data-link-type="dfn" href="#webvtt-cue-settings-list" id="ref-for-webvtt-cue-settings-list-3">WebVTT cue settings
list</a>. Without an identifier, it is not possible to associate a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-17">WebVTT cue</a> with a <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-8">WebVTT region</a> in the syntax.</p>
   <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-region-identifier-setting" id="ref-for-webvtt-region-identifier-setting-5">WebVTT region identifier setting</a> gives a name to the region so it can be
referenced by the cues that belong to the region.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-width-setting">WebVTT region width setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>width</code>".</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
     <p>A <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-2">WebVTT percentage</a>.</p>
   </ol>
   <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-region-width-setting" id="ref-for-webvtt-region-width-setting-2">WebVTT region width setting</a> provides a fixed width as a percentage of the
video width for the region into which cues are rendered and based on which alignment is
calculated.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-lines-setting">WebVTT region lines setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>lines</code>".</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
     <p>One or more <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>.</p>
   </ol>
   <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-region-lines-setting" id="ref-for-webvtt-region-lines-setting-2">WebVTT region lines setting</a> provides a fixed height as a number of lines
for the region into which cues are rendered. As such, it defines the height of the roll-up region if
it is a scroll region.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-anchor-setting">WebVTT region anchor setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>regionanchor</code>".</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
     <p>A <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-3">WebVTT percentage</a>.</p>
    <li>
     <p>A U+002C COMMA character (,).</p>
    <li>
     <p>A <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-4">WebVTT percentage</a>.</p>
   </ol>
   <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-region-anchor-setting" id="ref-for-webvtt-region-anchor-setting-2">WebVTT region anchor setting</a> provides a tuple of two percentages that
specify the point within the region box that is fixed in location. The first percentage measures the
x-dimension and the second percentage y-dimension from the top left corner of the region box. If no <a data-link-type="dfn" href="#webvtt-region-anchor-setting" id="ref-for-webvtt-region-anchor-setting-3">WebVTT region anchor setting</a> is given, the anchor defaults to 0%, 100% (i.e. the bottom left
corner).</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-viewport-anchor-setting">WebVTT region viewport anchor setting</dfn> consists of the following components, in the
order given:</p>
   <ol>
    <li>
     <p>The string "<code>viewportanchor</code>".</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
     <p>A <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-5">WebVTT percentage</a>.</p>
    <li>
     <p>A U+002C COMMA character (,).</p>
    <li>
     <p>A <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-6">WebVTT percentage</a>.</p>
   </ol>
   <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-region-viewport-anchor-setting" id="ref-for-webvtt-region-viewport-anchor-setting-2">WebVTT region viewport anchor setting</a> provides a tuple of two percentages
that specify the point within the video viewport that the region anchor point is anchored to. The
first percentage measures the x-dimension and the second percentage measures the y-dimension from
the top left corner of the video viewport box. If no region viewport anchor is given, it defaults to
0%, 100% (i.e. the bottom left corner).</p>
   <p class="note" role="note">For browsers, the region maps to an absolute positioned CSS box relative to the
video viewport, i.e. there is a relative positioned box that represents the video viewport relative
to which the regions are absolutely positioned. Overflow is hidden.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-scroll-setting">WebVTT region scroll setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>scroll</code>".</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
     <p>The string "<code>up</code>".</p>
   </ol>
   <p class="note" role="note">The <a data-link-type="dfn" href="#webvtt-region-scroll-setting" id="ref-for-webvtt-region-scroll-setting-2">WebVTT region scroll setting</a> specifies whether cues rendered into the
region are allowed to move out of their initial rendering place and roll up, i.e. move towards the
top of the video viewport. If the scroll setting is omitted, cues do not move from their rendered
position.</p>
   <p class="note" role="note">Cues are added to a region one line at a time below existing cue lines. When an
existing rendered cue line is removed, and it was above another already rendered cue line, that cue
line moves into its space, thus scrolling in the given direction. If there is not enough space for a
new cue line to be added to a region, the top-most cue line is pushed off the visible region (thus
slowly becoming invisible as it moves into overflow:hidden). This eventually makes space for the new
cue line and allows it to be added.</p>
   <p class="note" role="note">When there is no scroll direction, cue lines are added in the empty line closest to
the line in the bottom of the region. If no empty line is available, the oldest line is
replaced.</p>
   <h3 class="heading settled" data-level="4.4" id="cue-settings"><span class="secno">4.4. </span><span class="content">WebVTT cue settings</span><a class="self-link" href="#cue-settings"></a></h3>
   <p>A <a data-link-type="dfn" href="#webvtt-cue-setting" id="ref-for-webvtt-cue-setting-1">WebVTT cue setting</a> is part of a <a data-link-type="dfn" href="#webvtt-cue-settings-list" id="ref-for-webvtt-cue-settings-list-4">WebVTT cue settings list</a> and provides
configuration options regarding the position and alignment of the cue box and the cue text
within.</p>
   <p class="note" role="note">For example, a set of WebVTT cue settings may allow a cue box to be aligned to the
left or positioned at the top right with the cue text within center aligned.</p>
   <p>The current available <a data-link-type="dfn" href="#webvtt-cue-setting" id="ref-for-webvtt-cue-setting-2">WebVTT cue settings</a> that may appear in a <a data-link-type="dfn" href="#webvtt-cue-settings-list" id="ref-for-webvtt-cue-settings-list-5">WebVTT cue settings
list</a> are:</p>
   <ul class="brief">
    <li>A <a data-link-type="dfn" href="#webvtt-vertical-text-cue-setting" id="ref-for-webvtt-vertical-text-cue-setting-1">WebVTT vertical text cue setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-line-cue-setting" id="ref-for-webvtt-line-cue-setting-1">WebVTT line cue setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-position-cue-setting" id="ref-for-webvtt-position-cue-setting-1">WebVTT position cue setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-size-cue-setting" id="ref-for-webvtt-size-cue-setting-1">WebVTT size cue setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-alignment-cue-setting" id="ref-for-webvtt-alignment-cue-setting-1">WebVTT alignment cue setting</a>.
    <li>A <a data-link-type="dfn" href="#webvtt-region-cue-setting" id="ref-for-webvtt-region-cue-setting-1">WebVTT region cue setting</a>.
   </ul>
   <p>Each of these setting must not be included more than once per <a data-link-type="dfn" href="#webvtt-cue-settings-list" id="ref-for-webvtt-cue-settings-list-6">WebVTT cue settings
list</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-vertical-text-cue-setting">WebVTT vertical text cue setting</dfn> is a <a data-link-type="dfn" href="#webvtt-cue-setting" id="ref-for-webvtt-cue-setting-3">WebVTT cue setting</a> that consists of the
following components, in the order given:</p>
   <ol>
    <li>The string "<code>vertical</code>" as the <a data-link-type="dfn" href="#webvtt-cue-setting-name" id="ref-for-webvtt-cue-setting-name-2">WebVTT cue setting name</a>.
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>One of the following strings as the <a data-link-type="dfn" href="#webvtt-cue-setting-value" id="ref-for-webvtt-cue-setting-value-2">WebVTT cue setting value</a>: "<code>rl</code>",
 "<code>lr</code>".
   </ol>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-vertical-text-cue-setting" id="ref-for-webvtt-vertical-text-cue-setting-2">WebVTT vertical text cue setting</a> configures the cue to use vertical text
layout rather than horizontal text layout. Vertical text layout is sometimes used in Japanese, for
example. The default is horizontal layout.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-line-cue-setting">WebVTT line cue setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>line</code>" as the <a data-link-type="dfn" href="#webvtt-cue-setting-name" id="ref-for-webvtt-cue-setting-name-3">WebVTT cue setting name</a>.</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
      As the <a data-link-type="dfn" href="#webvtt-cue-setting-value" id="ref-for-webvtt-cue-setting-value-3">WebVTT cue setting value</a>: 
     <ol>
      <li>
        an offset value, either: 
       <dl>
        <dt>To represent a specific offset relative to the video viewport
        <dd>
         <p>A <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-7">WebVTT percentage</a>.</p>
        <dt>Or to represent a line number
        <dd>
         <ol>
          <li>Optionally a U+002D HYPHEN-MINUS character (-).
          <li>One or more <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>.
         </ol>
       </dl>
      <li>
        An optional alignment value consisting of the following components: 
       <ol>
        <li>A U+002C COMMA character (,).
        <li>One of the following strings: "<code>start</code>", "<code>center</code>",
     "<code>end</code>"
       </ol>
     </ol>
   </ol>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-line-cue-setting" id="ref-for-webvtt-line-cue-setting-2">WebVTT line cue setting</a> configures the offset of the cue box from the video
viewport’s edge in the direction orthogonal to the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-12">writing
direction</a>. For horizontal cues, this is the vertical offset from the top of the video viewport,
for vertical cues, it’s the horizontal offset. The offset is for the <a data-link-type="dfn" href="#webvtt-cue-line-start-alignment" id="ref-for-webvtt-cue-line-start-alignment-2">start</a>, <a data-link-type="dfn" href="#webvtt-cue-line-center-alignment" id="ref-for-webvtt-cue-line-center-alignment-1">center</a>, or <a data-link-type="dfn" href="#webvtt-cue-line-end-alignment" id="ref-for-webvtt-cue-line-end-alignment-1">end</a> of the cue box, depending on the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-5">WebVTT cue line alignment</a> value - <a data-link-type="dfn" href="#webvtt-cue-line-start-alignment" id="ref-for-webvtt-cue-line-start-alignment-3">start</a> by default. The offset can be given either as a
percentage of the relevant writing-mode dependent video viewport dimension or as a line number. Line
numbers are based on the size of the first line of the cue. Positive line numbers count from the
start of the video viewport (the first line is numbered 0), negative line numbers from the end of
the video viewport (the last line is numbered −1).</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-position-cue-setting">WebVTT position cue setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>position</code>" as the <a data-link-type="dfn" href="#webvtt-cue-setting-name" id="ref-for-webvtt-cue-setting-name-4">WebVTT cue setting name</a>.</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
      As the <a data-link-type="dfn" href="#webvtt-cue-setting-value" id="ref-for-webvtt-cue-setting-value-4">WebVTT cue setting value</a>: 
     <ol>
      <li>a position value consisting of: a <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-8">WebVTT percentage</a>.
      <li>
        an optional alignment value consisting of: 
       <ol>
        <li>A U+002C COMMA character (,).
        <li>One of the following strings: "<code>line-left</code>", "<code>center</code>",
     "<code>line-right</code>"
       </ol>
     </ol>
   </ol>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-position-cue-setting" id="ref-for-webvtt-position-cue-setting-2">WebVTT position cue setting</a> configures the indent position of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-24">cue box</a> in the direction orthogonal to the <a data-link-type="dfn" href="#webvtt-line-cue-setting" id="ref-for-webvtt-line-cue-setting-3">WebVTT line cue setting</a>.
For horizontal cues, this is the horizontal position. The cue position is given as a percentage of
the video viewport. The positioning is for the <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-5">line-left</a>, <a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-1">center</a>, or <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-4">line-right</a> of the cue box, depending on the cue’s <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-1">computed position alignment</a>, which is overridden by the <a data-link-type="dfn" href="#webvtt-position-cue-setting" id="ref-for-webvtt-position-cue-setting-3">WebVTT
position cue setting</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-size-cue-setting">WebVTT size cue setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>size</code>" as the <a data-link-type="dfn" href="#webvtt-cue-setting-name" id="ref-for-webvtt-cue-setting-name-5">WebVTT cue setting name</a>.</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
     <p>As the <a data-link-type="dfn" href="#webvtt-cue-setting-value" id="ref-for-webvtt-cue-setting-value-5">WebVTT cue setting value</a>: a <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-9">WebVTT percentage</a>.</p>
   </ol>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-size-cue-setting" id="ref-for-webvtt-size-cue-setting-2">WebVTT size cue setting</a> configures the size of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-25">cue box</a> in the same direction as the <a data-link-type="dfn" href="#webvtt-position-cue-setting" id="ref-for-webvtt-position-cue-setting-4">WebVTT position cue setting</a>. For horizontal
cues, this is the width of the <a data-link-type="dfn" href="#webvtt-cue-box" id="ref-for-webvtt-cue-box-26">cue box</a>. It is given as a percentage of
the width of the video viewport.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-alignment-cue-setting">WebVTT alignment cue setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>align</code>" as the <a data-link-type="dfn" href="#webvtt-cue-setting-name" id="ref-for-webvtt-cue-setting-name-6">WebVTT cue setting name</a>.</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>One of the following strings as the <a data-link-type="dfn" href="#webvtt-cue-setting-value" id="ref-for-webvtt-cue-setting-value-6">WebVTT cue setting value</a>: "<code>start</code>",
 "<code>center</code>", "<code>end</code>", "<code>left</code>", "<code>right</code>"
   </ol>
   <p class="note" role="note">A <a data-link-type="dfn" href="#webvtt-alignment-cue-setting" id="ref-for-webvtt-alignment-cue-setting-2">WebVTT alignment cue setting</a> configures the alignment of the text within
the cue. The "<code>start</code>" and "<code>end</code>" keywords are relative to the cue text’s
lines' base direction; for left-to-right English text, "<code>start</code>" means left-aligned.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-cue-setting">WebVTT region cue setting</dfn> consists of the following components, in the order
given:</p>
   <ol>
    <li>
     <p>The string "<code>region</code>" as the <a data-link-type="dfn" href="#webvtt-cue-setting-name" id="ref-for-webvtt-cue-setting-name-7">WebVTT cue setting name</a>.</p>
    <li>
     <p>A U+003A COLON character (:).</p>
    <li>
     <p>As the <a data-link-type="dfn" href="#webvtt-cue-setting-value" id="ref-for-webvtt-cue-setting-value-7">WebVTT cue setting value</a>: a <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-1">WebVTT region identifier</a>.</p>
   </ol>
   <p>A <a data-link-type="dfn" href="#webvtt-region-cue-setting" id="ref-for-webvtt-region-cue-setting-2">WebVTT region cue setting</a> configures a cue to become part of a region by referencing the
region’s identifier unless the cue has a <a data-link-type="dfn" href="#webvtt-vertical-text-cue-setting" id="ref-for-webvtt-vertical-text-cue-setting-3">"vertical"</a>, <a data-link-type="dfn" href="#webvtt-line-cue-setting" id="ref-for-webvtt-line-cue-setting-4">"line"</a> or <a data-link-type="dfn" href="#webvtt-size-cue-setting" id="ref-for-webvtt-size-cue-setting-3">"size"</a> cue setting.
If a cue is part of a region, its cue settings for <a data-link-type="dfn" href="#webvtt-position-cue-setting" id="ref-for-webvtt-position-cue-setting-5">"position"</a> and <a data-link-type="dfn" href="#webvtt-alignment-cue-setting" id="ref-for-webvtt-alignment-cue-setting-3">"align"</a> are applied to the line
boxes in the cue relative to the region box and the cue box width and height are calculated relative
to the region dimensions rather than the viewport dimensions.</p>
   <h3 class="heading settled" data-level="4.5" id="properties-of-cue-sequences"><span class="secno">4.5. </span><span class="content">Properties of cue sequences</span><a class="self-link" href="#properties-of-cue-sequences"></a></h3>
   <h4 class="heading settled" data-level="4.5.1" id="file-using-only-nested-cues"><span class="secno">4.5.1. </span><span class="content">WebVTT file using only nested cues</span><a class="self-link" href="#file-using-only-nested-cues"></a></h4>
   <p>A <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-10">WebVTT file</a> whose cues all follow the following rules is said to be a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT file using only nested cues" data-noexport="" id="webvtt-file-using-only-nested-cues">WebVTT file
using only nested cues</dfn>:</p>
   <p>given any two cues <var>cue1</var> and <var>cue2</var> with start and end time offsets (<var>x1</var>, <var>y1</var>) and (<var>x2</var>, <var>y2</var>) respectively,</p>
   <ul>
    <li>either <var>cue1</var> lies fully within <var>cue2</var>, i.e. <var>x1</var> >= <var>x2</var> and <var>y1</var> &lt;= <var>y2</var>
    <li>or <var>cue1</var> fully contains <var>cue2</var>, i.e. <var>x1</var> &lt;= <var>x2</var> and <var>y1</var> >= <var>y2</var>.
   </ul>
   <div class="example" id="example-0689f1d2">
    <a class="self-link" href="#example-0689f1d2"></a> 
    <p>The following example matches this definition:</p>
<pre>WEBVTT

00:00.000 --> 01:24.000
Introduction

00:00.000 --> 00:44.000
Topics

00:44.000 --> 01:19.000
Presenters

01:24.000 --> 05:00.000
Scrolling Effects

01:35.000 --> 03:00.000
Achim’s Demo

03:00.000 --> 05:00.000
Timeline Panel
</pre>
    <p>Notice how you can express the cues in this WebVTT file as a tree structure:</p>
    <ul>
     <li>
       WebVTT file 
      <ul>
       <li>
         Introduction 
        <ul>
         <li>Topics
         <li>Presenters
        </ul>
       <li>
         Scrolling Effects 
        <ul>
         <li>Achim’s Demo
         <li>Timeline Panel
        </ul>
      </ul>
    </ul>
    <p>If the file has cues that can’t be expressed in this fashion, then they don’t match the
 definition of a <a data-link-type="dfn" href="#webvtt-file-using-only-nested-cues" id="ref-for-webvtt-file-using-only-nested-cues-1">WebVTT file using only nested cues</a>. For example:</p>
<pre>WEBVTT

00:00.000 --> 01:00.000
The First Minute

00:30.000 --> 01:30.000
The Final Minute
</pre>
    <p>In this ninety-second example, the two cues partly overlap, with the first ending before the
 second ends and the second starting before the first ends. This therefore is not a <a data-link-type="dfn" href="#webvtt-file-using-only-nested-cues" id="ref-for-webvtt-file-using-only-nested-cues-2">WebVTT file
 using only nested cues</a>.</p>
   </div>
   <h3 class="heading settled" data-level="4.6" id="types-of-webvtt-files"><span class="secno">4.6. </span><span class="content">Types of WebVTT files</span><a class="self-link" href="#types-of-webvtt-files"></a></h3>
   <p>The syntax definition of WebVTT files allows authoring of a wide variety of WebVTT files with a
mix of cues. However, only a small subset of WebVTT file types are typically authored.</p>
   <p>Conformance checkers, when validating <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-11">WebVTT files</a>, may offer to restrict syntax checking
for validating these types.</p>
   <h4 class="heading settled" data-level="4.6.1" id="file-using-metadata-content"><span class="secno">4.6.1. </span><span class="content">WebVTT file using metadata content</span><a class="self-link" href="#file-using-metadata-content"></a></h4>
   <p>A <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-12">WebVTT file</a> whose cues all have a <a data-link-type="dfn" href="#cue-payload" id="ref-for-cue-payload-3">cue payload</a> that is <a data-link-type="dfn" href="#webvtt-metadata-text" id="ref-for-webvtt-metadata-text-3">WebVTT metadata text</a> is said to be a <dfn data-dfn-type="dfn" data-noexport="" id="webvtt-file-using-metadata-content">WebVTT file using metadata content<a class="self-link" href="#webvtt-file-using-metadata-content"></a></dfn>.</p>
   <h4 class="heading settled" data-level="4.6.2" id="file-using-chapter-title-text"><span class="secno">4.6.2. </span><span class="content">WebVTT file using chapter title text</span><a class="self-link" href="#file-using-chapter-title-text"></a></h4>
   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="webvtt-file-using-chapter-title-text">WebVTT file using chapter title text<a class="self-link" href="#webvtt-file-using-chapter-title-text"></a></dfn> is a <a data-link-type="dfn" href="#webvtt-file-using-only-nested-cues" id="ref-for-webvtt-file-using-only-nested-cues-3">WebVTT file using only nested cues</a> whose cues all have a <a data-link-type="dfn" href="#cue-payload" id="ref-for-cue-payload-4">cue payload</a> that is <a data-link-type="dfn" href="#webvtt-chapter-title-text" id="ref-for-webvtt-chapter-title-text-2">WebVTT chapter title text</a>.</p>
   <h4 class="heading settled" data-level="4.6.3" id="file-using-cue-text"><span class="secno">4.6.3. </span><span class="content">WebVTT file using caption or subtitle cue text</span><a class="self-link" href="#file-using-cue-text"></a></h4>
   <p>A <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-13">WebVTT file</a> whose cues all have a <a data-link-type="dfn" href="#cue-payload" id="ref-for-cue-payload-5">cue payload</a> that is <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-4">WebVTT caption or
subtitle cue text</a> is said to be a <dfn data-dfn-type="dfn" data-noexport="" id="webvtt-file-using-caption-or-subtitle-cue-text">WebVTT file using caption or subtitle cue text<a class="self-link" href="#webvtt-file-using-caption-or-subtitle-cue-text"></a></dfn>.</p>
   <h2 class="heading settled" data-level="5" id="default-classes"><span class="secno">5. </span><span class="content">Default classes for WebVTT Caption or Subtitle Cue Components</span><a class="self-link" href="#default-classes"></a></h2>
   <p>Many captioning formats have simple ways of specifying a limited subset of text colors and
background colors for text. Therefore, the WebVTT spec makes available a set of default <a data-link-type="dfn" href="#cue-component-class-names" id="ref-for-cue-component-class-names-1">cue
component class names</a> for <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-components" id="ref-for-webvtt-caption-or-subtitle-cue-components-5">WebVTT caption or subtitle cue components</a> that authors can use
in a standard way to mark up colored text and text background.</p>
   <p class="note" role="note">User agents that support CSS style sheets may implement this section through adding
User Agent stylesheets.</p>
   <h3 class="heading settled" data-level="5.1" id="default-text-color"><span class="secno">5.1. </span><span class="content">Default text colors</span><a class="self-link" href="#default-text-color"></a></h3>
   <p><a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-components" id="ref-for-webvtt-caption-or-subtitle-cue-components-6">WebVTT caption or subtitle cue components</a> that have one or more <a data-link-type="dfn" href="#cue-component-class-names" id="ref-for-cue-component-class-names-2">class names</a> matching those in the first cell of a row in the table below must set their <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-color-4/#propdef-color">color</a> property as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/rendering.html#presentational-hints">presentational hints</a> to the value in the second cell of the
row:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#cue-component-class-names" id="ref-for-cue-component-class-names-3">class names</a>
      <th><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-color-4/#propdef-color">color</a> value
    <tbody>
     <tr>
      <td><code>white</code>
      <td><span class="css">rgba(255,255,255,1)</span>
     <tr>
      <td><code>lime</code>
      <td><span class="css">rgba(0,255,0,1)</span>
     <tr>
      <td><code>cyan</code>
      <td><span class="css">rgba(0,255,255,1)</span>
     <tr>
      <td><code>red</code>
      <td><span class="css">rgba(255,0,0,1)</span>
     <tr>
      <td><code>yellow</code>
      <td><span class="css">rgba(255,255,0,1)</span>
     <tr>
      <td><code>magenta</code>
      <td><span class="css">rgba(255,0,255,1)</span>
     <tr>
      <td><code>blue</code>
      <td><span class="css">rgba(0,0,255,1)</span>
     <tr>
      <td><code>black</code>
      <td><span class="css">rgba(0,0,0,1)</span>
   </table>
   <p class="note" role="note">If your background is captioning, don’t get confused: The color for the class <code>lime</code> is what has traditionally been used in captioning under the name <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-green">green</a> (e.g.
608/708).</p>
   <p class="note" role="note">Do not use the classes <code>blue</code> and <code>black</code> on the default dark
background, since they result in unreadable text. In general, please refer to WCAG for guidance on
color contrast <a data-link-type="biblio" href="#biblio-wcag20">[WCAG20]</a> and make sure to take into account the text color, background color and
also the video’s color.</p>
   <h3 class="heading settled" data-level="5.2" id="default-text-background"><span class="secno">5.2. </span><span class="content">Default text background colors</span><a class="self-link" href="#default-text-background"></a></h3>
   <p><a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-components" id="ref-for-webvtt-caption-or-subtitle-cue-components-7">WebVTT caption or subtitle cue components</a> that have one or more <a data-link-type="dfn" href="#cue-component-class-names" id="ref-for-cue-component-class-names-4">class names</a> matching those in the first cell of a row in the table below must set their <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background-color">background-color</a> property as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/rendering.html#presentational-hints">presentational hints</a> to the value in the second cell
of the row:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#cue-component-class-names" id="ref-for-cue-component-class-names-5">class names</a>
      <th><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background">background</a> value
    <tbody>
     <tr>
      <td><code>bg_white</code>
      <td><span class="css">rgba(255,255,255,1)</span>
     <tr>
      <td><code>bg_lime</code>
      <td><span class="css">rgba(0,255,0,1)</span>
     <tr>
      <td><code>bg_cyan</code>
      <td><span class="css">rgba(0,255,255,1)</span>
     <tr>
      <td><code>bg_red</code>
      <td><span class="css">rgba(255,0,0,1)</span>
     <tr>
      <td><code>bg_yellow</code>
      <td><span class="css">rgba(255,255,0,1)</span>
     <tr>
      <td><code>bg_magenta</code>
      <td><span class="css">rgba(255,0,255,1)</span>
     <tr>
      <td><code>bg_blue</code>
      <td><span class="css">rgba(0,0,255,1)</span>
     <tr>
      <td><code>bg_black</code>
      <td><span class="css">rgba(0,0,0,1)</span>
   </table>
   <p class="note" role="note">The color for the class <code>bg_lime</code> is what has traditionally been used in
captioning under the name <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-color-4/#valdef-color-green">green</a> (e.g. 608/708).</p>
   <p>For the purpose of determining the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-4/#cascade">cascade</a> of the color and background
classes, the order of appearance determines the cascade of the classes.</p>
   <div class="example" id="example-a15d9824">
    <a class="self-link" href="#example-a15d9824"></a> 
    <p>This example shows how to use the classes.</p>
<pre>WEBVTT

02:00.000 --> 02:05.000
&lt;c.yellow.bg_blue>This is yellow text on a blue background&lt;/c>

04:00.000 --> 04:05.000
&lt;c.yellow.bg_blue.magenta.bg_black>This is magenta text on a black background&lt;/c>
</pre>
   </div>
   <p class="note" role="note">Default classes can be changed by authors, e.g. ::cue(.yellow) {color:cyan} would
change all .yellow classed text to cyan.</p>
   <h2 class="heading settled" data-level="6" id="parsing"><span class="secno">6. </span><span class="content">Parsing</span><a class="self-link" href="#parsing"></a></h2>
   <p>WebVTT file parsing is the same for all types of WebVTT files, including captions, subtitles,
chapters, or metadata. Most of the steps will be skipped for chapters or metadata files.</p>
   <h3 class="heading settled algorithm" data-algorithm="WebVTT file parsing" data-level="6.1" id="file-parsing"><span class="secno">6.1. </span><span class="content">WebVTT file parsing</span><a class="self-link" href="#file-parsing"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-parser">WebVTT parser</dfn>, given an input byte stream, a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#list-of-cues">text track list of cues</a> <var>output</var>, and a collection of <a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#css-style-sheet">CSS style sheets</a> <var>stylesheets</var>, must decode the byte
stream using the <a data-link-type="dfn" href="https://www.w3.org/TR/encoding/#utf-8-decode">UTF-8 decode</a> algorithm, and then must parse the resulting
string according to the <a data-link-type="dfn" href="#webvtt-parser-algorithm" id="ref-for-webvtt-parser-algorithm-1">WebVTT parser algorithm</a> below. This results in <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-18">WebVTT cues</a> being added to <var>output</var>, and <a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#css-style-sheet">CSS style sheets</a> being added to <var>stylesheets</var>. <a data-link-type="biblio" href="#biblio-rfc3629">[RFC3629]</a></p>
   <p>A <a data-link-type="dfn" href="#webvtt-parser" id="ref-for-webvtt-parser-2">WebVTT parser</a>, specifically its conversion and parsing steps, is typically run
asynchronously, with the input byte stream being updated incrementally as the resource is
downloaded; this is called an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="incremental-webvtt-parser">incremental WebVTT parser</dfn>.</p>
   <p>A <a data-link-type="dfn" href="#webvtt-parser" id="ref-for-webvtt-parser-3">WebVTT parser</a> verifies a file signature before parsing the provided byte stream. If the
stream lacks this WebVTT file signature, then the parser aborts.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-parser-algorithm">WebVTT parser algorithm</dfn> is as follows:</p>
   <ol class="algorithm" data-algorithm="WebVTT parser algorithm">
    <li>
     <p>Let <var>input</var> be the string being parsed, after conversion to Unicode, and with the following
  transformations applied:</p>
     <ul>
      <li>
       <p>Replace all U+0000 NULL characters by U+FFFD REPLACEMENT CHARACTERs.</p>
      <li>
       <p>Replace each U+000D CARRIAGE RETURN U+000A LINE FEED (CRLF) character pair by a single
   U+000A LINE FEED (LF) character.</p>
      <li>
       <p>Replace all remaining U+000D CARRIAGE RETURN characters by U+000A LINE FEED (LF)
   characters.</p>
     </ul>
    <li>
     <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start of the string. In
 an <a data-link-type="dfn" href="#incremental-webvtt-parser" id="ref-for-incremental-webvtt-parser-1">incremental WebVTT parser</a>, when this algorithm (or further algorithms that it uses) moves
 the <var>position</var> pointer, the user agent must wait until appropriate further characters from the byte
 stream have been added to <var>input</var> before moving the pointer, so that the algorithm never reads past
 the end of the <var>input</var> string. Once the byte stream has ended, and all characters have been added
 to <var>input</var>, then the <var>position</var> pointer may, when so instructed by the algorithms, be moved past
 the end of <var>input</var>.</p>
    <li>Let <var>seen cue</var> be false.
    <li>
     <p>If <var>input</var> is less than six characters long, then abort these steps. The file does not start
 with the correct <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-14">WebVTT file</a> signature and was therefore not successfully
 processed.</p>
    <li>
     <p>If <var>input</var> is exactly six characters long but does not exactly equal "<code>WEBVTT</code>",
 then abort these steps. The file does not start with the correct <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-15">WebVTT file</a> signature and
 was therefore not successfully processed.</p>
    <li>
     <p>If <var>input</var> is more than six characters long but the first six characters do not exactly
 equal "<code>WEBVTT</code>", or the seventh character is not a U+0020 SPACE character, a U+0009
 CHARACTER TABULATION (tab) character, or a U+000A LINE FEED (LF) character, then abort these steps.
 The file does not start with the correct <a data-link-type="dfn" href="#webvtt-file" id="ref-for-webvtt-file-16">WebVTT file</a> signature and was therefore not
 successfully processed.</p>
    <li>
     <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of code points</a> that are <em>not</em> U+000A LINE FEED (LF)
 characters.</p>
    <li>
     <p>If <var>position</var> is past the end of <var>input</var>, then abort these steps. The file was successfully
 processed, but it contains no useful data and so no <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-19">WebVTT cues</a> were added
 to <var>output</var>.</p>
    <li>
     <p>The character indicated by <var>position</var> is a U+000A LINE FEED (LF) character. Advance <var>position</var> to the next character in <var>input</var>.</p>
    <li>
     <p>If <var>position</var> is past the end of <var>input</var>, then abort these steps. The file was successfully
 processed, but it contains no useful data and so no <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-20">WebVTT cues</a> were added
 to <var>output</var>.</p>
    <li>
     <p><i>Header</i>: If the character indicated by <var>position</var> is not a U+000A LINE FEED (LF)
 character, then <a data-link-type="dfn" href="#collect-a-webvtt-block" id="ref-for-collect-a-webvtt-block-1">collect a WebVTT block</a> with the <i>in header</i> flag set. Otherwise,
 advance <var>position</var> to the next character in <var>input</var>.</p>
    <li>
     <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of code points</a> that are U+000A LINE FEED (LF) characters.</p>
    <li>
     <p>Let <var>regions</var> be an empty <a data-link-type="dfn" href="#text-track-list-of-regions" id="ref-for-text-track-list-of-regions-1">text track list of regions</a>.</p>
    <li>
     <p><i>Block loop</i>: While <var>position</var> doesn’t point past the end of <var>input</var>:</p>
     <ol>
      <li>
       <p><a data-link-type="dfn" href="#collect-a-webvtt-block" id="ref-for-collect-a-webvtt-block-2">Collect a WebVTT block</a>, and let <var>block</var> be the returned value.</p>
      <li>
       <p>If <var>block</var> is a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-21">WebVTT cue</a>, add <var>block</var> to the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#list-of-cues">text track list of cues</a> <var>output</var>.</p>
      <li>
       <p>Otherwise, if <var>block</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#css-style-sheet">CSS style sheet</a>, add <var>block</var> to <var>stylesheets</var>.</p>
      <li>
       <p>Otherwise, if <var>block</var> is a <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-1">WebVTT region object</a>, add <var>block</var> to <var>regions</var>.</p>
      <li>
       <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of code points</a> that are U+000A LINE FEED (LF)
   characters.</p>
     </ol>
    <li>
     <p><i>End</i>: The file has ended. Abort these steps. The <a data-link-type="dfn" href="#webvtt-parser" id="ref-for-webvtt-parser-4">WebVTT parser</a> has finished.
 The file was successfully processed.</p>
   </ol>
   <p>When the algorithm above says to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="collect-a-webvtt-block">collect a WebVTT block</dfn>, optionally with a flag <i>in
header</i> set, the user agent must run the following steps:</p>
   <ol class="algorithm" data-algorithm="collect a WebVTT block">
    <li>
     <p>Let <var>input</var>, <var>position</var>, <var>seen cue</var> and <var>regions</var> be the same variables as those of the same
 name in the algorithm that invoked these steps.</p>
    <li>
     <p>Let <var>line count</var> be zero.</p>
    <li>
     <p>Let <var>previous position</var> be <var>position</var>.</p>
    <li>
     <p>Let <var>line</var> be the empty string.</p>
    <li>
     <p>Let <var>buffer</var> be the empty string.</p>
    <li>
     <p>Let <var>seen EOF</var> be false.</p>
    <li>
     <p>Let <var>seen arrow</var> be false.</p>
    <li>
     <p>Let <var>cue</var> be null.</p>
    <li>
     <p>Let <var>stylesheet</var> be null.</p>
    <li>
     <p>Let <var>region</var> be null.</p>
    <li>
     <p><i>Loop</i>: Run these substeps in a loop:</p>
     <ol>
      <li>
       <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of code points</a> that are <em>not</em> U+000A LINE FEED (LF)
   characters. Let <var>line</var> be those characters, if any.</p>
      <li>
       <p>Increment <var>line count</var> by 1.</p>
      <li>
       <p>If <var>position</var> is past the end of <var>input</var>, let <var>seen EOF</var> be true. Otherwise, the character
   indicated by <var>position</var> is a U+000A LINE FEED (LF) character; advance <var>position</var> to the next
   character in <var>input</var>.</p>
      <li>
       <p>If <var>line</var> contains the three-character substring "<code>--></code>" (U+002D HYPHEN-MINUS,
    U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN), then run these substeps:</p>
       <ol>
        <li>
         <p>If <i>in header</i> is not set and at least one of the following conditions are true:</p>
         <ul>
          <li>
           <p><var>line count</var> is 1</p>
          <li>
           <p><var>line count</var> is 2 and <var>seen arrow</var> is false</p>
         </ul>
         <p>...then run these substeps:</p>
         <ol>
          <li>
           <p>Let <var>seen arrow</var> be true.</p>
          <li>
           <p>Let <var>previous position</var> be <var>position</var>.</p>
          <li>
           <p><i>Cue creation</i>: Let <var>cue</var> be a new <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-22">WebVTT cue</a> and initialize it as
        follows:</p>
           <ol>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-identifier">text track cue identifier</a> be <var>buffer</var>.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#pause-on-exit-flag">text track cue pause-on-exit flag</a> be false.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-2">WebVTT cue region</a> be null.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-13">WebVTT cue writing direction</a> be <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-13">horizontal</a>.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-8">WebVTT cue snap-to-lines flag</a> be true.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-21">WebVTT cue line</a> be <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-4">auto</a>.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-6">WebVTT cue line alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-line-start-alignment" id="ref-for-webvtt-cue-line-start-alignment-4">start alignment</a>.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-20">WebVTT cue position</a> be <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-6">auto</a>.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-7">WebVTT cue position alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-position-automatic-alignment" id="ref-for-webvtt-cue-position-automatic-alignment-3">auto</a>.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-7">WebVTT cue size</a> be 100.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-15">WebVTT cue text alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-5">center alignment</a>.</p>
            <li>
             <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-7">cue text</a> be the empty string.</p>
           </ol>
          <li>
           <p><a data-link-type="dfn" href="#collect-webvtt-cue-timings-and-settings" id="ref-for-collect-webvtt-cue-timings-and-settings-1">Collect WebVTT cue timings and settings</a> from <var>line</var> using <var>regions</var> for <var>cue</var>.
       If that fails, let <var>cue</var> be null. Otherwise, let <var>buffer</var> be the empty string and let <var>seen
       cue</var> be true.</p>
         </ol>
         <p>Otherwise, let <var>position</var> be <var>previous position</var> and break out of <i>loop</i>.</p>
       </ol>
      <li>
       <p>Otherwise, if <var>line</var> is the empty string, break out of <i>loop</i>.</p>
      <li>
       <p>Otherwise, run these substeps:</p>
       <ol>
        <li>
         <p>If <i>in header</i> is not set and <var>line count</var> is 2, run these substeps:</p>
         <ol>
          <li>
           <p>If <var>seen cue</var> is false and <var>buffer</var> starts with the substring "<code>STYLE</code>"
        (U+0053 LATIN CAPITAL LETTER S, U+0054 LATIN CAPITAL LETTER T, U+0059 LATIN CAPITAL LETTER
        Y, U+004C LATIN CAPITAL LETTER L, U+0045 LATIN CAPITAL LETTER E), and the remaining
        characters in <var>buffer</var> (if any) are all <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#space-characters">ASCII whitespace</a>, then run these
        substeps:</p>
           <ol>
            <li>
             <p>Let <var>stylesheet</var> be the result of <a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#create-a-css-style-sheet">creating
          a CSS style sheet</a>, with the following properties: <a data-link-type="biblio" href="#biblio-cssom">[CSSOM]</a></p>
             <dl>
              <dt><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-location">location</a>
              <dd>null
              <dt><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-parent-css-style-sheet">parent CSS style sheet</a>
              <dd>null
              <dt><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-owner-node">owner node</a>
              <dd>null
              <dt><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-owner-css-rule">owner CSS rule</a>
              <dd>null
              <dt><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-media">media</a>
              <dd>The empty string.
              <dt><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-title">title</a>
              <dd>The empty string.
              <dt><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-alternate-flag">alternate flag</a>
              <dd>Unset.
              <dt><a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-origin-clean-flag">origin-clean flag</a>
              <dd>Set.
             </dl>
            <li>
             <p>Let <var>buffer</var> be the empty string.</p>
           </ol>
          <li>
           <p>Otherwise, if <var>seen cue</var> is false and <var>buffer</var> starts with the substring
        "<code>REGION</code>" (U+0052 LATIN CAPITAL LETTER R, U+0045 LATIN CAPITAL LETTER E, U+0047
        LATIN CAPITAL LETTER G, U+0049 LATIN CAPITAL LETTER I, U+004F LATIN CAPITAL LETTER O, U+004E
        LATIN CAPITAL LETTER N), and the remaining characters in <var>buffer</var> (if any) are all <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#space-characters">ASCII
        whitespace</a>, then run these substeps:</p>
           <ol>
            <li>
             <p><i>Region creation</i>: Let <var>region</var> be a new <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-9">WebVTT region</a>.</p>
            <li>
             <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-2">identifier</a> be the empty
         string.</p>
            <li>
             <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-1">width</a> be 100.</p>
            <li>
             <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-lines" id="ref-for-webvtt-region-lines-1">lines</a> be 3.</p>
            <li>
             <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-1">anchor point</a> be (0,100).</p>
            <li>
             <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-viewport-anchor" id="ref-for-webvtt-region-viewport-anchor-1">viewport anchor point</a> be
         (0,100).</p>
            <li>
             <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-scroll" id="ref-for-webvtt-region-scroll-1">scroll value</a> be <a data-link-type="dfn" href="#webvtt-region-scroll-none" id="ref-for-webvtt-region-scroll-none-1">none</a>.</p>
            <li>
             <p>Let <var>buffer</var> be the empty string.</p>
           </ol>
         </ol>
        <li>
         <p>If <var>buffer</var> is not the empty string, append a U+000A LINE FEED (LF) character to <var>buffer</var>.</p>
        <li>
         <p>Append <var>line</var> to <var>buffer</var>.</p>
        <li>
         <p>Let <var>previous position</var> be <var>position</var>.</p>
       </ol>
      <li>
       <p>If <var>seen EOF</var> is true, break out of <i>loop</i>.</p>
     </ol>
    <li>
     <p>If <var>cue</var> is not null, let the <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-8">cue text</a> of <var>cue</var> be <var>buffer</var>, and return <var>cue</var>.</p>
    <li>
     <p>Otherwise, if <var>stylesheet</var> is not null, then <a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#parse-a-stylesheet0">Parse a stylesheet</a> from <var>buffer</var>. If it returned a list of rules, assign the list as <var>stylesheet</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-css-rules">CSS rules</a>; otherwise, set <var>stylesheet</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-css-rules">CSS
 rules</a> to an empty list. <a data-link-type="biblio" href="#biblio-cssom">[CSSOM]</a> <a data-link-type="biblio" href="#biblio-css-syntax-3">[CSS-SYNTAX-3]</a> Finally, return <var>stylesheet</var>.</p>
    <li>
     <p>Otherwise, if <var>region</var> is not null, then <a data-link-type="dfn" href="#collect-webvtt-region-settings" id="ref-for-collect-webvtt-region-settings-1">collect WebVTT region settings</a> from <var>buffer</var> using <var>region</var> for the results. Construct a <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-2">WebVTT Region Object</a> from <var>region</var>, and return
 it.</p>
    <li>
     <p>Otherwise, return null.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="WebVTT region settings parsing" data-level="6.2" id="region-settings-parsing"><span class="secno">6.2. </span><span class="content">WebVTT region settings parsing</span><a class="self-link" href="#region-settings-parsing"></a></h3>
   <p>When the <a data-link-type="dfn" href="#webvtt-parser-algorithm" id="ref-for-webvtt-parser-algorithm-2">WebVTT parser algorithm</a> says to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="collect-webvtt-region-settings">collect WebVTT region settings</dfn> from a
string <var>input</var> for a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a>, the user agent must run the following algorithm.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-region-object">WebVTT region object</dfn> is a conceptual construct to represent a <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-10">WebVTT region</a> that is used as a root node for <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-1">lists of WebVTT node
objects</a>. This algorithm returns a list of <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-3">WebVTT Region
Objects</a>.</p>
   <ol class="algorithm" data-algorithm="WebVTT region objects">
    <li>
     <p>Let <var>settings</var> be the result of <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#split-a-string-on-spaces">splitting <var>input</var> on
 spaces</a>.</p>
    <li>
      For each token <var>setting</var> in the list <var>settings</var>, run the following substeps: 
     <ol>
      <li>
       <p>If <var>setting</var> does not contain a U+003A COLON character (:), or if the first U+003A COLON
   character (:) in <var>setting</var> is either the first or last character of <var>setting</var>, then jump to the
   step labeled <i>next setting</i>.</p>
      <li>
       <p>Let <var>name</var> be the leading substring of <var>setting</var> up to and excluding the first U+003A
   COLON character (:) in that string.</p>
      <li>
       <p>Let <var>value</var> be the trailing substring of <var>setting</var> starting from the character immediately
   after the first U+003A COLON character (:) in that string.</p>
      <li>
       <p>Run the appropriate substeps that apply for the value of <var>name</var>, as follows:</p>
       <dl>
        <dt>
         <p>If <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>id</code>"</p>
        <dd>
         <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-3">identifier</a> be <var>value</var>.</p>
        <dt>
         <p>Otherwise if <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>width</code>"</p>
        <dd>
         <p>If <a data-link-type="dfn" href="#parse-a-percentage-string" id="ref-for-parse-a-percentage-string-1">parse a percentage string</a> from <var>value</var> returns a <var>percentage</var>, let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-2">WebVTT region width</a> be <var>percentage</var>.</p>
        <dt>Otherwise if <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>lines</code>"
        <dd>
         <ol>
          <li>
           <p>If <var>value</var> contains any characters other than <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, then jump to the
       step labeled <i>next setting</i>.</p>
          <li>
           <p>Interpret <var>value</var> as an integer, and let <var>number</var> be that number.</p>
          <li>
           <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-lines" id="ref-for-webvtt-region-lines-2">WebVTT region lines</a> be <var>number</var>.</p>
         </ol>
        <dt>Otherwise if <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>regionanchor</code>"
        <dd>
         <ol>
          <li>
           <p>If <var>value</var> does not contain a U+002C COMMA character (,), then jump to the step
       labeled <i>next setting</i>.</p>
          <li>
           <p>Let <var>anchorX</var> be the leading substring of <var>value</var> up to and excluding the first U+002C
       COMMA character (,) in that string.</p>
          <li>
           <p>Let <var>anchorY</var> be the trailing substring of <var>value</var> starting from the character
       immediately after the first U+002C COMMA character (,) in that string.</p>
          <li>
           <p>If <a data-link-type="dfn" href="#parse-a-percentage-string" id="ref-for-parse-a-percentage-string-2">parse a percentage string</a> from <var>anchorX</var> or <a data-link-type="dfn" href="#parse-a-percentage-string" id="ref-for-parse-a-percentage-string-3">parse a percentage string</a> from <var>anchorY</var> don’t return a <var>percentage</var>, then jump to the step labeled <i>next
       setting</i>.</p>
          <li>
           <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-2">WebVTT region anchor point</a> be the
       tuple of the <var>percentage</var> values calculated from <var>anchorX</var> and <var>anchorY</var>.</p>
         </ol>
        <dt>Otherwise if <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>viewportanchor</code>"
        <dd>
         <ol>
          <li>
           <p>If <var>value</var> does not contain a U+002C COMMA character (,), then jump to the step
       labeled <i>next setting</i>.</p>
          <li>
           <p>Let <var>viewportanchorX</var> be the leading substring of <var>value</var> up to and excluding the
       first U+002C COMMA character (,) in that string.</p>
          <li>
           <p>Let <var>viewportanchorY</var> be the trailing substring of <var>value</var> starting from the character
       immediately after the first U+002C COMMA character (,) in that string.</p>
          <li>
           <p>If <a data-link-type="dfn" href="#parse-a-percentage-string" id="ref-for-parse-a-percentage-string-4">parse a percentage string</a> from <var>viewportanchorX</var> or <a data-link-type="dfn" href="#parse-a-percentage-string" id="ref-for-parse-a-percentage-string-5">parse a percentage
       string</a> from <var>viewportanchorY</var> don’t return a <var>percentage</var>, then jump to the step labeled <i>next setting</i>.</p>
          <li>
           <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-viewport-anchor" id="ref-for-webvtt-region-viewport-anchor-2">WebVTT region viewport anchor
       point</a> be the tuple of the <var>percentage</var> values calculated from <var>viewportanchorX</var> and <var>viewportanchorY</var>.</p>
         </ol>
        <dt>Otherwise if <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>scroll</code>"
        <dd>
         <ol>
          <li>
           <p>If <var>value</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string "<code>up</code>", then let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-scroll" id="ref-for-webvtt-region-scroll-2">scroll value</a> be <a data-link-type="dfn" href="#webvtt-region-scroll-up" id="ref-for-webvtt-region-scroll-up-1">up</a>.</p>
         </ol>
       </dl>
      <li><i>Next setting</i>: Continue to the next setting, if any.
     </ol>
   </ol>
   <p>The rules to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="parse-a-percentage-string">parse a percentage string</dfn> are as follows. This will return either a
number in the range 0..100, or nothing. If at any point the algorithm says that it "fails", this
means that it is aborted at that point and returns nothing.</p>
   <ol class="algorithm" data-algorithm="parse a percentage string">
    <li>
     <p>Let <var>input</var> be the string being parsed.</p>
    <li>
     <p>If <var>input</var> does not match the syntax for a <a data-link-type="dfn" href="#webvtt-percentage" id="ref-for-webvtt-percentage-10">WebVTT percentage</a>, then fail.</p>
    <li>
     <p>Remove the last character from <var>input</var>.</p>
    <li>
     <p>Let <var>percentage</var> be the result of parsing <var>input</var> using the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#rules-for-parsing-floating-point-number-values">rules for parsing
 floating-point number values</a>. <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a></p>
    <li>
     <p>If <var>percentage</var> is an error, is less than 0, or is greater than 100, then fail.</p>
    <li>
     <p>Return <var>percentage</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="WebVTT cue timings and settings parsing" data-level="6.3" id="cue-timings-and-settings-parsing"><span class="secno">6.3. </span><span class="content">WebVTT cue timings and settings parsing</span><a class="self-link" href="#cue-timings-and-settings-parsing"></a></h3>
   <p>When the algorithm above says to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="collect-webvtt-cue-timings-and-settings">collect WebVTT cue timings and settings</dfn> from a string <var>input</var> using a <a data-link-type="dfn" href="#text-track-list-of-regions" id="ref-for-text-track-list-of-regions-2">text track list of regions</a> <var>regions</var> for a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-23">WebVTT cue</a> <var>cue</var>, the user
agent must run the following algorithm.</p>
   <ol class="algorithm" data-algorithm="collect WebVTT cue timings and settings">
    <li>
     <p>Let <var>input</var> be the string being parsed.</p>
    <li>
     <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start of the
 string.</p>
    <li>
     <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
    <li>
     <p><a data-link-type="dfn" href="#collect-a-webvtt-timestamp" id="ref-for-collect-a-webvtt-timestamp-1">Collect a WebVTT timestamp</a>. If that algorithm fails, then abort these steps and
 return failure. Otherwise, let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-start-time">text track cue start time</a> be the collected
 time.</p>
    <li>
     <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
    <li>
     <p>If  the character at <var>position</var> is not a
 U+002D HYPHEN-MINUS character (-) then abort these steps and return failure. Otherwise, move <var>position</var> forwards one character.</p>
    <li>
     <p>If  the character at <var>position</var> is not a
 U+002D HYPHEN-MINUS character (-) then abort these steps and return failure. Otherwise, move <var>position</var> forwards one character.</p>
    <li>
     <p>If  the character at <var>position</var> is not a
 U+003E GREATER-THAN SIGN character (>) then abort these steps and return failure. Otherwise, move <var>position</var> forwards one character.</p>
    <li>
     <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
    <li>
     <p><a data-link-type="dfn" href="#collect-a-webvtt-timestamp" id="ref-for-collect-a-webvtt-timestamp-2">Collect a WebVTT timestamp</a>. If that algorithm fails, then abort these steps and
 return failure. Otherwise, let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-end-time">text track cue end time</a> be the collected
 time.</p>
    <li>
     <p>Let <var>remainder</var> be the trailing substring of <var>input</var> starting at <var>position</var>.</p>
    <li>
     <p><a data-link-type="dfn" href="#parse-the-webvtt-cue-settings" id="ref-for-parse-the-webvtt-cue-settings-1">Parse the WebVTT cue settings</a> from <var>remainder</var> using <var>regions</var> for <var>cue</var>.</p>
   </ol>
   <p>When the user agent is to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="parse-the-webvtt-cue-settings">parse the WebVTT cue settings</dfn> from a string <var>input</var> using a <a data-link-type="dfn" href="#text-track-list-of-regions" id="ref-for-text-track-list-of-regions-3">text track list of regions</a> <var>regions</var> for a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#cue">text track cue</a> <var>cue</var>, the user agent must
run the following steps:</p>
   <ol class="algorithm" data-algorithm="parse the WebVTT cue settings">
    <li>
     <p>Let <var>settings</var> be the result of <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#split-a-string-on-spaces">splitting <var>input</var> on
 spaces</a>.</p>
    <li>
     <p>For each token <var>setting</var> in the list <var>settings</var>, run the following substeps:</p>
     <ol>
      <li>
       <p>If <var>setting</var> does not contain a U+003A COLON character (:), or if the first U+003A COLON
   character (:) in <var>setting</var> is either the first or last character of <var>setting</var>, then jump to the
   step labeled <i>next setting</i>.</p>
      <li>
       <p>Let <var>name</var> be the leading substring of <var>setting</var> up to and excluding the first U+003A
   COLON character (:) in that string.</p>
      <li>
       <p>Let <var>value</var> be the trailing substring of <var>setting</var> starting from the character immediately
   after the first U+003A COLON character (:) in that string.</p>
      <li>
       <p>Run the appropriate substeps that apply for the value of <var>name</var>, as follows:</p>
       <dl>
        <dt>If <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>region</code>"
        <dd>
         <ol>
          <li>
           <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-3">WebVTT cue region</a> be the last <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-11">WebVTT region</a> in <var>regions</var> whose <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-4">WebVTT region identifier</a> is <var>value</var>, if any, or null otherwise.</p>
         </ol>
        <dt>If <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>vertical</code>"
        <dd>
         <ol>
          <li>
           <p>If <var>value</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string "<code>rl</code>", then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-14">WebVTT cue writing direction</a> be <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-4">vertical growing left</a>.</p>
          <li>
           <p>Otherwise, if <var>value</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string
       "<code>lr</code>", then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-15">WebVTT cue writing direction</a> be <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-4">vertical growing right</a>.</p>
          <li>
           <p>If <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-16">WebVTT cue writing direction</a> is not <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-14">horizontal</a>, let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-4">WebVTT cue region</a> be null (there are no
       vertical regions).</p>
         </ol>
        <dt>If <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>line</code>"
        <dd>
         <ol>
          <li>
           <p>If <var>value</var> contains a U+002C COMMA character (,), then let <var>linepos</var> be the leading
       substring of <var>value</var> up to and excluding the first U+002C COMMA character (,) in that string
       and let <var>linealign</var> be the trailing substring of <var>value</var> starting from the character
       immediately after the first U+002C COMMA character (,) in that string.</p>
          <li>
           <p>Otherwise let <var>linepos</var> be the full <var>value</var> string and <var>linealign</var> be null.</p>
          <li>
           <p>If <var>linepos</var> does not contain at least one <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digit</a>, then jump to the step
       labeled <i>next setting</i>.</p>
          <li>
           <dl>
            <dt>
             <p>If the last character in <var>linepos</var> is a U+0025 PERCENT SIGN character (%)</p>
            <dd>
             <p>If <a data-link-type="dfn" href="#parse-a-percentage-string" id="ref-for-parse-a-percentage-string-6">parse a percentage string</a> from <var>linepos</var> doesn’t fail, let <var>number</var> be the
         returned <var>percentage</var>, otherwise jump to the step labeled <i>next setting</i>.</p>
            <dt>
             <p>Otherwise</p>
            <dd>
             <ol>
              <li>
               <p>If <var>linepos</var> contains any characters other than U+002D HYPHEN-MINUS characters
           (-), <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, and U+002E DOT character (.), then jump to the step labeled <i>next setting</i>.</p>
              <li>
               <p>If any character in <var>linepos</var> other than the first character is a U+002D
           HYPHEN-MINUS character (-), then jump to the step labeled <i>next setting</i>.</p>
              <li>
               <p>If there are more than one U+002E DOT characters (.), then jump to the step
           labeled <i>next setting</i>.</p>
              <li>
               <p>If there is a U+002E DOT character (.) and the character before or the character
           after is not an <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digit</a>, or if the U+002E DOT character (.) is the first or
           the last character, then jump to the step labeled <i>next setting</i>.</p>
              <li>
               <p>Let <var>number</var> be the result of parsing <var>linepos</var> using the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#rules-for-parsing-floating-point-number-values">rules for parsing
           floating-point number values</a>. <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a></p>
              <li>
               <p>If <var>number</var> is an error, then jump to the step labeled <i>next
           setting</i>.</p>
             </ol>
           </dl>
          <li>
           <p>If <var>linealign</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string "<code>start</code>",
       then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-7">WebVTT cue line alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-line-start-alignment" id="ref-for-webvtt-cue-line-start-alignment-5">start alignment</a>.</p>
          <li>
           <p>Otherwise, if <var>linealign</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string
       "<code>center</code>", then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-8">WebVTT cue line alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-line-center-alignment" id="ref-for-webvtt-cue-line-center-alignment-2">center alignment</a>.</p>
          <li>
           <p>Otherwise, if <var>linealign</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string
       "<code>end</code>", then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-9">WebVTT cue line alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-line-end-alignment" id="ref-for-webvtt-cue-line-end-alignment-2">end alignment</a>.</p>
          <li>
           <p>Otherwise, if <var>linealign</var> is not null, then jump to the step labeled <i>next
       setting</i>.</p>
          <li>
           <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-22">WebVTT cue line</a> be <var>number</var>.</p>
          <li>
           <p>If the last character in <var>linepos</var> is a U+0025 PERCENT SIGN character (%), then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-9">WebVTT cue snap-to-lines flag</a> be false. Otherwise, let it be true.</p>
          <li>
           <p>If <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-23">WebVTT cue line</a> is not <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-5">auto</a>,
       let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-5">WebVTT cue region</a> be null (the cue has been explicitly positioned with a
       line offset and thus drops out of the region).</p>
         </ol>
        <dt>If <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>position</code>"
        <dd>
         <ol>
          <li>
           <p>If <var>value</var> contains a U+002C COMMA character (,), then let <var>colpos</var> be the leading
       substring of <var>value</var> up to and excluding the first U+002C COMMA character (,) in that string
       and let <var>colalign</var> be the trailing substring of <var>value</var> starting from the character
       immediately after the first U+002C COMMA character (,) in that string.</p>
          <li>
           <p>Otherwise let <var>colpos</var> be the full <var>value</var> string and <var>colalign</var> be null.</p>
          <li>
           <p>If <a data-link-type="dfn" href="#parse-a-percentage-string" id="ref-for-parse-a-percentage-string-7">parse a percentage string</a> from <var>colpos</var> doesn’t fail, let <var>number</var> be the
       returned <var>percentage</var>, otherwise jump to the step labeled <i>next setting</i> (<a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-21">position</a>’s value remains the special value <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-7">auto</a>).</p>
          <li>
           <p>If <var>colalign</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string
       "<code>line-left</code>", then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-8">WebVTT cue position alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-6">line-left alignment</a>.</p>
          <li>
           <p>Otherwise, if <var>colalign</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string
       "<code>center</code>", then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-9">WebVTT cue position alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-2">center alignment</a>.</p>
          <li>
           <p>Otherwise, if <var>colalign</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string
       "<code>line-right</code>", then let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-10">WebVTT cue position alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-5">line-right alignment</a>.</p>
          <li>
           <p>Otherwise, if <var>colalign</var> is not null, then jump to the step labeled <i>next
       setting</i>.</p>
          <li>
           <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-22">position</a> be <var>number</var>.</p>
         </ol>
        <dt>If <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>size</code>"
        <dd>
         <ol>
          <li>
           <p>If <a data-link-type="dfn" href="#parse-a-percentage-string" id="ref-for-parse-a-percentage-string-8">parse a percentage string</a> from <var>value</var> doesn’t fail, let <var>number</var> be the
       returned <var>percentage</var>, otherwise jump to the step labeled <i>next setting</i>.</p>
          <li>
           <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-8">WebVTT cue size</a> be <var>number</var>.</p>
          <li>
           <p>If <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-9">WebVTT cue size</a> is not 100, let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-6">WebVTT cue region</a> be
       null (the cue has been explicitly sized and thus drops out of the region).</p>
         </ol>
        <dt>If <var>name</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for "<code>align</code>"
        <dd>
         <ol>
          <li>
           <p>If <var>value</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string "<code>start</code>", then
       let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-16">WebVTT cue text alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-7">start
       alignment</a>.</p>
          <li>
           <p>If <var>value</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string "<code>center</code>", then
       let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-17">WebVTT cue text alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-6">center
       alignment</a>.</p>
          <li>
           <p>If <var>value</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string "<code>end</code>", then
       let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-18">WebVTT cue text alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-6">end
       alignment</a>.</p>
          <li>
           <p>If <var>value</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string "<code>left</code>", then
       let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-19">WebVTT cue text alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-left-alignment" id="ref-for-webvtt-cue-left-alignment-5">left
       alignment</a>.</p>
          <li>
           <p>If <var>value</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the string "<code>right</code>", then
       let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-20">WebVTT cue text alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-right-alignment" id="ref-for-webvtt-cue-right-alignment-5">right
       alignment</a>.</p>
         </ol>
       </dl>
      <li>
       <p><i>Next setting</i>: Continue to the next token, if any.</p>
     </ol>
   </ol>
   <p>When this specification says that a user agent is to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="collect-a-webvtt-timestamp">collect a WebVTT timestamp</dfn>, the
user agent must run the following steps:</p>
   <ol class="algorithm" data-algorithm="collect a WebVTT timestamp">
    <li>
     <p>Let <var>input</var> and <var>position</var> be the same variables as those of the same name in the algorithm
 that invoked these steps.</p>
    <li>
     <p>Let <var>most significant units</var> be <i>minutes</i>.</p>
    <li>
     <p>If <var>position</var> is past the end of <var>input</var>, return an error and abort these steps.</p>
    <li>
     <p>If the character indicated by <var>position</var> is not an <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digit</a>, then return an error
 and abort these steps.</p>
    <li>
     <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of code points</a> that are <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, and let <var>string</var> be
 the collected substring.</p>
    <li>
     <p>Interpret <var>string</var> as a base-ten integer. Let <var>value<sub>1</sub></var> be that
 integer.</p>
    <li>
     <p>If <var>string</var> is not exactly two characters in length, or if <var>value<sub>1</sub></var> is
 greater than 59, let <var>most significant units</var> be <i>hours</i>.</p>
    <li>
     <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a U+003A
 COLON character (:), then return an error and abort these steps. Otherwise, move <var>position</var> forwards one character.</p>
    <li>
     <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of code points</a> that are <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, and let <var>string</var> be
 the collected substring.</p>
    <li>
     <p>If <var>string</var> is not exactly two characters in length, return an error and abort these
 steps.</p>
    <li>
     <p>Interpret <var>string</var> as a base-ten integer. Let <var>value<sub>2</sub></var> be that
 integer.</p>
    <li>
     <p>If <var>most significant units</var> is <i>hours</i>, or if <var>position</var> is not beyond the end of <var>input</var> and the character at <var>position</var> is a U+003A COLON character (:), run these substeps:</p>
     <ol>
      <li>
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a
   U+003A COLON character (:), then return an error and abort these steps. Otherwise, move <var>position</var> forwards one character.</p>
      <li>
       <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of code points</a> that are <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, and let <var>string</var> be
   the collected substring.</p>
      <li>
       <p>If <var>string</var> is not exactly two characters in length, return an error and abort these
   steps.</p>
      <li>
       <p>Interpret <var>string</var> as a base-ten integer. Let <var>value<sub>3</sub></var> be that
   integer.</p>
     </ol>
     <p>Otherwise (if <var>most significant units</var> is not <i>hours</i>, and either <var>position</var> is beyond the
  end of <var>input</var>, or the character at <var>position</var> is not a U+003A COLON character (:)), let <var>value<sub>3</sub></var> have the value of <var>value<sub>2</sub></var>, then <var>value<sub>2</sub></var> have the value of <var>value<sub>1</sub></var>, then let <var>value<sub>1</sub></var> equal zero.</p>
    <li>
     <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a U+002E
 FULL STOP character (.), then return an error and abort these steps. Otherwise, move <var>position</var> forwards one character.</p>
    <li>
     <p><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of code points</a> that are <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>, and let <var>string</var> be
 the collected substring.</p>
    <li>
     <p>If <var>string</var> is not exactly three characters in length, return an error and abort these
 steps.</p>
    <li>
     <p>Interpret <var>string</var> as a base-ten integer. Let <var>value<sub>4</sub></var> be that
 integer.</p>
    <li>
     <p>If <var>value<sub>2</sub></var> is greater than 59 or if <var>value<sub>3</sub></var> is
 greater than 59, return an error and abort these steps.</p>
    <li>
     <p>Let <var>result</var> be <var>value<sub>1</sub></var>×60×60 + <var>value<sub>2</sub></var>×60 + <var>value<sub>3</sub></var> + <var>value<sub>4</sub></var>∕1000. </p>
    <li>
     <p>Return <var>result</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="WebVTT cue text parsing rules" data-level="6.4" id="cue-text-parsing-rules"><span class="secno">6.4. </span><span class="content">WebVTT cue text parsing rules</span><a class="self-link" href="#cue-text-parsing-rules"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-node-object">WebVTT Node Object</dfn> is a conceptual construct used to represent components of <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-9">cue
text</a> so that its processing can be described without reference to the underlying syntax.</p>
   <p>There are two broad classes of <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-1">WebVTT Node Objects</a>: <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-1">WebVTT Internal Node Objects</a> and <a data-link-type="dfn" href="#webvtt-leaf-node-object" id="ref-for-webvtt-leaf-node-object-1">WebVTT
Leaf Node Objects</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Internal Node Object" data-noexport="" id="webvtt-internal-node-object">WebVTT Internal Node Objects</dfn> are those that can
contain further <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-2">WebVTT Node Objects</a>. They are conceptually similar to
elements in HTML or the DOM. <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-2">WebVTT Internal Node Objects</a> have an ordered list of child <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-3">WebVTT Node Objects</a>. The <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-3">WebVTT
Internal Node Object</a> is said to be the <i>parent</i> of the children. Cycles do not occur; the
parent-child relationships so constructed form a tree structure. <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-4">WebVTT Internal Node Objects</a> also have an ordered list of <a data-link-type="dfn" href="#cue-component-class-names" id="ref-for-cue-component-class-names-6">class names</a>, known as their <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Node Object’s applicable classes" data-noexport="" id="webvtt-node-objects-applicable-classes">applicable
classes</dfn>, and a language, known as their <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Node Object’s applicable
language" data-noexport="" id="webvtt-node-objects-applicable-language">applicable language</dfn>, which is to be interpreted as a BCP 47 language tag. <a data-link-type="biblio" href="#biblio-bcp47">[BCP47]</a></p>
   <p class="note" role="note">User agents will add a language tag as the <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-1">applicable language</a> even if it is not a valid or not even well-formed language tag. <a data-link-type="biblio" href="#biblio-bcp47">[BCP47]</a></p>
   <p>There are several concrete classes of <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-5">WebVTT Internal Node
Objects</a>:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="List of WebVTT Node Objects" data-noexport="" id="list-of-webvtt-node-objects">Lists of WebVTT Node Objects</dfn>
    <dd>
     <p>These are used as root nodes for trees of <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-4">WebVTT Node
  Objects</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Class Object" data-noexport="" id="webvtt-class-object">WebVTT Class Objects</dfn>
    <dd>
     <p>These represent spans of text (a <a data-link-type="dfn" href="#webvtt-cue-class-span" id="ref-for-webvtt-cue-class-span-2">WebVTT cue class span</a>) in <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-10">cue text</a>, and are used
  to annotate parts of the cue with <a data-link-type="dfn" href="#webvtt-node-objects-applicable-classes" id="ref-for-webvtt-node-objects-applicable-classes-1">applicable
  classes</a> without implying further meaning (such as italics or bold).</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Italic Object" data-noexport="" id="webvtt-italic-object">WebVTT Italic Objects</dfn>
    <dd>
     <p>These represent spans of italic text (a <a data-link-type="dfn" href="#webvtt-cue-italics-span" id="ref-for-webvtt-cue-italics-span-2">WebVTT cue italics span</a>) in <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-5">WebVTT caption or
  subtitle cue text</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Bold Object" data-noexport="" id="webvtt-bold-object">WebVTT Bold Objects</dfn>
    <dd>
     <p>These represent spans of bold text (a <a data-link-type="dfn" href="#webvtt-cue-bold-span" id="ref-for-webvtt-cue-bold-span-2">WebVTT cue bold span</a>) in <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-6">WebVTT caption or
  subtitle cue text</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Underline Object" data-noexport="" id="webvtt-underline-object">WebVTT Underline Objects</dfn>
    <dd>
     <p>These represent spans of underline text (a <a data-link-type="dfn" href="#webvtt-cue-underline-span" id="ref-for-webvtt-cue-underline-span-2">WebVTT cue underline span</a>) in <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-7">WebVTT
  caption or subtitle cue text</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Ruby Object" data-noexport="" id="webvtt-ruby-object">WebVTT Ruby Objects</dfn>
    <dd>
     <p>These represent spans of ruby (a <a data-link-type="dfn" href="#webvtt-cue-ruby-span" id="ref-for-webvtt-cue-ruby-span-3">WebVTT cue ruby span</a>) in <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-8">WebVTT caption or subtitle
  cue text</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Ruby Text Object" data-noexport="" id="webvtt-ruby-text-object">WebVTT Ruby Text Objects</dfn>
    <dd>
     <p>These represent spans of ruby text (a <a data-link-type="dfn" href="#webvtt-cue-ruby-text-span" id="ref-for-webvtt-cue-ruby-text-span-1">WebVTT cue ruby text span</a>) in <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-9">WebVTT caption or
  subtitle cue text</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Voice Object" data-noexport="" id="webvtt-voice-object">WebVTT Voice Objects</dfn>
    <dd>
     <p>These represent spans of text associated with a specific voice (a <a data-link-type="dfn" href="#webvtt-cue-voice-span" id="ref-for-webvtt-cue-voice-span-3">WebVTT cue voice span</a>)
  in <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-10">WebVTT caption or subtitle cue text</a>. A <a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-1">WebVTT Voice Object</a> has a value, which is
  the name of the voice.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Language Object" data-noexport="" id="webvtt-language-object">WebVTT Language Objects</dfn>
    <dd>
     <p>These represent spans of text (a <a data-link-type="dfn" href="#webvtt-cue-language-span" id="ref-for-webvtt-cue-language-span-2">WebVTT cue language span</a>) in <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-11">WebVTT caption or
  subtitle cue text</a>, and are used to annotate parts of the cue where the <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-2">applicable language</a> might be different than the surrounding
  text’s, without implying further meaning (such as italics or bold).</p>
   </dl>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Leaf Node Object" data-noexport="" id="webvtt-leaf-node-object">WebVTT Leaf Node Objects</dfn> are those that contain data,
such as text, and cannot contain child <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-5">WebVTT Node Objects</a>.</p>
   <p>There are two concrete classes of <a data-link-type="dfn" href="#webvtt-leaf-node-object" id="ref-for-webvtt-leaf-node-object-2">WebVTT Leaf Node
Objects</a>:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Text Object" data-noexport="" id="webvtt-text-object">WebVTT Text Objects</dfn>
    <dd>
     <p>A fragment of text. A <a data-link-type="dfn" href="#webvtt-text-object" id="ref-for-webvtt-text-object-1">WebVTT Text Object</a> has a value, which is the text it
  represents.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="WebVTT Timestamp Object" data-noexport="" id="webvtt-timestamp-object">WebVTT Timestamp Objects</dfn>
    <dd>
     <p>A timestamp. A <a data-link-type="dfn" href="#webvtt-timestamp-object" id="ref-for-webvtt-timestamp-object-1">WebVTT Timestamp Object</a> has a value, in seconds and fractions of a
  second, which is the time represented by the timestamp.</p>
   </dl>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-text-parsing-rules">WebVTT cue text parsing rules</dfn> consist of the following algorithm. The input is a
string <var>input</var> supposedly containing <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue-text" id="ref-for-webvtt-caption-or-subtitle-cue-text-12">WebVTT caption or subtitle cue text</a>, and optionally a
fallback language <var>language</var>. This algorithm returns a <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-2">list of WebVTT Node Objects</a>.</p>
   <ol class="algorithm" data-algorithm="WebVTT cue text parsing">
    <li>
     <p>Let <var>input</var> be the string being parsed.</p>
    <li>
     <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start of the
 string.</p>
    <li>
     <p>Let <var>result</var> be a <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-3">list of WebVTT Node Objects</a>, initially empty.</p>
    <li>
     <p>Let <var>current</var> be the <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-6">WebVTT Internal Node Object</a> <var>result</var>.</p>
    <li>
     <p>Let <var>language stack</var> be a stack of language tags, initially empty.</p>
    <li>
     <p>If <var>language</var> is set, set <var>result</var>’s <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-3">applicable language</a> to <var>language</var>, and push <var>language</var> onto the <var>language
 stack</var>.</p>
    <li>
     <p><i>Loop</i>: If <var>position</var> is past the end of <var>input</var>, return <var>result</var> and abort these
 steps.</p>
    <li>
     <p>Let <var>token</var> be the result of invoking the <a data-link-type="dfn" href="#webvtt-cue-text-tokenizer" id="ref-for-webvtt-cue-text-tokenizer-1">WebVTT cue text tokenizer</a>.</p>
    <li>
     <p>Run the appropriate steps given the type of <var>token</var>:</p>
     <dl>
      <dt>If <var>token</var> is a string
      <dd>
       <ol>
        <li>
         <p>Create a <a data-link-type="dfn" href="#webvtt-text-object" id="ref-for-webvtt-text-object-2">WebVTT Text Object</a> whose value is the value of the string token <var>token</var>.</p>
        <li>
         <p>Append the newly created <a data-link-type="dfn" href="#webvtt-text-object" id="ref-for-webvtt-text-object-3">WebVTT Text Object</a> to <var>current</var>.</p>
       </ol>
      <dt>If <var>token</var> is a start tag
      <dd>
       <p>How the start tag token <var>token</var> is processed depends on its tag name, as follows:</p>
       <dl>
        <dt>If the tag name is "<code>c</code>"
        <dd>
         <p><a data-link-type="dfn" href="#attach-a-webvtt-internal-node-object" id="ref-for-attach-a-webvtt-internal-node-object-1">Attach</a> a <a data-link-type="dfn" href="#webvtt-class-object" id="ref-for-webvtt-class-object-1">WebVTT Class Object</a>.</p>
        <dt>If the tag name is "<code>i</code>"
        <dd>
         <p><a data-link-type="dfn" href="#attach-a-webvtt-internal-node-object" id="ref-for-attach-a-webvtt-internal-node-object-2">Attach</a> a <a data-link-type="dfn" href="#webvtt-italic-object" id="ref-for-webvtt-italic-object-1">WebVTT Italic Object</a>.</p>
        <dt>If the tag name is "<code>b</code>"
        <dd>
         <p><a data-link-type="dfn" href="#attach-a-webvtt-internal-node-object" id="ref-for-attach-a-webvtt-internal-node-object-3">Attach</a> a <a data-link-type="dfn" href="#webvtt-bold-object" id="ref-for-webvtt-bold-object-2">WebVTT Bold Object</a>.</p>
        <dt>If the tag name is "<code>u</code>"
        <dd>
         <p><a data-link-type="dfn" href="#attach-a-webvtt-internal-node-object" id="ref-for-attach-a-webvtt-internal-node-object-4">Attach</a> a <a data-link-type="dfn" href="#webvtt-underline-object" id="ref-for-webvtt-underline-object-1">WebVTT Underline
      Object</a>.</p>
        <dt>If the tag name is "<code>ruby</code>"
        <dd>
         <p><a data-link-type="dfn" href="#attach-a-webvtt-internal-node-object" id="ref-for-attach-a-webvtt-internal-node-object-5">Attach</a> a <a data-link-type="dfn" href="#webvtt-ruby-object" id="ref-for-webvtt-ruby-object-1">WebVTT Ruby Object</a>.</p>
        <dt>If the tag name is "<code>rt</code>"
        <dd>
         <p>If <var>current</var> is a <a data-link-type="dfn" href="#webvtt-ruby-object" id="ref-for-webvtt-ruby-object-2">WebVTT Ruby Object</a>, then <a data-link-type="dfn" href="#attach-a-webvtt-internal-node-object" id="ref-for-attach-a-webvtt-internal-node-object-6">attach</a> a <a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-1">WebVTT Ruby Text Object</a>.</p>
        <dt>If the tag name is "<code>v</code>"
        <dd>
         <p><a data-link-type="dfn" href="#attach-a-webvtt-internal-node-object" id="ref-for-attach-a-webvtt-internal-node-object-7">Attach</a> a <a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-2">WebVTT Voice Object</a>, and
      set its value to the token’s annotation string, or the empty string if there is no annotation
      string.</p>
        <dt>If the tag name is "<code>lang</code>"
        <dd>
         <p>Push the value of the token’s annotation string, or the empty string if there is no
      annotation string, onto the <var>language stack</var>; then <a data-link-type="dfn" href="#attach-a-webvtt-internal-node-object" id="ref-for-attach-a-webvtt-internal-node-object-8">attach</a> a <a data-link-type="dfn" href="#webvtt-language-object" id="ref-for-webvtt-language-object-1">WebVTT Language Object</a>.</p>
        <dt>Otherwise
        <dd>
         <p>Ignore the token.</p>
       </dl>
       <p>When the steps above say to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="attach-a-webvtt-internal-node-object">attach a WebVTT Internal Node Object</dfn> of a particular
    concrete class, the user agent must run the following steps:</p>
       <ol>
        <li>
         <p>Create a new <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-7">WebVTT Internal Node Object</a> of the specified concrete
     class.</p>
        <li>
         <p>Set the new object’s list of <a data-link-type="dfn" href="#webvtt-node-objects-applicable-classes" id="ref-for-webvtt-node-objects-applicable-classes-2">applicable
     classes</a> to the list of classes in the token, excluding any classes that are the empty
     string.</p>
        <li>
         <p>Set the new object’s <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-4">applicable
     language</a> to the top entry on the <var>language stack</var>, if the stack is not empty.</p>
        <li>
         <p>Append the newly created node object to <var>current</var>.</p>
        <li>
         <p>Let <var>current</var> be the newly created node object.</p>
       </ol>
      <dt>If <var>token</var> is an end tag
      <dd>
       <p>If any of the following conditions is true, then let <var>current</var> be the parent node of <var>current</var>.</p>
       <ul class="brief">
        <li>The tag name of the end tag token <var>token</var> is "<code>c</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-class-object" id="ref-for-webvtt-class-object-2">WebVTT
     Class Object</a>.
        <li>The tag name of the end tag token <var>token</var> is "<code>i</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-italic-object" id="ref-for-webvtt-italic-object-2">WebVTT
     Italic Object</a>.
        <li>The tag name of the end tag token <var>token</var> is "<code>b</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-bold-object" id="ref-for-webvtt-bold-object-3">WebVTT
     Bold Object</a>.
        <li>The tag name of the end tag token <var>token</var> is "<code>u</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-underline-object" id="ref-for-webvtt-underline-object-2">WebVTT
     Underline Object</a>.
        <li>The tag name of the end tag token <var>token</var> is "<code>ruby</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-ruby-object" id="ref-for-webvtt-ruby-object-3">WebVTT Ruby Object</a>.
        <li>The tag name of the end tag token <var>token</var> is "<code>rt</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-2">WebVTT
     Ruby Text Object</a>.
        <li>The tag name of the end tag token <var>token</var> is "<code>v</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-3">WebVTT
     Voice Object</a>.
       </ul>
       <p>Otherwise, if the tag name of the end tag token <var>token</var> is "<code>lang</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-language-object" id="ref-for-webvtt-language-object-2">WebVTT Language Object</a>, then let <var>current</var> be the parent node of <var>current</var>, and pop
    the top value from the <var>language stack</var>.</p>
       <p>Otherwise, if the tag name of the end tag token <var>token</var> is "<code>ruby</code>" and <var>current</var> is a <a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-3">WebVTT Ruby Text Object</a>, then let <var>current</var> be the parent node of the parent node of <var>current</var>.</p>
       <p>Otherwise, ignore the token.</p>
      <dt>If <var>token</var> is a timestamp tag
      <dd>
       <ol>
        <li>
         <p>Let <var>input</var> be the tag value.</p>
        <li>
         <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start of the
     string.</p>
        <li>
         <p><a data-link-type="dfn" href="#collect-a-webvtt-timestamp" id="ref-for-collect-a-webvtt-timestamp-3">Collect a WebVTT timestamp</a>.</p>
        <li>
         <p>If that algorithm does not fail, and if <var>position</var> now points at the end of <var>input</var> (i.e.
      there are no trailing characters after the timestamp), then create a <a data-link-type="dfn" href="#webvtt-timestamp-object" id="ref-for-webvtt-timestamp-object-2">WebVTT Timestamp
      Object</a> whose value is the collected time, then append it to <var>current</var>.</p>
         <p>Otherwise, ignore the token.</p>
       </ol>
     </dl>
    <li>
     <p>Jump to the step labeled <i>loop</i>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-text-tokenizer">WebVTT cue text tokenizer</dfn> is as follows. It emits a token, which is either a
string (whose value is a sequence of characters), a start tag (with a tag name, a list of classes,
and optionally an annotation), an end tag (with a tag name), or a timestamp tag (with a tag
value).</p>
   <ol class="algorithm" data-algorithm="WebVTT cue text tokenizer">
    <li>
     <p>Let <var>input</var> and <var>position</var> be the same variables as those of the same name in the algorithm
 that invoked these steps.</p>
    <li>
     <p>Let <var>tokenizer state</var> be <a data-link-type="dfn" href="#webvtt-data-state" id="ref-for-webvtt-data-state-1">WebVTT data state</a>.</p>
    <li>
     <p>Let <var>result</var> be the empty string.</p>
    <li>
     <p>Let <var>classes</var> be an empty list.</p>
    <li>
     <p><i>Loop</i>: If <var>position</var> is past the end of <var>input</var>, let <var>c</var> be an end-of-file marker.
  Otherwise, let <var>c</var> be the character in <var>input</var> pointed to by <var>position</var>.</p>
     <p class="note" role="note">An end-of-file marker is not a Unicode character, it is used to end the
  tokenizer.</p>
    <li>
     <p>Jump to the state given by <var>tokenizer state</var>:</p>
     <dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-data-state">WebVTT data state</dfn>
      <dd>
       <p>Jump to the entry that matches the value of <var>c</var>:</p>
       <dl>
        <dt>U+0026 AMPERSAND (&amp;)
        <dd>
         <p>Set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#html-character-reference-in-data-state" id="ref-for-html-character-reference-in-data-state-1">HTML character reference in data state</a>, and jump to the
      step labeled <i>next</i>.</p>
        <dt>U+003C LESS-THAN SIGN (&lt;)
        <dd>
         <p>If <var>result</var> is the empty string, then set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-tag-state" id="ref-for-webvtt-tag-state-1">WebVTT tag state</a> and jump to the step labeled <i>next</i>.</p>
         <p>Otherwise, return a string token whose value is <var>result</var> and abort these steps.</p>
        <dt>End-of-file marker
        <dd>
         <p>Return a string token whose value is <var>result</var> and abort these steps.</p>
        <dt>Anything else
        <dd>
         <p>Append <var>c</var> to <var>result</var> and jump to the step labeled <i>next</i>.</p>
       </dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="html-character-reference-in-data-state">HTML character reference in data state</dfn>
      <dd>
       <p>Attempt to <a data-link-type="dfn" href="#consume-an-html-character-reference" id="ref-for-consume-an-html-character-reference-1">consume an HTML character reference</a>, with no <a data-link-type="dfn" href="https://www.w3.org/TR/html51/syntax.html#additional-allowed-character">additional allowed
    character</a>.</p>
       <p>If nothing is returned, append a U+0026 AMPERSAND character (&amp;) to <var>result</var>.</p>
       <p>Otherwise, append the data of the character tokens that were returned to <var>result</var>.</p>
       <p>Then, in any case, set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-data-state" id="ref-for-webvtt-data-state-2">WebVTT data state</a>, and jump to the
    step labeled <i>next</i>.</p>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-tag-state">WebVTT tag state</dfn>
      <dd>
       <p>Jump to the entry that matches the value of <var>c</var>:</p>
       <dl>
        <dt>U+0009 CHARACTER TABULATION (tab) character
        <dt>U+000A LINE FEED (LF) character
        <dt>U+000C FORM FEED (FF) character
        <dt>U+0020 SPACE character
        <dd>
         <p>Set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-annotation-state" id="ref-for-webvtt-start-tag-annotation-state-1">WebVTT start tag annotation state</a>, and jump to the step
      labeled <i>next</i>.</p>
        <dt>U+002E FULL STOP character (.)
        <dd>
         <p>Set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-class-state" id="ref-for-webvtt-start-tag-class-state-1">WebVTT start tag class state</a>, and jump to the step
      labeled <i>next</i>.</p>
        <dt>U+002F SOLIDUS character (/)
        <dd>
         <p>Set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-end-tag-state" id="ref-for-webvtt-end-tag-state-1">WebVTT end tag state</a>, and jump to the step labeled <i>next</i>.</p>
        <dt><a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#ascii-digits">ASCII digits</a>
        <dd>
         <p>Set <var>result</var> to <var>c</var>, set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-timestamp-tag-state" id="ref-for-webvtt-timestamp-tag-state-1">WebVTT timestamp tag state</a>, and
      jump to the step labeled <i>next</i>.</p>
        <dt>U+003E GREATER-THAN SIGN character (>)
        <dd>
         <p>Advance <var>position</var> to the next character in <var>input</var>, then jump to the next "end-of-file
      marker" entry below.</p>
        <dt>End-of-file marker
        <dd>
         <p>Return a start tag whose tag name is the empty string, with no classes and no annotation,
      and abort these steps.</p>
        <dt>Anything else
        <dd>
         <p>Set <var>result</var> to <var>c</var>, set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-state" id="ref-for-webvtt-start-tag-state-1">WebVTT start tag state</a>, and jump
      to the step labeled <i>next</i>.</p>
       </dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-start-tag-state">WebVTT start tag state</dfn>
      <dd>
       <p>Jump to the entry that matches the value of <var>c</var>:</p>
       <dl>
        <dt>U+0009 CHARACTER TABULATION (tab) character
        <dt>U+000C FORM FEED (FF) character
        <dt>U+0020 SPACE character
        <dd>
         <p>Set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-annotation-state" id="ref-for-webvtt-start-tag-annotation-state-2">WebVTT start tag annotation state</a>, and jump to the step
      labeled <i>next</i>.</p>
        <dt>U+000A LINE FEED (LF) character
        <dd>
         <p>Set <var>buffer</var> to <var>c</var>, set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-annotation-state" id="ref-for-webvtt-start-tag-annotation-state-3">WebVTT start tag annotation state</a>,
      and jump to the step labeled <i>next</i>.</p>
        <dt>U+002E FULL STOP character (.)
        <dd>
         <p>Set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-class-state" id="ref-for-webvtt-start-tag-class-state-2">WebVTT start tag class state</a>, and jump to the step
      labeled <i>next</i>.</p>
        <dt>U+003E GREATER-THAN SIGN character (>)
        <dd>
         <p>Advance <var>position</var> to the next character in <var>input</var>, then jump to the next "end-of-file
      marker" entry below.</p>
        <dt>End-of-file marker
        <dd>
         <p>Return a start tag whose tag name is <var>result</var>, with no classes and no annotation, and abort
      these steps.</p>
        <dt>Anything else
        <dd>
         <p>Append <var>c</var> to <var>result</var> and jump to the step labeled <i>next</i>.</p>
       </dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-start-tag-class-state">WebVTT start tag class state</dfn>
      <dd>
       <p>Jump to the entry that matches the value of <var>c</var>:</p>
       <dl>
        <dt>U+0009 CHARACTER TABULATION (tab) character
        <dt>U+000C FORM FEED (FF) character
        <dt>U+0020 SPACE character
        <dd>
         <p>Append to <var>classes</var> an entry whose value is <var>buffer</var>, set <var>buffer</var> to the empty string, set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-annotation-state" id="ref-for-webvtt-start-tag-annotation-state-4">WebVTT start tag annotation state</a>, and jump to the step
      labeled <i>next</i>.</p>
        <dt>U+000A LINE FEED (LF) character
        <dd>
         <p>Append to <var>classes</var> an entry whose value is <var>buffer</var>, set <var>buffer</var> to <var>c</var>, set <var>tokenizer
      state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-annotation-state" id="ref-for-webvtt-start-tag-annotation-state-5">WebVTT start tag annotation state</a>, and jump to the step labeled <i>next</i>.</p>
        <dt>U+002E FULL STOP character (.)
        <dd>
         <p>Append to <var>classes</var> an entry whose value is <var>buffer</var>, set <var>buffer</var> to the empty string, and
      jump to the step labeled <i>next</i>.</p>
        <dt>U+003E GREATER-THAN SIGN character (>)
        <dd>
         <p>Advance <var>position</var> to the next character in <var>input</var>, then jump to the next "end-of-file
      marker" entry below.</p>
        <dt>End-of-file marker
        <dd>
         <p>Append to <var>classes</var> an entry whose value is <var>buffer</var>, then return a start tag whose tag
      name is <var>result</var>, with the classes given in <var>classes</var> but no annotation, and abort these
      steps.</p>
        <dt>Anything else
        <dd>
         <p>Append <var>c</var> to <var>buffer</var> and jump to the step labeled <i>next</i>.</p>
       </dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-start-tag-annotation-state">WebVTT start tag annotation state</dfn>
      <dd>
       <p>Jump to the entry that matches the value of <var>c</var>:</p>
       <dl>
        <dt>U+0026 AMPERSAND (&amp;)
        <dd>
         <p>Set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#html-character-reference-in-annotation-state" id="ref-for-html-character-reference-in-annotation-state-1">HTML character reference in annotation state</a>, and jump
      to the step labeled <i>next</i>.</p>
        <dt>U+003E GREATER-THAN SIGN character (>)
        <dd>
         <p>Advance <var>position</var> to the next character in <var>input</var>, then jump to the next "end-of-file
      marker" entry below.</p>
        <dt>End-of-file marker
        <dd>
         <p>Remove any leading or trailing <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#space-characters">ASCII whitespace</a> characters from <var>buffer</var>, and
      replace any sequence of one or more consecutive <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#space-characters">ASCII whitespace</a> characters in <var>buffer</var> with a single U+0020 SPACE character; then, return a start tag whose tag name is <var>result</var>,
      with the classes given in <var>classes</var>, and with <var>buffer</var> as the annotation, and abort these
      steps.</p>
        <dt>Anything else
        <dd>
         <p>Append <var>c</var> to <var>buffer</var> and jump to the step labeled <i>next</i>.</p>
       </dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="html-character-reference-in-annotation-state">HTML character reference in annotation state</dfn>
      <dd>
       <p>Attempt to <a data-link-type="dfn" href="#consume-an-html-character-reference" id="ref-for-consume-an-html-character-reference-2">consume an HTML character reference</a>, with the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/syntax.html#additional-allowed-character">additional allowed
    character</a> being U+003E GREATER-THAN SIGN (>).</p>
       <p>If nothing is returned, append a U+0026 AMPERSAND character (&amp;) to <var>buffer</var>.</p>
       <p>Otherwise, append the data of the character tokens that were returned to <var>buffer</var>.</p>
       <p>Then, in any case, set <var>tokenizer state</var> to the <a data-link-type="dfn" href="#webvtt-start-tag-annotation-state" id="ref-for-webvtt-start-tag-annotation-state-6">WebVTT start tag annotation state</a>, and
    jump to the step labeled <i>next</i>.</p>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-end-tag-state">WebVTT end tag state</dfn>
      <dd>
       <p>Jump to the entry that matches the value of <var>c</var>:</p>
       <dl>
        <dt>U+003E GREATER-THAN SIGN character (>)
        <dd>
         <p>Advance <var>position</var> to the next character in <var>input</var>, then jump to the next "end-of-file
      marker" entry below.</p>
        <dt>End-of-file marker
        <dd>
         <p>Return an end tag whose tag name is <var>result</var> and abort these steps.</p>
        <dt>Anything else
        <dd>
         <p>Append <var>c</var> to <var>result</var> and jump to the step labeled <i>next</i>.</p>
       </dl>
      <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-timestamp-tag-state">WebVTT timestamp tag state</dfn>
      <dd>
       <p>Jump to the entry that matches the value of <var>c</var>:</p>
       <dl>
        <dt>U+003E GREATER-THAN SIGN character (>)
        <dd>
         <p>Advance <var>position</var> to the next character in <var>input</var>, then jump to the next "end-of-file
      marker" entry below.</p>
        <dt>End-of-file marker
        <dd>
         <p>Return a timestamp tag whose tag name is <var>result</var> and abort these steps.</p>
        <dt>Anything else
        <dd>
         <p>Append <var>c</var> to <var>result</var> and jump to the step labeled <i>next</i>.</p>
       </dl>
     </dl>
    <li>
     <p><i>Next</i>: Advance <var>position</var> to the next character in <var>input</var>.</p>
    <li>
     <p>Jump to the step labeled <i>loop</i>.</p>
   </ol>
   <p>When the algorithm above says to attempt to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="consume-an-html-character-reference">consume an HTML character reference</dfn>, it
means to attempt to <a data-link-type="dfn" href="https://www.w3.org/TR/html51/syntax.html#consume-a-character-reference">consume a character reference</a> as defined in HTML. <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a></p>
   <p>When the HTML specification says to consume a character, in this context, it means to advance <var>position</var> to the next character in <var>input</var>. When it says to unconsume a character, it means to move <var>position</var> back to the previous character in <var>input</var>. "EOF" is equivalent to the end-of-file marker
in this specification. Finally, this context is <em>not</em> "as part of an attribute" (when it
comes to handling a missing semicolon).</p>
   <h3 class="heading settled" data-level="6.5" id="dom-construction-rules"><span class="secno">6.5. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-text-dom-construction-rules">WebVTT cue text DOM construction rules</dfn></span><a class="self-link" href="#dom-construction-rules"></a></h3>
   <p class="note" role="note">For the purpose of retrieving a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-24">WebVTT cue</a>’s content via the <code class="idl"><a data-link-type="idl" href="#dom-vttcue-getcueashtml" id="ref-for-dom-vttcue-getcueashtml-1">getCueAsHTML()</a></code> method of the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-1">VTTCue</a></code> interface, it needs to be parsed to a <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a></code>. This section describes how.</p>
   <p>To convert a <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-4">list of WebVTT Node Objects</a> to a DOM tree for <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#document">Document</a></code> <var>owner</var>, user
agents must create a tree of DOM nodes that is isomorphous to the tree of <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-6">WebVTT Node Objects</a>, with the following mapping of <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-7">WebVTT
Node Objects</a> to DOM nodes:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-8">WebVTT Node Object</a>
      <th>DOM node
    <tbody>
     <tr>
      <td class="long"><a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-5">List of WebVTT Node Objects</a>
      <td class="long"><code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a></code> node.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-4">WebVTT Region Object</a>
      <td class="long"><code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a></code> node.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-class-object" id="ref-for-webvtt-class-object-3">WebVTT Class Object</a>
      <td class="long">HTML <a data-link-type="element" href="https://www.w3.org/TR/html51/textlevel-semantics.html#elementdef-span">span</a> element.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-italic-object" id="ref-for-webvtt-italic-object-3">WebVTT Italic Object</a>
      <td class="long">HTML <a data-link-type="element" href="https://www.w3.org/TR/html51/textlevel-semantics.html#elementdef-i">i</a> element.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-bold-object" id="ref-for-webvtt-bold-object-4">WebVTT Bold Object</a>
      <td class="long">HTML <a data-link-type="element" href="https://www.w3.org/TR/html51/textlevel-semantics.html#elementdef-b">b</a> element.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-underline-object" id="ref-for-webvtt-underline-object-3">WebVTT Underline Object</a>
      <td class="long">HTML <a data-link-type="element" href="https://www.w3.org/TR/html51/textlevel-semantics.html#elementdef-u">u</a> element.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-ruby-object" id="ref-for-webvtt-ruby-object-4">WebVTT Ruby Object</a>
      <td class="long">HTML <a data-link-type="element" href="https://www.w3.org/TR/html51/textlevel-semantics.html#the-ruby-element">ruby</a> element.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-4">WebVTT Ruby Text Object</a>
      <td class="long">HTML <a data-link-type="element" href="https://www.w3.org/TR/html51/textlevel-semantics.html#the-rt-element">rt</a> element.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-4">WebVTT Voice Object</a>
      <td class="long">HTML <a data-link-type="element" href="https://www.w3.org/TR/html51/textlevel-semantics.html#elementdef-span">span</a> element with a <a data-link-type="element-attr" href="https://www.w3.org/TR/html51/dom.html#the-title-attribute">title</a> attribute set to
   the <a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-5">WebVTT Voice Object</a>’s value.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-language-object" id="ref-for-webvtt-language-object-3">WebVTT Language Object</a>
      <td class="long">HTML <a data-link-type="element" href="https://www.w3.org/TR/html51/textlevel-semantics.html#elementdef-span">span</a> element with a <a data-link-type="element-attr" href="https://www.w3.org/TR/html51/dom.html#element-attrdef-global-lang">lang</a> attribute set to
   the <a data-link-type="dfn" href="#webvtt-language-object" id="ref-for-webvtt-language-object-4">WebVTT Language Object</a>’s <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-5">applicable
   language</a>.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-text-object" id="ref-for-webvtt-text-object-4">WebVTT Text Object</a>
      <td class="long"><code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#text">Text</a></code> node whose <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#concept-cd-data">data</a></code> is the value of the <a data-link-type="dfn" href="#webvtt-text-object" id="ref-for-webvtt-text-object-5">WebVTT Text
   Object</a>.
     <tr>
      <td class="long"><a data-link-type="dfn" href="#webvtt-timestamp-object" id="ref-for-webvtt-timestamp-object-3">WebVTT Timestamp Object</a>
      <td class="long"><code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#processinginstruction">ProcessingInstruction</a></code> node whose <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#dom-event-target">target</a></code> is
   "<code>timestamp</code>" and whose <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#concept-cd-data">data</a></code> is a <a data-link-type="dfn" href="#webvtt-timestamp" id="ref-for-webvtt-timestamp-8">WebVTT timestamp</a> representing the value of the <a data-link-type="dfn" href="#webvtt-timestamp-object" id="ref-for-webvtt-timestamp-object-4">WebVTT Timestamp Object</a>, with all optional components
   included, with one leading zero if the <var>hours</var> component is less than ten, and with no leading
   zeros otherwise.
   </table>
   <p>HTML elements created as part of the mapping described above must have their <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#dom-element-namespaceuri">namespaceURI</a></code> set to the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#html-namespace">HTML namespace</a>, use the appropriate IDL interface as defined
in the HTML specification, and, if the corresponding <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-8">WebVTT Internal Node Object</a> has any <a data-link-type="dfn" href="#webvtt-node-objects-applicable-classes" id="ref-for-webvtt-node-objects-applicable-classes-3">applicable classes</a>, must have a <a data-link-type="element-attr" href="https://www.w3.org/TR/html51/dom.html#classes">class</a> attribute set to the string obtained by concatenating all those classes, each
separated from the next by a single U+0020 SPACE character.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#dom-node-ownerdocument">ownerDocument</a></code> attribute of all nodes in the DOM tree must be set to the given
document <var>owner</var>.</p>
   <p>All characteristics of the DOM nodes that are not described above or dependent on characteristics
defined above must be left at their initial values.</p>
   <h3 class="heading settled algorithm" data-algorithm="WebVTT rules for extracting the chapter
title" data-level="6.6" id="rules-for-extracting-the-chapter-title"><span class="secno">6.6. </span><span class="content">WebVTT rules for extracting the chapter
title</span><a class="self-link" href="#rules-for-extracting-the-chapter-title"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-rules-for-extracting-the-chapter-title">WebVTT rules for extracting the chapter title</dfn> for a <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-25">WebVTT cue</a> <var>cue</var> are as
follows:</p>
   <ol class="algorithm" data-algorithm="WebVTT rules for extracting the chapter title">
    <li>
     <p>Let <var>nodes</var> be the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-6">list of WebVTT Node Objects</a> obtained by applying the <a data-link-type="dfn" href="#webvtt-cue-text-parsing-rules" id="ref-for-webvtt-cue-text-parsing-rules-1">WebVTT cue
 text parsing rules</a> to the <var>cue</var>’s <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-11">cue text</a>.</p>
    <li>
     <p>Return the concatenation of the values of each <a data-link-type="dfn" href="#webvtt-text-object" id="ref-for-webvtt-text-object-6">WebVTT Text Object</a> in <var>nodes</var>, in a
 pre-order, depth-first traversal, excluding <a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-5">WebVTT Ruby Text
 Objects</a> and their descendants.</p>
   </ol>
   <h2 class="heading settled" data-level="7" id="rendering"><span class="secno">7. </span><span class="content">Rendering</span><a class="self-link" href="#rendering"></a></h2>
   <p class="note" role="note">This section describes in some detail how to visually render <a data-link-type="dfn" href="#webvtt-caption-or-subtitle-cue" id="ref-for-webvtt-caption-or-subtitle-cue-2">WebVTT caption or
subtitle cues</a> in a user agent. The processing model is quite tightly linked to media elements in
HTML, where CSS is available. <a data-link-type="dfn" href="#user-agents-that-do-not-support-css" id="ref-for-user-agents-that-do-not-support-css-1">User agents that do not support CSS</a> are expected to render
plain text only, without styling and positioning features. <a data-link-type="dfn" href="#user-agents-that-do-not-support-a-full-html-css-engine" id="ref-for-user-agents-that-do-not-support-a-full-html-css-engine-2">User agents that do not support a full
HTML CSS engine</a> are expected to render an equivalent visual representation to what a user agent
with a full CSS engine would render.</p>
   <h3 class="heading settled algorithm" data-algorithm="Processing model" data-level="7.1" id="processing-model"><span class="secno">7.1. </span><span class="content">Processing model</span><a class="self-link" href="#processing-model"></a></h3>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating the display of WebVTT text tracks</dfn> render the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text tracks</a> of a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> (specifically, a <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-video-element">video</a> element), or of another playback
mechanism, by applying the steps below. All the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text tracks</a> that use these
rules for a given <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a>, or other playback mechanism, are rendered together, to avoid
overlapping subtitles from multiple tracks. A fallback language <var>language</var> may be set when calling
this algorithm.</p>
   <p class="note" role="note">In HTML, audio elements don’t have a visual rendering area and therefore, this
algorithm will abort for audio elements. When authors do create WebVTT captions or subtitles for
audio resources, they need to publish them in a video element for rendering by the user agent.</p>
   <p>The output of the steps below is a set of CSS boxes that covers the rendering area of the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> or other playback mechanism, which user agents are expected to render in a
manner suiting the user.</p>
   <p>The rules are as follows:</p>
   <ol class="algorithm" data-algorithm="rules for updating the display of WebVTT text tracks">
    <li>
     <p>If the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> is an <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-audio-element">audio</a> element, or is another playback
 mechanism with no rendering area, abort these steps.</p>
    <li>
     <p>Let <var>video</var> be the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> or other playback mechanism.</p>
    <li>
     <p>Let <var>output</var> be an empty list of absolutely positioned CSS block boxes.</p>
    <li>
     <p>If the user agent is <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#exposing-a-user-interface">exposing a user
 interface</a> for <var>video</var>, add to <var>output</var> one or more completely transparent positioned CSS block
 boxes that cover the same region as the user interface.</p>
    <li>
     <p>If the last time these rules were run, the user agent was not <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#exposing-a-user-interface">exposing a user interface</a> for <var>video</var>, but now it is, optionally let <var>reset</var> be
 true. Otherwise, let <var>reset</var> be false.</p>
    <li>
     <p>Let <var>tracks</var> be the subset of <var>video</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#list-of-text-tracks">list of text tracks</a> that have as their <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#rules-for-updating-the-text-track-rendering">rules for updating the text track rendering</a> these <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-3">rules for updating the display of
 WebVTT text tracks</a>, and whose <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#a-mode">text track mode</a> is <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#modedef-track-showing">showing</a>.</p>
    <li>
     <p>Let <var>cues</var> be an empty list of <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#cue">text track cues</a>.</p>
    <li>
     <p>For each track <var>track</var> in <var>tracks</var>, append to <var>cues</var> all the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#cue">cues</a> from <var>track</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#list-of-cues">list of cues</a> that have their <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-active-flag">text track cue
 active flag</a> set.</p>
    <li>
     <p>Let <var>regions</var> be an empty list of <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-12">WebVTT regions</a>.</p>
    <li>
     <p>For each track <var>track</var> in <var>tracks</var>, append to <var>regions</var> all the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-13">regions</a> with an identifier from <var>track</var>’s <a data-link-type="dfn" href="#text-track-list-of-regions" id="ref-for-text-track-list-of-regions-4">list of
 regions</a>.</p>
    <li>
     <p>If <var>reset</var> is false, then, for each <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-14">WebVTT region</a> <var>region</var> in <var>regions</var> let <var>regionNode</var> be a <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-5">WebVTT region object</a>.</p>
    <li>
     <p>Apply the following steps for each <var>regionNode</var>:</p>
     <ol>
      <li>
       <p>Prepare some variables for the application of CSS properties to <var>regionNode</var> as follows:</p>
       <ul>
        <li>
         <p>Let <var>regionWidth</var> be the <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-3">WebVTT region width</a>. Let <var>width</var> be <span class="css"><var>regionWidth</var> vw</span> (<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#vw">vw</a> is a CSS unit). <a data-link-type="biblio" href="#biblio-css-values">[CSS-VALUES]</a></p>
        <li>
         <p>Let <var>lineHeight</var> be <span class="css">6vh</span> (<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#vh">vh</a> is a CSS unit) <a data-link-type="biblio" href="#biblio-css-values">[CSS-VALUES]</a> and <var>regionHeight</var> be
     the <a data-link-type="dfn" href="#webvtt-region-lines" id="ref-for-webvtt-region-lines-3">WebVTT region lines</a>. Let <var>lines</var> be <var>lineHeight</var> multiplied by <var>regionHeight</var>.</p>
        <li>
         <p>Let <var>viewportAnchorX</var> be the x dimension of the <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-3">WebVTT region anchor</a> and <var>regionAnchorX</var> be the x dimension of the <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-4">WebVTT region anchor</a>. Let <var>leftOffset</var> be <var>regionAnchorX</var> multiplied by <var>width</var> divided by 100.0. Let <var>left</var> be <var>leftOffset</var> subtracted
     from <span class="css"><var>viewportAnchorX</var> vw</span>.</p>
        <li>
         <p>Let <var>viewportAnchorY</var> be the y dimension of the <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-5">WebVTT region anchor</a> and <var>regionAnchorY</var> be the y dimension of the <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-6">WebVTT region anchor</a>. Let <var>topOffset</var> be <var>regionAnchorY</var> multiplied by <var>lines</var> divided by 100.0. Let <var>top</var> be <var>topOffset</var> subtracted
     from <span class="css"><var>viewportAnchorY</var> vh</span>.</p>
       </ul>
      <li>
       <p>Apply the terms of the CSS specifications to <var>regionNode</var> within the following constraints,
    thus obtaining a CSS box <var>box</var> positioned relative to an initial containing block:</p>
       <ol>
        <li>
         <p>No style sheets are associated with <var>regionNode</var>. (The regionNodes are subsequently
     restyled using style sheets after their boxes are generated, as described below.)</p>
        <li>
         <p>Properties on <var>regionNode</var> have their values set as defined in the next section. (That
     section uses some of the variables whose values were calculated earlier in this
     algorithm.)</p>
        <li>
         <p>The video viewport (and initial containing block) is video’s rendering area.</p>
       </ol>
      <li>
       <p>Add the CSS box <var>box</var> to <var>output</var>.</p>
     </ol>
    <li>
     <p>If <var>reset</var> is false, then, for each <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-26">WebVTT cue</a> <var>cue</var> in <var>cues</var>: if <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-display-state">text track
  cue display state</a> has a set of CSS boxes, then:</p>
     <ul>
      <li>
       <p>If <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-7">WebVTT cue region</a> is not null, add those boxes to that region’s <var>box</var> and remove <var>cue</var> from <var>cues</var>.</p>
      <li>
       <p>Otherwise, add those boxes to <var>output</var> and remove <var>cue</var> from <var>cues</var>.</p>
     </ul>
    <li>
     <p>For each <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-27">WebVTT cue</a> <var>cue</var> in <var>cues</var> that has not yet had corresponding CSS boxes added
  to <var>output</var>, in <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-order">text track cue order</a>, run the following substeps:</p>
     <ol>
      <li>
       <p>Let <var>nodes</var> be the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-7">list of WebVTT Node Objects</a> obtained by applying the <a data-link-type="dfn" href="#webvtt-cue-text-parsing-rules" id="ref-for-webvtt-cue-text-parsing-rules-2">WebVTT
   cue text parsing rules</a>, with the fallback language <var>language</var> if provided, to the <var>cue</var>’s <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-12">cue text</a>.</p>
      <li>
       <p>If <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-8">WebVTT cue region</a> is null, run the following substeps:</p>
       <ol>
        <li><a data-link-type="dfn" href="#apply-webvtt-cue-settings" id="ref-for-apply-webvtt-cue-settings-1">Apply WebVTT cue settings</a> to obtain CSS boxes <var>boxes</var> from <var>nodes</var>.
        <li>
         <p>Let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-display-state">text track cue display state</a> have the CSS boxes in <var>boxes</var>.</p>
        <li>
         <p>Add the CSS boxes in <var>boxes</var> to <var>output</var>.</p>
       </ol>
      <li>
       <p>Otherwise, run the following substeps:</p>
       <ol>
        <li>
         <p>Let <var>region</var> be <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-9">WebVTT cue region</a>.</p>
        <li>
         <p>If <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-scroll" id="ref-for-webvtt-region-scroll-3">WebVTT region scroll</a> setting is <a data-link-type="dfn" href="#webvtt-region-scroll-up" id="ref-for-webvtt-region-scroll-up-2">up</a> and <var>region</var> already has one child, set <var>region</var>’s <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-transitions/#propdef-transition-property">transition-property</a> to <span class="css">top</span> and <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-transitions/#propdef-transition-duration">transition-duration</a> to <span class="css">0.433s</span>.</p>
        <li>
         <p>Let <var>offset</var> be <var>cue</var>’s <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-1">computed position</a> multiplied
     by <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-4">WebVTT region width</a> and divided by 100 (i.e. interpret it as a percentage
     of the region width).</p>
        <li>
         <p>Adjust <var>offset</var> using <var>cue</var>’s <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-2">computed position
      alignment</a> as follows:</p>
         <dl class="switch">
          <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-3">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-3">center alignment</a>
          <dd>
           <p>Subtract half of <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-5">WebVTT region width</a> from <var>offset</var>.</p>
          <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-4">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-6">line-right alignment</a>
          <dd>
           <p>Subtract <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-6">WebVTT region width</a> from <var>offset</var>.</p>
         </dl>
        <li>
         <p>Let <var>left</var> be <span class="css"><var>offset</var> %</span>. <a data-link-type="biblio" href="#biblio-css-values">[CSS-VALUES]</a></p>
        <li>
         <p><a data-link-type="dfn" href="#obtain-a-set-of-css-boxes" id="ref-for-obtain-a-set-of-css-boxes-1">Obtain a set of CSS boxes</a> <var>boxes</var> positioned relative to an initial containing
     block.</p>
        <li>
         <p>If there are no line boxes in <var>boxes</var>, skip the remainder of these substeps for <var>cue</var>.
     The cue is ignored.</p>
        <li>
         <p>Let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-display-state">text track cue display state</a> have the CSS boxes in <var>boxes</var>.</p>
        <li>
         <p>Add the CSS boxes in <var>boxes</var> to <var>region</var>.</p>
        <li>
         <p>If the CSS boxes <var>boxes</var> together have a height less than the height of the <var>region</var> box, let <var>diff</var> be the absolute difference between the two height values. Increase <var>top</var> by <var>diff</var> and re-apply it to <var>regionNode</var>.</p>
       </ol>
     </ol>
    <li>
     <p>Return <var>output</var>.</p>
   </ol>
   <p>User agents may allow the user to override the above algorithm’s positioning of cues, e.g. by
dragging them to another location on the <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-video-element">video</a>, or even off the <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-video-element">video</a> entirely.</p>
   <h3 class="heading settled algorithm" data-algorithm="Processing cue settings" data-level="7.2" id="processing-cue-settings"><span class="secno">7.2. </span><span class="content">Processing cue settings</span><a class="self-link" href="#processing-cue-settings"></a></h3>
   <p>When the processing algorithm above requires that the user agent <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="apply WebVTT cue settings" data-noexport="" id="apply-webvtt-cue-settings">apply WebVTT cue
settings</dfn> to obtain CSS boxes from a <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-8">list of WebVTT Node Objects</a> <var>nodes</var>, the user agent
must run the following algorithm.</p>
   <ol class="algorithm" data-algorithm="apply WebVTT cue settings">
    <li>
     <p>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-17">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-15">horizontal</a>, then let <var>writing-mode</var> be "horizontal-tb". Otherwise, if the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-18">WebVTT
 cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-5">vertical
 growing left</a>, then let <var>writing-mode</var> be "vertical-rl". Otherwise, the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-19">WebVTT cue writing
 direction</a> is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-5">vertical growing
 right</a>; let <var>writing-mode</var> be "vertical-lr".</p>
    <li>
     <p>Determine the value of <var>maximum size</var> for <var>cue</var> as per the appropriate rules from the following
  list:</p>
     <dl class="switch">
      <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-5">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-7">line-left</a>
      <dd>
       <p>Let <var>maximum size</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-2">computed position</a> subtracted from
    100.</p>
      <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-6">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-7">line-right</a>
      <dd>
       <p>Let <var>maximum size</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-3">computed position</a>.</p>
      <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-7">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-4">center</a>, and the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-4">computed position</a> is less than or equal to 50
      <dd>
       <p>Let <var>maximum size</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-5">computed position</a> multiplied by
    two.</p>
      <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-8">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-5">center</a>, and the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-6">computed position</a> is greater than  50
      <dd>
       <p>Let <var>maximum size</var> be the result of subtracting <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-7">computed
    position</a> from 100 and then multiplying the result by two.</p>
     </dl>
    <li>
     <p>If the <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-10">WebVTT cue size</a> is less than <var>maximum size</var>, then let <var>size</var> be <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-11">WebVTT cue
 size</a>. Otherwise, let <var>size</var> be <var>maximum size</var>.</p>
    <li>
     <p>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-20">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-16">horizontal</a>, then let <var>width</var> be <span class="css"><var>size</var> vw</span> and <var>height</var> be <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-3/#valdef-width-auto">auto</a>. Otherwise, let <var>width</var> be <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-3/#valdef-width-auto">auto</a> and <var>height</var> be <span class="css"><var>size</var> vh</span>.
 (These are CSS values used by the next section to set CSS properties for the rendering; <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#vw">vw</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#vh">vh</a> are CSS units.) <a data-link-type="biblio" href="#biblio-css-values">[CSS-VALUES]</a></p>
    <li>
     <p>Determine the value of <var>x-position</var> or <var>y-position</var> for <var>cue</var> as per the appropriate rules from
  the following list:</p>
     <dl class="switch">
      <dt>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-21">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-17">horizontal</a>
      <dd>
       <dl class="switch">
        <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-9">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-8">line-left alignment</a>
        <dd>
         <p>Let <var>x-position</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-8">computed position</a>.</p>
        <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-10">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-6">center alignment</a>
        <dd>
         <p>Let <var>x-position</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-9">computed position</a> minus half
     of <var>size</var>.</p>
        <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-11">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-8">line-right alignment</a>
        <dd>
         <p>Let <var>x-position</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-10">computed position</a> minus <var>size</var>.</p>
       </dl>
      <dt>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-22">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-6">vertical growing left</a> or <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-6">vertical growing right</a>
      <dd>
       <dl class="switch">
        <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-12">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-9">line-left alignment</a>
        <dd>
         <p>Let <var>y-position</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-11">computed position</a>.</p>
        <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-13">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-7">center alignment</a>
        <dd>
         <p>Let <var>y-position</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-12">computed position</a> minus half
     of <var>size</var>.</p>
        <dt>If the <a data-link-type="dfn" href="#cue-computed-position-alignment" id="ref-for-cue-computed-position-alignment-14">computed position alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-9">line-right alignment</a>
        <dd>
         <p>Let <var>y-position</var> be the <a data-link-type="dfn" href="#cue-computed-position" id="ref-for-cue-computed-position-13">computed position</a> minus <var>size</var>.</p>
       </dl>
     </dl>
    <li>
     <p>Determine the value of whichever of <var>x-position</var> or <var>y-position</var> is not yet calculated for <var>cue</var> as per the appropriate rules from the following list:</p>
     <dl class="switch">
      <dt>If the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-10">WebVTT cue snap-to-lines flag</a> is false
      <dd>
       <dl class="switch">
        <dt>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-23">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-18">horizontal</a>
        <dd>
         <p>Let <var>y-position</var> be the <a data-link-type="dfn" href="#cue-computed-line" id="ref-for-cue-computed-line-2">computed line</a>.</p>
        <dt>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-24">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-7">vertical growing left</a> or <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-7">vertical growing right</a>
        <dd>
         <p>Let <var>x-position</var> be the <a data-link-type="dfn" href="#cue-computed-line" id="ref-for-cue-computed-line-3">computed line</a>.</p>
       </dl>
      <dt>If the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-11">WebVTT cue snap-to-lines flag</a> is true
      <dd>
       <dl class="switch">
        <dt>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-25">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-19">horizontal</a>
        <dd>
         <p>Let <var>y-position</var> be 0.</p>
        <dt>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-26">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-8">vertical growing left</a> or <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-8">vertical growing right</a>
        <dd>
         <p>Let <var>x-position</var> be 0.</p>
       </dl>
     </dl>
     <p class="note" role="note">These are not final positions, they are merely temporary positions used to
  calculate box dimensions below.</p>
    <li>
     <p>Let <var>left</var> be <span class="css"><var>x-position</var> vw</span> and <var>top</var> be <span class="css"><var>y-position</var> vh</span>. (These are
 CSS values used by the next section to set CSS properties for the rendering; <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#vw">vw</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-values-4/#vh">vh</a> are
 CSS units.) <a data-link-type="biblio" href="#biblio-css-values">[CSS-VALUES]</a></p>
    <li>
     <p><a data-link-type="dfn" href="#obtain-a-set-of-css-boxes" id="ref-for-obtain-a-set-of-css-boxes-2">Obtain a set of CSS boxes</a> <var>boxes</var> positioned relative to an initial containing
 block.</p>
    <li>
     <p>If there are no line boxes in <var>boxes</var>, skip the remainder of these substeps for <var>cue</var>. The
 cue is ignored.</p>
    <li>
     <p>Adjust the positions of <var>boxes</var> according to the appropriate steps from the following list:</p>
     <dl class="switch">
      <dt>If <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-12">WebVTT cue snap-to-lines flag</a> is true
      <dd>
       <p>Many of the steps in this algorithm vary according to the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-27">WebVTT cue writing
    direction</a>. Steps labeled "<strong>Horizontal</strong>" must be followed only when the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-28">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-20">horizontal</a>, steps labeled "<strong>Vertical</strong>" must be followed when the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-29">WebVTT cue writing direction</a> is either <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-9">vertical growing left</a> or <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-9">vertical growing right</a>, steps labeled "<strong>Vertical Growing Left</strong>"
    must be followed only when the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-30">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-10">vertical growing left</a>, and steps labeled "<strong>Vertical
    Growing Right</strong>" must be followed only when the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-31">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-10">vertical growing right</a>.</p>
       <ol>
        <li>
         <p><strong>Horizontal</strong>: Let <var>full dimension</var> be the height of <var>video</var>’s rendering
      area.</p>
         <p><strong>Vertical</strong>: Let <var>full dimension</var> be the width of <var>video</var>’s rendering
      area.</p>
        <li>
         <p><strong>Horizontal</strong>: Let <var>step</var> be the height of the first line box in <var>boxes</var>.</p>
         <p><strong>Vertical</strong>: Let <var>step</var> be the width of the first line box in <var>boxes</var>.</p>
        <li>
         <p>If <var>step</var> is zero, then jump to the step labeled <i>done positioning</i> below.</p>
        <li>
         <p>Let <var>line</var> be <var>cue</var>’s <a data-link-type="dfn" href="#cue-computed-line" id="ref-for-cue-computed-line-4">computed line</a>.</p>
        <li>
         <p>Round <var>line</var> to an integer by adding 0.5 and then flooring it.</p>
        <li>
         <p><strong>Vertical Growing Left</strong>: Add one to <var>line</var> then negate it.</p>
        <li>
         <p>Let <var>position</var> be the result of multiplying <var>step</var> and <var>line</var>.</p>
        <li>
         <p><strong>Vertical Growing Left</strong>: Decrease <var>position</var> by the width of the bounding
     box of the boxes in <var>boxes</var>, then increase <var>position</var> by <var>step</var>.</p>
        <li>
         <p>If <var>line</var> is less than zero then increase <var>position</var> by <var>max dimension</var>, and negate <var>step</var>.</p>
        <li>
         <p><strong>Horizontal</strong>: Move all the boxes in <var>boxes</var> down by the distance given by <var>position</var>.</p>
         <p><strong>Vertical</strong>: Move all the boxes in <var>boxes</var> right by the distance given by <var>position</var>.</p>
        <li>
         <p>Remember the position of all the boxes in <var>boxes</var> as their <var>specified
     position</var>.</p>
        <li>
         <p>Let <var>title area</var> be a box that covers all of the <var>video</var>’s rendering area.</p>
        <li>
         <p><i>Step loop</i>: If none of the boxes in <var>boxes</var> would overlap any of the boxes in <var>output</var>, and all of the boxes in <var>boxes</var> are entirely within the <var>title area</var> box, then jump
     to the step labeled <i>done positioning</i> below.</p>
        <li>
         <p><strong>Horizontal</strong>: If <var>step</var> is negative and the top of the first line box in <var>boxes</var> is now above the top of the <var>title area</var>, or if <var>step</var> is positive and the bottom of
      the first line box in <var>boxes</var> is now below the bottom of the <var>title area</var>, jump to the step
      labeled <i>switch direction</i>.</p>
         <p><strong>Vertical</strong>: If <var>step</var> is negative and the left edge of the first line box in <var>boxes</var> is now to the left of the left edge of the <var>title area</var>, or if <var>step</var> is positive and
      the right edge of the first line box in <var>boxes</var> is now to the right of the right edge of the <var>title area</var>, jump to the step labeled <i>switch direction</i>.</p>
        <li>
         <p><strong>Horizontal</strong>: Move all the boxes in <var>boxes</var> down by the distance given by <var>step</var>. (If <var>step</var> is negative, then this will actually result in an upwards movement of the
      boxes in absolute terms.)</p>
         <p><strong>Vertical</strong>: Move all the boxes in <var>boxes</var> right by the distance given by <var>step</var>. (If <var>step</var> is negative, then this will actually result in a leftwards movement of the
      boxes in absolute terms.)</p>
        <li>
         <p>Jump back to the step labeled <i>step loop</i>.</p>
        <li>
         <p><i>Switch direction</i>: If <var>switched</var> is true, then remove all the boxes in <var>boxes</var>,
     and jump to the step labeled <i>done positioning</i> below.</p>
        <li>
         <p>Otherwise, move all the boxes in <var>boxes</var> back to their <var>specified position</var> as
     determined in the earlier step.</p>
        <li>
         <p>Negate <var>step</var>.</p>
        <li>
         <p>Set <var>switched</var> to true.</p>
        <li>
         <p>Jump back to the step labeled <i>step loop</i>.</p>
       </ol>
      <dt>If <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-13">WebVTT cue snap-to-lines flag</a> is false
      <dd>
       <ol>
        <li>
         <p>Let <var>bounding box</var> be the bounding box of the boxes in <var>boxes</var>.</p>
        <li>
         <p>Run the appropriate steps from the following list:</p>
         <dl class="switch">
          <dt>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-32">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-21">horizontal</a>
          <dd>
           <dl class="switch">
            <dt>If the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-10">WebVTT cue line alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-line-center-alignment" id="ref-for-webvtt-cue-line-center-alignment-3">center alignment</a>
            <dd>
             <p>Move all the boxes in <var>boxes</var> up by half of the height of <var>bounding box</var>.</p>
            <dt>If the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-11">WebVTT cue line alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-line-end-alignment" id="ref-for-webvtt-cue-line-end-alignment-3">end
         alignment</a>
            <dd>
             <p>Move all the boxes in <var>boxes</var> up by the height of <var>bounding box</var>.</p>
           </dl>
          <dt>If the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-33">WebVTT cue writing direction</a> is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-11">vertical growing left</a> or <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-11">vertical growing right</a>
          <dd>
           <dl class="switch">
            <dt>If the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-12">WebVTT cue line alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-line-center-alignment" id="ref-for-webvtt-cue-line-center-alignment-4">center alignment</a>
            <dd>
             <p>Move all the boxes in <var>boxes</var> left by half of the width of <var>bounding box</var>.</p>
            <dt>If the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-13">WebVTT cue line alignment</a> is <a data-link-type="dfn" href="#webvtt-cue-line-end-alignment" id="ref-for-webvtt-cue-line-end-alignment-4">end
         alignment</a>
            <dd>
             <p>Move all the boxes in <var>boxes</var> left by the width of <var>bounding box</var>.</p>
           </dl>
         </dl>
        <li>
         <p>If none of the boxes in <var>boxes</var> would overlap any of the boxes in <var>output</var>, and all the
     boxes in <var>boxes</var> are within the <var>video</var>’s rendering area, then jump to the step labeled <i>done
     positioning</i> below.</p>
        <li>
         <p id="collision-avoidance">If there is a position to which the boxes in <var>boxes</var> can be moved while maintaining the
     relative positions of the boxes in <var>boxes</var> to each other such that none of the boxes in <var>boxes</var> would overlap any of the boxes in <var>output</var>, and all the boxes in <var>boxes</var> would be within the <var>video</var>’s rendering area, then move the boxes in <var>boxes</var> to the closest such position to their
     current position, and then jump to the step labeled <i>done positioning</i> below. If there are
     multiple such positions that are equidistant from their current position, use the highest one
     amongst them; if there are several at that height, then use the leftmost one amongst
     them.</p>
        <li>
         <p>Otherwise, jump to the step labeled <i>done positioning</i> below. (The boxes will
     unfortunately overlap.)</p>
       </ol>
     </dl>
    <li>
     <p><i>Done positioning</i>: Return <var>boxes</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining CSS boxes" data-level="7.3" id="obtaining-css-boxes"><span class="secno">7.3. </span><span class="content">Obtaining CSS boxes</span><a class="self-link" href="#obtaining-css-boxes"></a></h3>
   <p>When the processing algorithm above requires that the user agent <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="obtain a set of CSS boxes" data-noexport="" id="obtain-a-set-of-css-boxes">obtain a set of CSS
boxes</dfn> <var>boxes</var>, then apply the terms of the CSS specifications to <var>nodes</var> within the following
constraints: <a data-link-type="biblio" href="#biblio-css22">[CSS22]</a></p>
   <ul>
    <li>
     <p>The <i>document tree</i> is the tree of <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-9">WebVTT Node Objects</a> rooted at <var>nodes</var>.</p>
    <li>
     <p>For the purpose of selectors in STYLE blocks of a WebVTT file, the style sheet must apply to a
  hypothetical document that contains a single empty element with no explicit name, no namespace, no
  attributes, no classes, no IDs, and unknown primary language, that acts like the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media
  element</a> for the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text tracks</a> that were sourced from the given WebVTT file. The selectors
  must not match other <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text tracks</a> for the same <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a>. In this hypothetical
  document, the element must not match any selector that would match the element itself.</p>
     <p class="note" role="note">This element exists only to be the <a data-link-type="dfn" href="https://www.w3.org/TR/selectors4/#originating-element">originating element</a> for the <span class="css">::cue</span>, <span class="css">::cue()</span>, <span class="css">::cue-region</span> and <span class="css">::cue-region()</span> pseudo-elements.</p>
    <li>
     <p>For the purpose of determining the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-4/#cascade">cascade</a> of the declarations in STYLE
  blocks of a WebVTT file, the relative order of appearance of the style sheets must be the same
  order as they were added to the collection, and the order of appearance of the collection must be
  after any style sheets that apply to the associated <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-video-element">video</a> element’s document.</p>
     <div class="example" id="example-01d14f75">
      <a class="self-link" href="#example-01d14f75"></a> 
      <p>For example, given the following (invalid) HTML document:</p>
<pre>&lt;!doctype html>
&lt;title>Invalid cascade example&lt;/title>
&lt;video controls autoplay src="video.webm">
 &lt;track default src="track.vtt">
&lt;/video>
&lt;style>
 ::cue { color:red }
&lt;/style>
</pre>
      <p>...and the "track.vtt" file contains:</p>
<pre>WEBVTT

STYLE
::cue { color:lime }

00:00:00.000 --> 00:00:25.000
Red or green?
</pre>
      <p>The <span class="css">color:lime</span> declaration would win, because it is last in the <a data-link-type="dfn" href="https://www.w3.org/TR/css-cascade-4/#cascade">cascade</a>, even though the <a data-link-type="element" href="https://www.w3.org/TR/html51/document-metadata.html#the-style-element">style</a> element is after the <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-video-element">video</a> element in the document order.</p>
     </div>
    <li>
     <p id="style-no-external-resources">For the purpose of resolving URLs in STYLE blocks of a WebVTT
  file, or any URLs in resources referenced from STYLE blocks of a WebVTT file, if the URL’s scheme
  is not "<code>data</code>", then the user agent must act as if the URL failed to resolve.</p>
     <p><strong class="advisement">Supporting external resources with <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-cascade-4/#at-ruledef-import">@import</a> or <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background-image">background-image</a> would be a new ability for <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media elements</a> and <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-track-element">track</a> elements to issue
  network requests as the user watches the video, which could be a privacy issue.</strong></p>
    <li>
     <p>For the purposes of processing by the CSS specification, <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-9">WebVTT Internal Node Objects</a> are equivalent to elements with the same
 contents.</p>
    <li>For the purposes of processing by the CSS specification, <a data-link-type="dfn" href="#webvtt-text-object" id="ref-for-webvtt-text-object-7">WebVTT Text
 Objects</a> are equivalent to <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#text">Text</a></code> nodes.
    <li>No style sheets are associated with <var>nodes</var>. (The nodes are subsequently restyled using style
 sheets after their boxes are generated, as described below.)
    <li>The children of the <var>nodes</var> must be wrapped in an anonymous box whose <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display">display</a> property has
 the value <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-display-3/#valdef-display-inline">inline</a>. This is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="webvtt-cue-background-box">WebVTT cue background box</dfn>.
    <li>Runs of children of <a data-link-type="dfn" href="#webvtt-ruby-object" id="ref-for-webvtt-ruby-object-5">WebVTT Ruby Objects</a> that are not <a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-6">WebVTT Ruby Text Objects</a> must be wrapped in anonymous boxes whose <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display">display</a> property has the value <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-ruby-1/#valdef-display-ruby-base">ruby-base</a>. <a data-link-type="biblio" href="#biblio-css3-ruby">[CSS3-RUBY]</a>
    <li>Properties on <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-10">WebVTT Node Objects</a> have their values set as
 defined in the next section. (That section uses some of the variables whose values were calculated
 earlier in this algorithm.)
    <li>Text runs must be wrapped according to the CSS line-wrapping rules.
    <li>The video viewport (and initial containing block) is <var>video</var>’s rendering area.
   </ul>
   <p>Let <var>boxes</var> be the boxes generated as descendants of the initial containing block, along with
their positions.</p>
   <h3 class="heading settled algorithm" data-algorithm="Applying CSS properties to WebVTT Node Objects" data-level="7.4" id="applying-css-properties"><span class="secno">7.4. </span><span class="content">Applying CSS properties to <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-11">WebVTT Node Objects</a></span><a class="self-link" href="#applying-css-properties"></a></h3>
   <p>When following the <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-4">rules for updating the display of WebVTT text tracks</a>, user agents must
set properties of <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-12">WebVTT Node Objects</a> at the CSS user agent cascade
layer as defined in this section. <a data-link-type="biblio" href="#biblio-css22">[CSS22]</a></p>
   <p>Initialize the (root) <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-9">list of WebVTT Node Objects</a> with the following CSS settings:</p>
   <ul>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-positioning/#propdef-position">position</a> property must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css3-positioning/#valdef-position-absolute">absolute</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi">unicode-bidi</a> property must be set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-4/#valdef-unicode-bidi-plaintext">plaintext</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-4/#propdef-writing-mode">writing-mode</a> property must be set to <var>writing-mode</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-positioning/#propdef-top">top</a> property must be set to <var>top</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-positioning/#propdef-left">left</a> property must be set to <var>left</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-width">width</a> property must be set to <var>width</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-height">height</a> property must be set to <var>height</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-overflow-wrap">overflow-wrap</a> property must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-text-3/#valdef-overflow-wrap-break-word">break-word</a>
    <li>the <a class="property" data-link-type="propdesc">text-wrap</a> property must be set to <span class="css">balance</span> <a data-link-type="biblio" href="#biblio-css-text-4">[CSS-TEXT-4]</a>
   </ul>
   <p>The variables <var>writing-mode</var>, <var>top</var>, <var>left</var>, <var>width</var>, and <var>height</var> are the values with those
names determined by the <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-5">rules for updating the display of WebVTT text tracks</a> for the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-28">WebVTT cue</a> from whose <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-13">text</a> the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-10">list of WebVTT Node Objects</a> was
constructed.</p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-text-align">text-align</a> property on the (root) <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-11">list of WebVTT Node Objects</a> must be set to the
value in the second cell of the row of the table below whose first cell is the value of the
corresponding <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#cue">cue</a>’s <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-21">WebVTT cue text alignment</a>:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-22">WebVTT cue text alignment</a>
      <th><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-text-align">text-align</a> value
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-8">Start alignment</a>
      <td><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-text-3/#valdef-text-align-start">start</a>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-7">Center alignment</a>
      <td><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-text-3/#valdef-text-align-center">center</a>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-7">End alignment</a>
      <td><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-text-3/#valdef-text-align-end">end</a>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-left-alignment" id="ref-for-webvtt-cue-left-alignment-6">Left alignment</a>
      <td><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-text-3/#valdef-text-align-left">left</a>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-right-alignment" id="ref-for-webvtt-cue-right-alignment-6">Right alignment</a>
      <td><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-text-3/#valdef-text-align-right">right</a>
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-fonts-3/#propdef-font">font</a> shorthand property on the (root) <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-12">list of WebVTT Node Objects</a> must be set to <span class="css">5vh sans-serif</span>. <a data-link-type="biblio" href="#biblio-css-values">[CSS-VALUES]</a></p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-color-4/#propdef-color">color</a> property on the (root) <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-13">list of WebVTT Node Objects</a> must be set to <span class="css">rgba(255,255,255,1)</span>. <a data-link-type="biblio" href="#biblio-css3-color">[CSS3-COLOR]</a></p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background">background</a> shorthand property on the <a data-link-type="dfn" href="#webvtt-cue-background-box" id="ref-for-webvtt-cue-background-box-1">WebVTT cue background box</a> and on <a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-7">WebVTT Ruby
Text Objects</a> must be set to <span class="css">rgba(0,0,0,0.8)</span>. <a data-link-type="biblio" href="#biblio-css3-color">[CSS3-COLOR]</a></p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-white-space">white-space</a> property on the (root) <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-14">list of WebVTT Node Objects</a> must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-text-3/#valdef-white-space-pre-line">pre-line</a>. <a data-link-type="biblio" href="#biblio-css22">[CSS22]</a></p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-fonts-3/#propdef-font-style">font-style</a> property on <a data-link-type="dfn" href="#webvtt-italic-object" id="ref-for-webvtt-italic-object-4">WebVTT Italic Objects</a> must be set
to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-fonts-4/#valdef-font-style-italic">italic</a>.</p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-fonts-3/#propdef-font-weight">font-weight</a> property on <a data-link-type="dfn" href="#webvtt-bold-object" id="ref-for-webvtt-bold-object-5">WebVTT Bold Objects</a> must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-fonts-4/#valdef-font-weight-bold">bold</a>.</p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-decor-3/#text-decoration">text-decoration</a> property on <a data-link-type="dfn" href="#webvtt-underline-object" id="ref-for-webvtt-underline-object-4">WebVTT Underline Objects</a> must be set to <span class="css">underline</span>.</p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display">display</a> property on <a data-link-type="dfn" href="#webvtt-ruby-object" id="ref-for-webvtt-ruby-object-6">WebVTT Ruby Objects</a> must be set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-ruby-1/#valdef-display-ruby">ruby</a>. <a data-link-type="biblio" href="#biblio-css3-ruby">[CSS3-RUBY]</a></p>
   <p>The <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display">display</a> property on <a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-8">WebVTT Ruby Text Objects</a> must be
set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-ruby-1/#valdef-display-ruby-text">ruby-text</a>. <a data-link-type="biblio" href="#biblio-css3-ruby">[CSS3-RUBY]</a></p>
   <p>Every <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-6">WebVTT region object</a> is initialized with the following CSS settings:</p>
   <ul>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-positioning/#propdef-position">position</a> property must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css3-positioning/#valdef-position-absolute">absolute</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-4/#propdef-writing-mode">writing-mode</a> property must be set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-4/#valdef-writing-mode-horizontal-tb">horizontal-tb</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background">background</a> shorthand property must be set to <span class="css">rgba(0,0,0,0.8)</span>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-overflow-wrap">overflow-wrap</a> property must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-text-3/#valdef-overflow-wrap-break-word">break-word</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-fonts-3/#propdef-font">font</a> shorthand property must be set to <span class="css">5vh sans-serif</span>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-color-4/#propdef-color">color</a> property must be set to <span class="css">rgba(255,255,255,1)</span>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow">overflow</a> property must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-overflow-3/#valdef-overflow-hidden">hidden</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-width">width</a> property must be set to <var>width</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-min-height">min-height</a> property must be set to <span class="css">0px</span>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-max-height">max-height</a> property must be set to <var>height</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-positioning/#propdef-left">left</a> property must be set to <var>left</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-positioning/#propdef-top">top</a> property must be set to <var>top</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-display-3/#propdef-display">display</a> property must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-flexbox-1/#valdef-display-inline-flex">inline-flex</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow">flex-flow</a> property must be set to <span class="css">column</span>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-align/#propdef-justify-content">justify-content</a> property must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css-flexbox-1/#valdef-justify-content-flex-end">flex-end</a>
   </ul>
   <p>The variables <var>width</var>, <var>height</var>, <var>top</var>, and <var>left</var> are the values with those names determined by
the <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-6">rules for updating the display of WebVTT text tracks</a> for the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-15">WebVTT region</a> from
which the <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-7">WebVTT region object</a> was constructed.</p>
   <p>The children of every <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-8">WebVTT region object</a> are further initialized with these CSS
settings:</p>
   <ul>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-positioning/#propdef-position">position</a> property must be set to <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css3-positioning/#valdef-position-relative">relative</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi">unicode-bidi</a> property must be set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-4/#valdef-unicode-bidi-plaintext">plaintext</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-width">width</a> property must be set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-3/#valdef-width-auto">auto</a>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-height">height</a> property must be set to <var>height</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-positioning/#propdef-left">left</a> property must be set to <var>left</var>
    <li>the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-text-align">text-align</a> property must be set as described for the root <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-15">List of WebVTT Node
 Objects</a> not part of a region
   </ul>
   <p>All other non-inherited properties must be set to their initial values; inherited properties on
the root <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-16">list of WebVTT Node Objects</a> must inherit their values from the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> for which the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-29">WebVTT cue</a> is being rendered, if any. If there is no <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> (i.e.
if the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a> is being rendered for another media playback mechanism), then inherited
properties on the root <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-17">list of WebVTT Node Objects</a> and the <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-9">WebVTT region objects</a> must take their initial values.</p>
   <p>If there are style sheets that apply to the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> or other playback mechanism,
then they must be interpreted as defined in the next section.</p>
   <h2 class="heading settled" data-level="8" id="css-extensions"><span class="secno">8. </span><span class="content">CSS extensions</span><a class="self-link" href="#css-extensions"></a></h2>
   <p class="note" role="note">This section specifies some CSS pseudo-elements and pseudo-classes and how they
apply to WebVTT. This section does not apply to <a data-link-type="dfn" href="#user-agents-that-do-not-support-css" id="ref-for-user-agents-that-do-not-support-css-2">user agents that do not support CSS</a>.</p>
   <h3 class="heading settled" data-level="8.1" id="css-extensions-introduction"><span class="secno">8.1. </span><span class="content">Introduction</span><a class="self-link" href="#css-extensions-introduction"></a></h3>
   <p><i>This section is non-normative.</i></p>
   <p>The <span class="css">::cue</span> pseudo-element represents a cue.</p>
   <p>The <span class="css">::cue(<var>selector</var>)</span> pseudo-element represents a cue or element inside a cue that match the
given selector.</p>
   <p>The <span class="css">::cue-region</span> pseudo-element represents a region.</p>
   <p>The <span class="css">::cue-region(<var>selector</var>)</span> pseudo-element represents a region or element inside a region
that match the given selector.</p>
   <p class="note" role="note">Similarly to all other pseudo-elements, these pseudo-elements are not directly
present in the <code><a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-video-element">video</a></code> element’s document tree.</p>
   <p>The <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#past-pseudo">:past</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#future-pseudo">:future</a> pseudo-classes can be used in <span class="css">::cue(<var>selector</var>)</span> to match <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-10">WebVTT Internal Node Objects</a> based on the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#current-position">current playback position</a>.</p>
   <div class="example" id="example-cue-selector">
    <a class="self-link" href="#example-cue-selector"></a> 
    <p>The following table shows examples of what can be selected with a given selector, together with
 WebVTT syntax to produce the relevant objects.</p>
    <table class="data">
     <thead>
      <tr>
       <th>Selector (CSS syntax example)
       <th>Matches (WebVTT syntax example)
     <tbody>
      <tr>
       <td class="long">
        <p><span class="css">::cue</span></p>
<pre>video::cue {
  color: yellow;
}</pre>
       <td class="long">
        <p>Any <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-18">list of WebVTT Node Objects</a>.</p>
<pre>WEBVTT

00:00:00.000 --> 00:00:08.000
Yellow!

00:00:08.000 --> 00:00:16.000
Also yellow!
</pre>
      <tr>
       <td class="long">
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/selectors4/#id-selector">ID selector</a> in <span class="css">::cue()</span></p>
<pre>video::cue(#cue1) {
  color: yellow;
}</pre>
       <td class="long">
        <p>Any <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-19">list of WebVTT Node Objects</a> with the cue’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-identifier">text track cue identifier</a> matching the given ID.</p>
<pre>WEBVTT

cue1
00:00:00.000 --> 00:00:08.000
Yellow!
</pre>
      <tr>
       <td class="long">
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/selectors4/#type-selector">Type selector</a> in <span class="css">::cue()</span></p>
<pre>video::cue(c),
video::cue(i),
video::cue(b),
video::cue(u),
video::cue(ruby),
video::cue(rt),
video::cue(v),
video::cue(lang) {
  color: yellow;
}
</pre>
       <td class="long">
        <p><a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-11">WebVTT Internal Node Objects</a> (except the root <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-20">list of WebVTT Node Objects</a>)
     with the given name.</p>
<pre>WEBVTT

00:00:00.000 --> 00:00:08.000
&lt;c>Yellow!&lt;/c>
&lt;i>Yellow!&lt;/i>
&lt;u>Yellow!&lt;/u>
&lt;b>Yellow!&lt;/b>
&lt;u>Yellow!&lt;/u>
&lt;ruby>Yellow! &lt;rt>Yellow!&lt;/rt>&lt;/ruby>
&lt;v Kathryn>Yellow!&lt;/v>
&lt;lang en>Yellow!&lt;/lang>
</pre>
      <tr>
       <td class="long">
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/selectors4/#class-selector">Class selector</a> in <span class="css">::cue()</span></p>
<pre>video::cue(.loud) {
  color: yellow;
}</pre>
       <td class="long">
        <p><a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-12">WebVTT Internal Node Objects</a> (except the root <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-21">list of WebVTT Node Objects</a>)
     with the given <a data-link-type="dfn" href="#webvtt-node-objects-applicable-classes" id="ref-for-webvtt-node-objects-applicable-classes-4">applicable classes</a>.</p>
<pre>WEBVTT

00:00:00.000 --> 00:00:08.000
&lt;c.loud>Yellow!&lt;/c>
&lt;i.loud>Yellow!&lt;/i>
&lt;u.loud>Yellow!&lt;/u>
&lt;b.loud>Yellow!&lt;/b>
&lt;u.loud>Yellow!&lt;/u>
&lt;ruby.loud>Yellow! &lt;rt.loud>Yellow!&lt;/rt>&lt;/ruby>
&lt;v.loud Kathryn>Yellow!&lt;/v>
&lt;lang.loud en>Yellow!&lt;/lang>
</pre>
      <tr>
       <td class="long">
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/selectors4/#attribute-selector">Attribute selector</a> in <span class="css">::cue()</span></p>
<pre>video::cue([lang="en-US"]) {
  color: yellow;
}
video::cue(lang[lang="en-GB"]) {
  color: cyan;
}
video::cue(v[voice="Kathryn"] {
  color: lime;
}
</pre>
       <td class="long">
        <p>For "lang", the root <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-22">list of WebVTT Node Objects</a> or <a data-link-type="dfn" href="#webvtt-language-object" id="ref-for-webvtt-language-object-5">WebVTT Language Object</a> with the given <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-6">applicable language</a>; for
     "voice", the <a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-6">WebVTT Voice Object</a> with the given voice.</p>
<pre>WEBVTT

00:00:00.000 --> 00:00:08.000
Yellow!

00:00:08.000 --> 00:00:16.000
&lt;lang en-GB>Cyan!&lt;/lang>

00:00:16.000 --> 00:00:24.000
&lt;v Kathryn>I like lime.&lt;/v>
</pre>
        <p>The <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-7">applicable language</a> for the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-23">list
     of WebVTT Node Objects</a> can be set by the <code><a data-link-type="element-sub" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#dom-htmltrackelement-srclang">srclang</a></code> attribute in HTML.</p>
<pre>&lt;video ...>
 &lt;track src="example-attr.vtt"
        srclang="en-US" default>
&lt;/video>
</pre>
      <tr>
       <td class="long">
        <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#lang-pseudo">:lang()</a> pseudo-class in <span class="css">::cue()</span></p>
<pre>video::cue(:lang(en)) {
  color: yellow;
}
video::cue(:lang(en-GB)) {
  color: cyan;
}
</pre>
       <td class="long">
        <p><a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-13">WebVTT Internal Node Objects</a> with an <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-8">applicable language</a> matching the given language range.</p>
<pre>WEBVTT

00:00:00.000 --> 00:00:08.000
Yellow!

00:00:08.000 --> 00:00:16.000
&lt;lang en-GB>Cyan!&lt;/lang>
</pre>
        <p>As above, the <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-9">applicable language</a> for
     the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-24">list of WebVTT Node Objects</a> can be set by the <code><a data-link-type="element-sub" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#dom-htmltrackelement-srclang">srclang</a></code> attribute in
     HTML.</p>
      <tr>
       <td class="long">
        <p><a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#past-pseudo">:past</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#future-pseudo">:future</a> pseudo-classes in <span class="css">::cue()</span></p>
<pre>video::cue(:past) {
  color: yellow;
}
video::cue(:future) {
  color: cyan;
}
</pre>
       <td class="long">
        <p>In cues that have <a data-link-type="dfn" href="#webvtt-timestamp-object" id="ref-for-webvtt-timestamp-object-5">WebVTT Timestamp Objects</a>, <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-14">WebVTT Internal Node Objects</a>,
     depending on the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#current-position">current playback position</a>.</p>
<pre>WEBVTT

00:00:00.000 --> 00:00:08.000
&lt;c>No match (no timestamps)&lt;/c>

00:00:08.000 --> 00:00:16.000
No match &lt;00:00:12.000> (no elements)

00:00:16.000 --> 00:00:24.000
&lt;00:00:16.000> &lt;c>This&lt;/c>
&lt;00:00:18.000> &lt;c>can&lt;/c>
&lt;00:00:20.000> &lt;c>match&lt;/c>
&lt;00:00:22.000> &lt;c>:past/:future&lt;/c>
&lt;00:00:24.000>
</pre>
      <tr>
       <td class="long">
        <p><span class="css">::cue-region</span></p>
<pre>video::cue-region {
  color: yellow;
}</pre>
       <td class="long">
        <p>Any region (list of <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-10">WebVTT region objects</a>).</p>
<pre>WEBVTT

REGION
id:editor-comments
regionanchor:0%,0%
viewportanchor:0%,0%

00:00:00.000 --> 00:00:08.000
No match (normal cue)

00:00:08.000 --> 00:00:16.000 region:editor-comments
Yellow!
</pre>
      <tr>
       <td class="long">
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/selectors4/#id-selector">ID selector</a> in <span class="css">::cue-region()</span></p>
<pre>video::cue-region(#scroll) {
  color: cyan;
}</pre>
       <td class="long">
        <p>Any region (list of <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-11">WebVTT region objects</a>) with a <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-5">WebVTT region identifier</a> matching the given ID.</p>
<pre>WEBVTT

REGION
id:editor-comments
width: 40%
regionanchor:0%,100%
viewportanchor:10%,90%

REGION
id:scroll
width: 40%
regionanchor:100%,100%
viewportanchor:90%,90%
scroll:up

00:00:00.000 --> 00:00:08.000
No match (normal cue)

00:00:08.000 --> 00:00:16.000 region:editor-comments
Yellow!

00:00:10.000 --> 00:00:16.000 region:scroll
Over here it’s Cyan!
</pre>
    </table>
   </div>
   <h3 class="heading settled" data-level="8.2" id="css-extensions-processing-model"><span class="secno">8.2. </span><span class="content">Processing model</span><a class="self-link" href="#css-extensions-processing-model"></a></h3>
   <p>When a user agent is rendering one or more <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-30">WebVTT cues</a> according to the <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-7">rules for updating the display of WebVTT text tracks</a>, <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-13">WebVTT Node
Objects</a> in the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-25">list of WebVTT Node Objects</a> used in the rendering can be matched by
certain pseudo-selectors as defined below. These selectors can begin or stop matching individual <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-14">WebVTT Node Objects</a> while a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#cue">cue</a> is being
rendered, even in between applications of the <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-8">rules for updating the display of WebVTT text
tracks</a> (which are only run when the set of active cues changes). User agents that support the
pseudo-element described below must dynamically update renderings accordingly. When either <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-white-space">white-space</a> or one of the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-fonts-3/#propdef-font">font</a> shorthand (including <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-line-height">line-height</a>) changes value, then the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-31">WebVTT cue</a>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-display-state">text track cue display state</a> must
be emptied and the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#rules-for-updating-the-text-track-rendering">rules for updating the text track rendering</a> must be
immediately rerun.</p>
   <p>Pseudo-elements apply to elements that are matched by selectors. For the purpose of this section,
that element is the <i>matched element</i>. The pseudo-elements defined in the following sections
affect the styling of parts of <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-32">WebVTT cues</a> that are being rendered for the <i>matched element</i>.</p>
   <p class="note" role="note">If the <i>matched element</i> is not a <a data-link-type="element" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#the-video-element">video</a> element, the
pseudo-elements defined below won’t have any effect according to this specification.</p>
   <p>A CSS user agent that implements the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text tracks</a> model must implement the <span class="css">::cue</span>, <span class="css">::cue(<var>selector</var>)</span>, <span class="css">::cue-region</span> and <span class="css">::cue-region(<var>selector</var>)</span> pseudo-elements, and the <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#past-pseudo">:past</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#future-pseudo">:future</a> pseudo-classes.</p>
   <h4 class="heading settled" data-level="8.2.1" id="the-cue-pseudo-element"><span class="secno">8.2.1. </span><span class="content">The <span class="css">::cue</span> pseudo-element</span><a class="self-link" href="#the-cue-pseudo-element"></a></h4>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="cue">::cue<a class="self-link" href="#cue"></a></dfn> pseudo-element (with no argument) matches any <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-26">list of WebVTT Node
Objects</a> constructed for the <i>matched element</i>, with the exception that the properties
corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background">background</a> shorthand must be applied to the <a data-link-type="dfn" href="#webvtt-cue-background-box" id="ref-for-webvtt-cue-background-box-2">WebVTT cue background box</a> rather than the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-27">list of WebVTT Node Objects</a>.</p>
   <p>The following properties apply to the <span class="css">::cue</span> pseudo-element with no argument; other properties
set on the pseudo-element must be ignored:</p>
   <ul class="brief">
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-color-4/#propdef-color">color</a>
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-color-4/#propdef-opacity">opacity</a>
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visufx.html#propdef-visibility">visibility</a>
    <li>the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-decor-3/#text-decoration">text-decoration</a> shorthand
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-decor-3/#text-shadow">text-shadow</a>
    <li>the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background">background</a> shorthand
    <li>the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-4/#propdef-outline">outline</a> shorthand
    <li>the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-fonts-3/#propdef-font">font</a> shorthand, including <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-line-height">line-height</a>
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-white-space">white-space</a>
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-4/#propdef-text-combine-upright">text-combine-upright</a>
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position">ruby-position</a>
   </ul>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="cue-selector">::cue(<var>selector</var>)<a class="self-link" href="#cue-selector"></a></dfn> pseudo-element with an argument must have an argument that
consists of a CSS selector <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>. It matches any <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-15">WebVTT Internal Node Object</a> constructed for the <i>matched element</i> that also matches the given CSS selector, with the nodes
being treated as follows:</p>
   <ul>
    <li>
     <p>The <i>document tree</i> against which the selectors are matched is the tree of <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-15">WebVTT Node Objects</a> rooted at the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-28">list of WebVTT Node Objects</a> for the cue.</p>
    <li>
     <p><a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-16">WebVTT Internal Node Objects</a> are elements in the
 tree.</p>
    <li><a data-link-type="dfn" href="#webvtt-leaf-node-object" id="ref-for-webvtt-leaf-node-object-3">WebVTT Leaf Node Objects</a> cannot be matched.
    <li>
     <p>For the purposes of element type selectors, the names of <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-17">WebVTT Internal Node Objects</a> are as given by the following table, where objects having
  the concrete class given in a cell in the first column have the name given by the second column of
  the same row:</p>
     <table class="complex data">
      <thead>
       <tr>
        <th>Concrete class
        <th>Name
      <tbody>
       <tr>
        <td><a data-link-type="dfn" href="#webvtt-class-object" id="ref-for-webvtt-class-object-4">WebVTT Class Objects</a>
        <td><code>c</code>
       <tr>
        <td><a data-link-type="dfn" href="#webvtt-italic-object" id="ref-for-webvtt-italic-object-5">WebVTT Italic Objects</a>
        <td><code>i</code>
       <tr>
        <td><a data-link-type="dfn" href="#webvtt-bold-object" id="ref-for-webvtt-bold-object-6">WebVTT Bold Objects</a>
        <td><code>b</code>
       <tr>
        <td><a data-link-type="dfn" href="#webvtt-underline-object" id="ref-for-webvtt-underline-object-5">WebVTT Underline Objects</a>
        <td><code>u</code>
       <tr>
        <td><a data-link-type="dfn" href="#webvtt-ruby-object" id="ref-for-webvtt-ruby-object-7">WebVTT Ruby Objects</a>
        <td><code>ruby</code>
       <tr>
        <td><a data-link-type="dfn" href="#webvtt-ruby-text-object" id="ref-for-webvtt-ruby-text-object-9">WebVTT Ruby Text Objects</a>
        <td><code>rt</code>
       <tr>
        <td><a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-7">WebVTT Voice Objects</a>
        <td><code>v</code>
       <tr>
        <td><a data-link-type="dfn" href="#webvtt-language-object" id="ref-for-webvtt-language-object-6">WebVTT Language Objects</a>
        <td><code>lang</code>
       <tr>
        <td>Other elements (specifically, <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-29">lists of WebVTT Node
     Objects</a>)
        <td>No explicit name.
     </table>
    <li>
     <p>For the purposes of element type and universal selectors, <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-18">WebVTT Internal Node Objects</a> are considered as being in the namespace expressed as the
 empty string.</p>
    <li>
     <p>For the purposes of attribute selector matching, <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-19">WebVTT
 Internal Node Objects</a> have no attributes, except for <a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-8">WebVTT Voice
 Objects</a>, which have a single attribute named "<code>voice</code>" whose value is the value of
 the <a data-link-type="dfn" href="#webvtt-voice-object" id="ref-for-webvtt-voice-object-9">WebVTT Voice Object</a>, <a data-link-type="dfn" href="#webvtt-language-object" id="ref-for-webvtt-language-object-7">WebVTT Language Objects</a>, which
 have a single attribute named "<code>lang</code>" whose value is the object’s <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-10">applicable language</a>, and <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-30">lists of WebVTT Node Objects</a> that have a non-empty <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-11">applicable language</a>, which have a single attribute named
 "<code>lang</code>" whose value is the object’s <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-12">applicable language</a>.</p>
    <li>
     <p>For the purposes of class selector matching, <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-20">WebVTT
 Internal Node Objects</a> have the classes described as the <a data-link-type="dfn" href="#webvtt-node-objects-applicable-classes" id="ref-for-webvtt-node-objects-applicable-classes-5">WebVTT Node Object’s applicable
 classes</a>.</p>
    <li>
     <p>For the purposes of the <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#lang-pseudo">:lang()</a> pseudo-class, <a data-link-type="dfn" href="#webvtt-internal-node-object" id="ref-for-webvtt-internal-node-object-21">WebVTT
 Internal Node Objects</a> have the language described as the <a data-link-type="dfn" href="#webvtt-node-objects-applicable-language" id="ref-for-webvtt-node-objects-applicable-language-13">WebVTT Node Object’s applicable
 language</a>.</p>
    <li>
     <p>For the purposes of ID selector matching, <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-31">lists of
 WebVTT Node Objects</a> have the ID given by the cue’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-identifier">text track cue identifier</a>, if
 any.</p>
   </ul>
   <p>The following properties apply to the <span class="css">::cue()</span> pseudo-element with an argument:</p>
   <ul class="brief">
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-color-4/#propdef-color">color</a>
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-color-4/#propdef-opacity">opacity</a>
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visufx.html#propdef-visibility">visibility</a>
    <li>the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-decor-3/#text-decoration">text-decoration</a> shorthand
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-decor-3/#text-shadow">text-shadow</a>
    <li>the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background">background</a> shorthand
    <li>the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-4/#propdef-outline">outline</a> shorthand
    <li>properties relating to the transition and animation features
   </ul>
   <p>In addition, the following properties apply to the <span class="css">::cue()</span> pseudo-element with an argument
when the selector does not contain the <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#past-pseudo">:past</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#future-pseudo">:future</a> pseudo-classes:</p>
   <ul class="brief">
    <li>the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-fonts-3/#propdef-font">font</a> shorthand, including <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-line-height">line-height</a>
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-white-space">white-space</a>
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-4/#propdef-text-combine-upright">text-combine-upright</a>
    <li><a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position">ruby-position</a>
   </ul>
   <p>Properties that do not apply must be ignored.</p>
   <p>As a special exception, the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css3-background/#propdef-background">background</a> shorthand, when they
would have been applied to the <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-32">list of WebVTT Node Objects</a>, must instead be applied to the <a data-link-type="dfn" href="#webvtt-cue-background-box" id="ref-for-webvtt-cue-background-box-3">WebVTT cue background box</a>.</p>
   <h4 class="heading settled" data-level="8.2.2" id="the-past-and-future-pseudo-classes"><span class="secno">8.2.2. </span><span class="content">The <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#past-pseudo">:past</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#future-pseudo">:future</a> pseudo-classes</span><a class="self-link" href="#the-past-and-future-pseudo-classes"></a></h4>
   <p>The <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#past-pseudo">:past</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/selectors4/#future-pseudo">:future</a> pseudo-classes sometimes match <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-16">WebVTT
Node Objects</a>. <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a></p>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="past">:past<a class="self-link" href="#past"></a></dfn> pseudo-class only matches <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-17">WebVTT Node Objects</a> that are <i>in the past</i>.</p>
   <p class="algorithm" data-algorithm="in the past">A <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-18">WebVTT Node Object</a> <var>c</var> is <dfn data-dfn-type="dfn" data-noexport="" id="in-the-past">in the past<a class="self-link" href="#in-the-past"></a></dfn> if, in a
pre-order, depth-first traversal of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-33">WebVTT cue</a>’s <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-33">list of WebVTT Node Objects</a>,
there exists a <a data-link-type="dfn" href="#webvtt-timestamp-object" id="ref-for-webvtt-timestamp-object-6">WebVTT Timestamp Object</a> whose value is less than the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#current-position">current playback
position</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> that is the <i>matched element</i>, entirely after the <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-19">WebVTT Node Object</a> <var>c</var>.</p>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="future">:future<a class="self-link" href="#future"></a></dfn> pseudo-class only matches <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-20">WebVTT Node
Objects</a> that are <i>in the future</i>.</p>
   <p class="algorithm" data-algorithm="in the future">A <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-21">WebVTT Node Object</a> <var>c</var> is <dfn data-dfn-type="dfn" data-noexport="" id="in-the-future">in the future<a class="self-link" href="#in-the-future"></a></dfn> if, in a
pre-order, depth-first traversal of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-34">WebVTT cue</a>’s <a data-link-type="dfn" href="#list-of-webvtt-node-objects" id="ref-for-list-of-webvtt-node-objects-34">list of WebVTT Node Objects</a>,
there exists a <a data-link-type="dfn" href="#webvtt-timestamp-object" id="ref-for-webvtt-timestamp-object-7">WebVTT Timestamp Object</a> whose value is greater than the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#current-position">current playback
position</a> of the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#media-element">media element</a> that is the <i>matched element</i>, entirely before the <a data-link-type="dfn" href="#webvtt-node-object" id="ref-for-webvtt-node-object-22">WebVTT Node Object</a> <var>c</var>.</p>
   <h4 class="heading settled" data-level="8.2.3" id="the-cue-region-pseudo-element"><span class="secno">8.2.3. </span><span class="content">The <span class="css">::cue-region</span> pseudo-element</span><a class="self-link" href="#the-cue-region-pseudo-element"></a></h4>
   <p>Pseudo-elements apply to elements that are matched by selectors. For the purpose of this section,
that element is the matched element. The pseudo-element defined below affects the styling of text
track regions that are being rendered for the matched element.</p>
   <p class="note" role="note">If the matched element is not a video element, the pseudo-element defined below
won’t have any effect according to this specification.</p>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="cue-region">::cue-region<a class="self-link" href="#cue-region"></a></dfn> pseudo-element (with no argument) matches any list of <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-12">WebVTT region objects</a> constructed for the <i>matched element</i>.</p>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="cue-region-selector">::cue-region(selector)<a class="self-link" href="#cue-region-selector"></a></dfn> pseudo-element with an argument must have an argument that
consists of a CSS selector <a data-link-type="biblio" href="#biblio-selectors4">[SELECTORS4]</a>. It matches any list of <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-13">WebVTT region objects</a> constructed for the <i>matched element</i> that also matches the
given CSS selector as follows:</p>
   <ul>
    <li>
     <p>Any region (list of <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-14">WebVTT region objects</a>) with a <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-6">WebVTT region identifier</a> matching the given ID.</p>
   </ul>
   <p>No other selector matching is defined for <span class="css">::cue-region(<var>selector</var>)</span>.</p>
   <p>The same properties that apply to <span class="css">::cue</span> apply to the <span class="css">::cue-region</span> pseudo-element; other
properties set on the pseudo-element must be ignored.</p>
   <p>When a user agent is rendering one or more text track regions according to the <a data-link-type="dfn" href="#rules-for-updating-the-display-of-webvtt-text-tracks" id="ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-9">rules for
updating the display of WebVTT text tracks</a>, <a data-link-type="dfn" href="#webvtt-region-object" id="ref-for-webvtt-region-object-15">WebVTT region
objects</a> used in the rendering can be matched by the above pseudo-element. User agents that
support the pseudo-element must dynamically update renderings accordingly. When either <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-text-3/#propdef-white-space">white-space</a> or one of the properties corresponding to the <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/css-fonts-3/#propdef-font">font</a> shorthand (including <a class="property" data-link-type="propdesc" href="https://www.w3.org/TR/CSS22/visudet.html#propdef-line-height">line-height</a>) changes
value, then the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-display-state">text track cue display state</a> of all the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-35">WebVTT cues</a> in
the region must be emptied and the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-tracks">text track</a>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#rules-for-updating-the-text-track-rendering">rules for updating the text track
rendering</a> must be immediately rerun.</p>
   <h2 class="heading settled" data-level="9" id="api"><span class="secno">9. </span><span class="content">API</span><a class="self-link" href="#api"></a></h2>
   <h3 class="heading settled algorithm" data-algorithm="The VTTCue interface" data-level="9.1" id="the-vttcue-interface"><span class="secno">9.1. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-2">VTTCue</a></code> interface</span><a class="self-link" href="#the-vttcue-interface"></a></h3>
   <p>The following interface is used to expose WebVTT cues in the DOM API:</p>
<pre class="idl highlight def"><span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-autokeyword"><code>AutoKeyword</code></dfn> { <dfn class="s idl-code" data-dfn-for="AutoKeyword" data-dfn-type="enum-value" data-export="" data-lt="&quot;auto&quot;|auto" id="dom-autokeyword-auto"><code>"auto"</code><a class="self-link" href="#dom-autokeyword-auto"></a></dfn> };
<span class="kt">typedef</span> (<a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <span class="kt">or</span> <a class="n" data-link-type="idl-name" href="#enumdef-autokeyword" id="ref-for-enumdef-autokeyword-1">AutoKeyword</a>) <dfn class="nv dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-lineandpositionsetting"><code>LineAndPositionSetting</code></dfn>;
<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-directionsetting"><code>DirectionSetting</code></dfn> { <dfn class="s idl-code" data-dfn-for="DirectionSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;&quot;|" id="dom-directionsetting"><code>""</code><a class="self-link" href="#dom-directionsetting"></a></dfn> /* horizontal */, <dfn class="s idl-code" data-dfn-for="DirectionSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;rl&quot;|rl" id="dom-directionsetting-rl"><code>"rl"</code><a class="self-link" href="#dom-directionsetting-rl"></a></dfn>, <dfn class="s idl-code" data-dfn-for="DirectionSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;lr&quot;|lr" id="dom-directionsetting-lr"><code>"lr"</code><a class="self-link" href="#dom-directionsetting-lr"></a></dfn> };
<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-linealignsetting"><code>LineAlignSetting</code></dfn> { <dfn class="s idl-code" data-dfn-for="LineAlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;start&quot;|start" id="dom-linealignsetting-start"><code>"start"</code><a class="self-link" href="#dom-linealignsetting-start"></a></dfn>, <dfn class="s idl-code" data-dfn-for="LineAlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;center&quot;|center" id="dom-linealignsetting-center"><code>"center"</code><a class="self-link" href="#dom-linealignsetting-center"></a></dfn>, <dfn class="s idl-code" data-dfn-for="LineAlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;end&quot;|end" id="dom-linealignsetting-end"><code>"end"</code><a class="self-link" href="#dom-linealignsetting-end"></a></dfn> };
<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-positionalignsetting"><code>PositionAlignSetting</code></dfn> { <dfn class="s idl-code" data-dfn-for="PositionAlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;line-left&quot;|line-left" id="dom-positionalignsetting-line-left"><code>"line-left"</code><a class="self-link" href="#dom-positionalignsetting-line-left"></a></dfn>, <dfn class="s idl-code" data-dfn-for="PositionAlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;center&quot;|center" id="dom-positionalignsetting-center"><code>"center"</code><a class="self-link" href="#dom-positionalignsetting-center"></a></dfn>, <dfn class="s idl-code" data-dfn-for="PositionAlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;line-right&quot;|line-right" id="dom-positionalignsetting-line-right"><code>"line-right"</code><a class="self-link" href="#dom-positionalignsetting-line-right"></a></dfn>, <dfn class="s idl-code" data-dfn-for="PositionAlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;auto&quot;|auto" id="dom-positionalignsetting-auto"><code>"auto"</code><a class="self-link" href="#dom-positionalignsetting-auto"></a></dfn> };
<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-alignsetting"><code>AlignSetting</code></dfn> { <dfn class="s idl-code" data-dfn-for="AlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;start&quot;|start" id="dom-alignsetting-start"><code>"start"</code><a class="self-link" href="#dom-alignsetting-start"></a></dfn>, <dfn class="s idl-code" data-dfn-for="AlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;center&quot;|center" id="dom-alignsetting-center"><code>"center"</code><a class="self-link" href="#dom-alignsetting-center"></a></dfn>, <dfn class="s idl-code" data-dfn-for="AlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;end&quot;|end" id="dom-alignsetting-end"><code>"end"</code><a class="self-link" href="#dom-alignsetting-end"></a></dfn>, <dfn class="s idl-code" data-dfn-for="AlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;left&quot;|left" id="dom-alignsetting-left"><code>"left"</code><a class="self-link" href="#dom-alignsetting-left"></a></dfn>, <dfn class="s idl-code" data-dfn-for="AlignSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;right&quot;|right" id="dom-alignsetting-right"><code>"right"</code><a class="self-link" href="#dom-alignsetting-right"></a></dfn> };
[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<span class="n">Window</span>,
 <a class="nv idl-code" data-link-type="constructor" href="#dom-vttcue-vttcue" id="ref-for-dom-vttcue-vttcue-1">Constructor</a>(<a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <dfn class="nv idl-code" data-dfn-for="VTTCue/VTTCue(startTime, endTime, text)" data-dfn-type="argument" data-export="" id="dom-vttcue-vttcue-starttime-endtime-text-starttime"><code>startTime</code><a class="self-link" href="#dom-vttcue-vttcue-starttime-endtime-text-starttime"></a></dfn>, <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <dfn class="nv idl-code" data-dfn-for="VTTCue/VTTCue(startTime, endTime, text)" data-dfn-type="argument" data-export="" id="dom-vttcue-vttcue-starttime-endtime-text-endtime"><code>endTime</code><a class="self-link" href="#dom-vttcue-vttcue-starttime-endtime-text-endtime"></a></dfn>, <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-DOMString"><span class="kt">DOMString</span></a> <dfn class="nv idl-code" data-dfn-for="VTTCue/VTTCue(startTime, endTime, text)" data-dfn-type="argument" data-export="" id="dom-vttcue-vttcue-starttime-endtime-text-text"><code>text</code><a class="self-link" href="#dom-vttcue-vttcue-starttime-endtime-text-text"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="vttcue"><code>VTTCue</code></dfn> : <a class="n" data-link-type="idl-name" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#texttrackcue-texttrackcue">TextTrackCue</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#vttregion" id="ref-for-vttregion-1">VTTRegion</a>? <a class="nv idl-code" data-link-type="attribute" data-type="VTTRegion?" href="#dom-vttcue-region" id="ref-for-dom-vttcue-region-1">region</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-directionsetting" id="ref-for-enumdef-directionsetting-1">DirectionSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="DirectionSetting" href="#dom-vttcue-vertical" id="ref-for-dom-vttcue-vertical-1">vertical</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-boolean"><span class="kt">boolean</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-vttcue-snaptolines" id="ref-for-dom-vttcue-snaptolines-2">snapToLines</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#typedefdef-lineandpositionsetting" id="ref-for-typedefdef-lineandpositionsetting-1">LineAndPositionSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="LineAndPositionSetting" href="#dom-vttcue-line" id="ref-for-dom-vttcue-line-2">line</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-linealignsetting" id="ref-for-enumdef-linealignsetting-1">LineAlignSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="LineAlignSetting" href="#dom-vttcue-linealign" id="ref-for-dom-vttcue-linealign-1">lineAlign</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#typedefdef-lineandpositionsetting" id="ref-for-typedefdef-lineandpositionsetting-2">LineAndPositionSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="LineAndPositionSetting" href="#dom-vttcue-position" id="ref-for-dom-vttcue-position-1">position</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-positionalignsetting" id="ref-for-enumdef-positionalignsetting-1">PositionAlignSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="PositionAlignSetting" href="#dom-vttcue-positionalign" id="ref-for-dom-vttcue-positionalign-1">positionAlign</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttcue-size" id="ref-for-dom-vttcue-size-1">size</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-alignsetting" id="ref-for-enumdef-alignsetting-1">AlignSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="AlignSetting" href="#dom-vttcue-align" id="ref-for-dom-vttcue-align-1">align</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-DOMString"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-vttcue-text" id="ref-for-dom-vttcue-text-1">text</a>;
  <a class="n" data-link-type="idl-name" href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a> <a class="nv idl-code" data-link-type="method" href="#dom-vttcue-getcueashtml" id="ref-for-dom-vttcue-getcueashtml-2">getCueAsHTML</a>();
};
</pre>
   <dl class="note">
    <dt><var>cue</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-vttcue-vttcue" id="ref-for-dom-vttcue-vttcue-2">VTTCue</a>( <var>startTime</var>, <var>endTime</var>, <var>text</var> )
    <dd>
     <p>Returns a new <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-3">VTTCue</a></code> object, for use with the <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#dom-texttrack-addcue">addCue()</a></code> method.</p>
     <p>The <var>startTime</var> argument sets the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-start-time">text track cue start time</a>.</p>
     <p>The <var>endTime</var> argument sets the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-end-time">text track cue end time</a>.</p>
     <p>The <var>text</var> argument sets the <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-14">cue text</a>.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-region" id="ref-for-dom-vttcue-region-2">region</a></code>
    <dd>
     <p>Returns the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-2">VTTRegion</a></code> object to which this cue belongs, if any, or null otherwise.</p>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-vertical" id="ref-for-dom-vttcue-vertical-2">vertical</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns a string representing the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-34">WebVTT cue writing direction</a>, as follows:</p>
     <dl class="switch">
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-22">horizontal</a>
      <dd>
       <p>The empty string.</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-12">vertical growing
   left</a>
      <dd>
       <p>The string "<code>rl</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-12">vertical growing
   right</a>
      <dd>
       <p>The string "<code>lr</code>".</p>
     </dl>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-snaptolines" id="ref-for-dom-vttcue-snaptolines-3">snapToLines</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns true if the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-14">WebVTT cue snap-to-lines flag</a> is true, false otherwise.</p>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-line" id="ref-for-dom-vttcue-line-3">line</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-24">WebVTT cue line</a>. In the case of the value being <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-6">auto</a>, the string "<code>auto</code>" is returned.</p>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-linealign" id="ref-for-dom-vttcue-linealign-2">lineAlign</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns a string representing the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-14">WebVTT cue line alignment</a>, as follows:</p>
     <dl class="switch">
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-line-start-alignment" id="ref-for-webvtt-cue-line-start-alignment-6">start alignment</a>
      <dd>
       <p>The string "<code>start</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-line-center-alignment" id="ref-for-webvtt-cue-line-center-alignment-5">center alignment</a>
      <dd>
       <p>The string "<code>center</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-line-end-alignment" id="ref-for-webvtt-cue-line-end-alignment-5">end alignment</a>
      <dd>
       <p>The string "<code>end</code>".</p>
     </dl>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-position" id="ref-for-dom-vttcue-position-2">position</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-23">WebVTT cue position</a>. In the case of the value being <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-8">auto</a>, the string "<code>auto</code>" is returned.</p>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-positionalign" id="ref-for-dom-vttcue-positionalign-2">positionAlign</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns a string representing the <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-11">WebVTT cue position alignment</a>, as follows:</p>
     <dl class="switch">
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-10">line-left alignment</a>
      <dd>
       <p>The string "<code>line-left</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-8">center alignment</a>
      <dd>
       <p>The string "<code>center</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-10">line-right alignment</a>
      <dd>
       <p>The string "<code>line-right</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-position-automatic-alignment" id="ref-for-webvtt-cue-position-automatic-alignment-4">automatic alignment</a>
      <dd>
       <p>The string "<code>auto</code>".</p>
     </dl>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-size" id="ref-for-dom-vttcue-size-2">size</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns the <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-12">WebVTT cue size</a>.</p>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-align" id="ref-for-dom-vttcue-align-2">align</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns a string representing the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-23">WebVTT cue text alignment</a>, as follows:</p>
     <dl class="switch">
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-9">start alignment</a>
      <dd>
       <p>The string "<code>start</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-8">center alignment</a>
      <dd>
       <p>The string "<code>center</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-8">end alignment</a>
      <dd>
       <p>The string "<code>end</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-left-alignment" id="ref-for-webvtt-cue-left-alignment-7">left alignment</a>
      <dd>
       <p>The string "<code>left</code>".</p>
      <dt>If it is <a data-link-type="dfn" href="#webvtt-cue-right-alignment" id="ref-for-webvtt-cue-right-alignment-7">right alignment</a>
      <dd>
       <p>The string "<code>right</code>".</p>
     </dl>
     <p>Can be set.</p>
    <dt><var>cue</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttcue-text" id="ref-for-dom-vttcue-text-2">text</a></code> [ = <var>value</var> ]
    <dd>
     <p>Returns the <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-15">cue text</a> in raw unparsed form.</p>
     <p>Can be set.</p>
    <dt><var>fragment</var> = <var>cue</var> . <a class="idl-code" data-link-type="method" href="#dom-vttcue-getcueashtml" id="ref-for-dom-vttcue-getcueashtml-3">getCueAsHTML</a>()
    <dd>
     <p>Returns the <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-16">cue text</a> as a <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a></code> of <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#html-element">HTML elements</a> and other DOM
  nodes.</p>
   </dl>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="constructor" data-export="" data-lt="VTTCue(startTime, endTime, text)" id="dom-vttcue-vttcue"><code>VTTCue(<var>startTime</var>, <var>endTime</var>, <var>text</var>)</code></dfn> constructor, when invoked, must run the following steps:</p>
   <ol class="algorithm" data-algorithm="VTTCue construction">
    <li>
     <p>Create a new <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-36">WebVTT cue</a>. Let <var>cue</var> be that <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-37">WebVTT cue</a>.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-start-time">text track cue start time</a> be the value of the <var>startTime</var> argument,
 interpreted as a time in seconds.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-end-time">text track cue end time</a> be the value of the <var>endTime</var> argument,
 interpreted as a time in seconds.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-17">cue text</a> be the value of the <var>text</var> argument, and let the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-rules-for-extracting-the-chapter-title">rules for
 extracting the chapter title</a> be the <a data-link-type="dfn" href="#webvtt-rules-for-extracting-the-chapter-title" id="ref-for-webvtt-rules-for-extracting-the-chapter-title-1">WebVTT rules for extracting the chapter
 title</a>.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#text-track-cue-identifier">text track cue identifier</a> be the empty string.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#pause-on-exit-flag">text track cue pause-on-exit flag</a> be false.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-10">WebVTT cue region</a> be null.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-35">WebVTT cue writing direction</a> be <a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-23">horizontal</a>.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-15">WebVTT cue snap-to-lines flag</a> be true.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-25">WebVTT cue line</a> be <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-7">auto</a>.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-15">WebVTT cue line alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-line-start-alignment" id="ref-for-webvtt-cue-line-start-alignment-7">start alignment</a>.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-24">WebVTT cue position</a> be <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-9">auto</a>.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-12">WebVTT cue position alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-position-automatic-alignment" id="ref-for-webvtt-cue-position-automatic-alignment-5">auto</a>.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-13">WebVTT cue size</a> be 100.</p>
    <li>
     <p>Let <var>cue</var>’s <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-24">WebVTT cue text alignment</a> be <a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-9">center
 alignment</a>.</p>
    <li>
     <p>Return the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-4">VTTCue</a></code> object representing <var>cue</var>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-region"><code>region</code></dfn> attribute, on getting, must return the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-3">VTTRegion</a></code> object representing the <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-11">WebVTT cue region</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-38">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-5">VTTCue</a></code> object
represents, if any; or null otherwise. On setting, the <a data-link-type="dfn" href="#webvtt-cue-region" id="ref-for-webvtt-cue-region-12">WebVTT cue region</a> must be set to the
new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-vertical"><code>vertical</code></dfn> attribute, on getting, must return the string from
the second cell of the row in the table below whose first cell is the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-36">WebVTT cue writing
direction</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-39">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-6">VTTCue</a></code> object represents:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-37">WebVTT cue writing direction</a>
      <th><code class="idl"><a data-link-type="idl" href="#dom-vttcue-vertical" id="ref-for-dom-vttcue-vertical-3">vertical</a></code> value
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-horizontal-writing-direction" id="ref-for-webvtt-cue-horizontal-writing-direction-24">Horizontal</a>
      <td>"<code></code>" (the empty string)
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-vertical-growing-left-writing-direction" id="ref-for-webvtt-cue-vertical-growing-left-writing-direction-13">Vertical growing left</a>
      <td>"<code>rl</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-vertical-growing-right-writing-direction" id="ref-for-webvtt-cue-vertical-growing-right-writing-direction-13">Vertical growing right</a>
      <td>"<code>lr</code>"
   </table>
   <p>On setting, the <a data-link-type="dfn" href="#webvtt-cue-writing-direction" id="ref-for-webvtt-cue-writing-direction-38">WebVTT cue writing direction</a> must be set to the value given in the first
cell of the row in the table above whose second cell is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the new
value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-snaptolines"><code>snapToLines</code></dfn> attribute, on getting, must return true if the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-16">WebVTT cue snap-to-lines flag</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-40">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-7">VTTCue</a></code> object represents
is true; or false otherwise. On setting, the <a data-link-type="dfn" href="#webvtt-cue-snap-to-lines-flag" id="ref-for-webvtt-cue-snap-to-lines-flag-17">WebVTT cue snap-to-lines flag</a> must be set to the
new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-line"><code>line</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-26">WebVTT cue
line</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-41">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-8">VTTCue</a></code> object represents. The special value <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-8">auto</a> must be represented as the string "<code>auto</code>". On
setting, the <a data-link-type="dfn" href="#webvtt-cue-line" id="ref-for-webvtt-cue-line-27">WebVTT cue line</a> must be set to the new value; if the new value is the string
"<code>auto</code>", then it must be interpreted as the special value <a data-link-type="dfn" href="#webvtt-cue-line-automatic" id="ref-for-webvtt-cue-line-automatic-9">auto</a>.</p>
   <p class="note" role="note">In order to be able to set the <code class="idl"><a data-link-type="idl" href="#dom-vttcue-snaptolines" id="ref-for-dom-vttcue-snaptolines-4">snapToLines</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-vttcue-line" id="ref-for-dom-vttcue-line-4">line</a></code> attributes
in any order, the API does not reject setting <code class="idl"><a data-link-type="idl" href="#dom-vttcue-snaptolines" id="ref-for-dom-vttcue-snaptolines-5">snapToLines</a></code> to false when <code class="idl"><a data-link-type="idl" href="#dom-vttcue-line" id="ref-for-dom-vttcue-line-5">line</a></code> has a value outside the range 0..100, or vice versa.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-linealign"><code>lineAlign</code></dfn> attribute, on getting, must return the string from
the second cell of the row in the table below whose first cell is the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-16">WebVTT cue line
alignment</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-42">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-9">VTTCue</a></code> object represents:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-17">WebVTT cue line alignment</a>
      <th><code class="idl"><a data-link-type="idl" href="#dom-vttcue-linealign" id="ref-for-dom-vttcue-linealign-3">lineAlign</a></code> value
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-line-start-alignment" id="ref-for-webvtt-cue-line-start-alignment-8">Start alignment</a>
      <td>"<code>start</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-line-center-alignment" id="ref-for-webvtt-cue-line-center-alignment-6">Center alignment</a>
      <td>"<code>center</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-line-end-alignment" id="ref-for-webvtt-cue-line-end-alignment-6">End alignment</a>
      <td>"<code>end</code>"
   </table>
   <p>On setting, the <a data-link-type="dfn" href="#webvtt-cue-line-alignment" id="ref-for-webvtt-cue-line-alignment-18">WebVTT cue line alignment</a> must be set to the value given in the first cell
of the row in the table above whose second cell is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the new
value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-position"><code>position</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-25">WebVTT cue
position</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-43">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-10">VTTCue</a></code> object represents. The special value <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-10">auto</a> must be represented as the string "<code>auto</code>".
On setting, if the new value is negative or greater than 100, then an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> exception
must be thrown. Otherwise, the <a data-link-type="dfn" href="#webvtt-cue-position" id="ref-for-webvtt-cue-position-26">WebVTT cue position</a> must be set to the new value; if the new
value is the string "<code>auto</code>", then it must be interpreted as the special value <a data-link-type="dfn" href="#webvtt-cue-automatic-position" id="ref-for-webvtt-cue-automatic-position-11">auto</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-positionalign"><code>positionAlign</code></dfn> attribute, on getting, must return the string
from the second cell of the row in the table below whose first cell is the <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-13">WebVTT cue position
alignment</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-44">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-11">VTTCue</a></code> object represents:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-14">WebVTT cue position alignment</a>
      <th><code class="idl"><a data-link-type="idl" href="#dom-vttcue-positionalign" id="ref-for-dom-vttcue-positionalign-3">positionAlign</a></code> value
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-position-line-left-alignment" id="ref-for-webvtt-cue-position-line-left-alignment-11">Line-left alignment</a>
      <td>"<code>line-left</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-position-center-alignment" id="ref-for-webvtt-cue-position-center-alignment-9">Center alignment</a>
      <td>"<code>center</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-position-line-right-alignment" id="ref-for-webvtt-cue-position-line-right-alignment-11">Line-right alignment</a>
      <td>"<code>line-right</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-position-automatic-alignment" id="ref-for-webvtt-cue-position-automatic-alignment-6">Automatic alignment</a>
      <td>"<code>auto</code>"
   </table>
   <p>On setting, the <a data-link-type="dfn" href="#webvtt-cue-position-alignment" id="ref-for-webvtt-cue-position-alignment-15">WebVTT cue position alignment</a> must be set to the value given in the first
cell of the row in the table above whose second cell is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the new
value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-size"><code>size</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-14">WebVTT cue
size</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-45">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-12">VTTCue</a></code> object represents. On setting, if the new
value is negative or greater than 100, then an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> exception must be thrown.
Otherwise, the <a data-link-type="dfn" href="#webvtt-cue-size" id="ref-for-webvtt-cue-size-15">WebVTT cue size</a> must be set to the new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-align"><code>align</code></dfn> attribute, on getting, must return the string from the
second cell of the row in the table below whose first cell is the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-25">WebVTT cue text alignment</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-46">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-13">VTTCue</a></code> object represents:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-26">WebVTT cue text alignment</a>
      <th><code class="idl"><a data-link-type="idl" href="#dom-vttcue-align" id="ref-for-dom-vttcue-align-3">align</a></code> value
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-start-alignment" id="ref-for-webvtt-cue-start-alignment-10">Start alignment</a>
      <td>"<code>start</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-center-alignment" id="ref-for-webvtt-cue-center-alignment-10">Center alignment</a>
      <td>"<code>center</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-end-alignment" id="ref-for-webvtt-cue-end-alignment-9">End alignment</a>
      <td>"<code>end</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-left-alignment" id="ref-for-webvtt-cue-left-alignment-8">Left alignment</a>
      <td>"<code>left</code>"
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-cue-right-alignment" id="ref-for-webvtt-cue-right-alignment-8">Right alignment</a>
      <td>"<code>right</code>"
   </table>
   <p>On setting, the <a data-link-type="dfn" href="#webvtt-cue-text-alignment" id="ref-for-webvtt-cue-text-alignment-27">WebVTT cue text alignment</a> must be set to the value given in the first cell
of the row in the table above whose second cell is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the new
value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="attribute" data-export="" id="dom-vttcue-text"><code>text</code></dfn> attribute, on getting, must return the raw <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-18">cue
text</a> of the <a data-link-type="dfn" href="#webvtt-cue" id="ref-for-webvtt-cue-47">WebVTT cue</a> that the <code class="idl"><a data-link-type="idl" href="#vttcue" id="ref-for-vttcue-14">VTTCue</a></code> object represents. On setting, the <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-19">cue
text</a> must be set to the new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTCue" data-dfn-type="method" data-export="" id="dom-vttcue-getcueashtml"><code>getCueAsHTML()</code></dfn> method must convert the <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-20">cue text</a> to a <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a></code> for the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/webappapis.html#responsible-document">responsible document</a> specified by the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/webappapis.html#entry-settings-object">entry settings
object</a> by applying the <a data-link-type="dfn" href="#webvtt-cue-text-dom-construction-rules" id="ref-for-webvtt-cue-text-dom-construction-rules-1">WebVTT cue text DOM construction rules</a> to the result of applying
the <a data-link-type="dfn" href="#webvtt-cue-text-parsing-rules" id="ref-for-webvtt-cue-text-parsing-rules-3">WebVTT cue text parsing rules</a> to the <a data-link-type="dfn" href="#cue-text" id="ref-for-cue-text-21">cue text</a>.</p>
   <p class="note" role="note">A fallback language is not provided for <code class="idl"><a data-link-type="idl" href="#dom-vttcue-getcueashtml" id="ref-for-dom-vttcue-getcueashtml-4">getCueAsHTML()</a></code> since a <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a></code> cannot expose language information.</p>
   <h3 class="heading settled algorithm" data-algorithm="The VTTRegion interface" data-level="9.2" id="the-vttregion-interface"><span class="secno">9.2. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-4">VTTRegion</a></code> interface</span><a class="self-link" href="#the-vttregion-interface"></a></h3>
   <p>The following interface is used to expose WebVTT regions in the DOM API:</p>
<pre class="idl highlight def"><span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-scrollsetting"><code>ScrollSetting</code></dfn> { <dfn class="s idl-code" data-dfn-for="ScrollSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;&quot;|" id="dom-scrollsetting"><code>""</code><a class="self-link" href="#dom-scrollsetting"></a></dfn> /* none */, <dfn class="s idl-code" data-dfn-for="ScrollSetting" data-dfn-type="enum-value" data-export="" data-lt="&quot;up&quot;|up" id="dom-scrollsetting-up"><code>"up"</code><a class="self-link" href="#dom-scrollsetting-up"></a></dfn> };
[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<span class="n">Window</span>,
 <a class="nv idl-code" data-link-type="constructor" href="#dom-vttregion-vttregion" id="ref-for-dom-vttregion-vttregion-1">Constructor</a>]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="vttregion"><code>VTTRegion</code></dfn> {
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-DOMString"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-vttregion-id" id="ref-for-dom-vttregion-id-1">id</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-width" id="ref-for-dom-vttregion-width-1">width</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="unsigned long" href="#dom-vttregion-lines" id="ref-for-dom-vttregion-lines-1">lines</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-regionanchorx" id="ref-for-dom-vttregion-regionanchorx-1">regionAnchorX</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-regionanchory" id="ref-for-dom-vttregion-regionanchory-1">regionAnchorY</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-viewportanchorx" id="ref-for-dom-vttregion-viewportanchorx-1">viewportAnchorX</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-viewportanchory" id="ref-for-dom-vttregion-viewportanchory-1">viewportAnchorY</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-scrollsetting" id="ref-for-enumdef-scrollsetting-1">ScrollSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="ScrollSetting" href="#dom-vttregion-scroll" id="ref-for-dom-vttregion-scroll-1">scroll</a>;
};
</pre>
   <dl class="note">
    <dt><var>region</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-vttregion-vttregion" id="ref-for-dom-vttregion-vttregion-2">VTTRegion</a>()
    <dd>
     <p>Returns a new <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-5">VTTRegion</a></code> object.</p>
    <dt><var>region</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttregion-id" id="ref-for-dom-vttregion-id-2">id</a></code>
    <dd>
     <p>Returns the text track region identifier. Can be set.</p>
    <dt><var>region</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttregion-width" id="ref-for-dom-vttregion-width-2">width</a></code>
    <dd>
     <p>Returns the WebVTT region width as a percentage of the video width. Can be set. Throws an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> if the new value is not in the range 0..100.</p>
    <dt><var>region</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttregion-lines" id="ref-for-dom-vttregion-lines-2">lines</a></code>
    <dd>
     <p>Returns the text track region height as a number of lines. Can be set. Throws an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> if the new value is negative.</p>
    <dt><var>region</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttregion-regionanchorx" id="ref-for-dom-vttregion-regionanchorx-2">regionAnchorX</a></code>
    <dd>
     <p>Returns the WebVTT region anchor X offset as a percentage of the region width. Can be set.
  Throws an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> if the new value is not in the range 0..100.</p>
    <dt><var>region</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttregion-regionanchory" id="ref-for-dom-vttregion-regionanchory-2">regionAnchorY</a></code>
    <dd>
     <p>Returns the WebVTT region anchor Y offset as a percentage of the region height. Can be set.
  Throws an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> if the new value is not in the range 0..100.</p>
    <dt><var>region</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttregion-viewportanchorx" id="ref-for-dom-vttregion-viewportanchorx-2">viewportAnchorX</a></code>
    <dd>
     <p>Returns the WebVTT region viewport anchor X offset as a percentage of the video width. Can be
  set. Throws an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> if the new value is not in the range 0..100.</p>
    <dt><var>region</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttregion-viewportanchory" id="ref-for-dom-vttregion-viewportanchory-2">viewportAnchorY</a></code>
    <dd>
     <p>Returns the WebVTT region viewport anchor Y offset as a percentage of the video height. Can be
  set. Throws an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> if the new value is not in the range 0..100.</p>
    <dt><var>region</var> . <code class="idl"><a data-link-type="idl" href="#dom-vttregion-scroll" id="ref-for-dom-vttregion-scroll-2">scroll</a></code>
    <dd>
     <p>Returns a string representing the <a data-link-type="dfn" href="#webvtt-region-scroll" id="ref-for-webvtt-region-scroll-4">WebVTT region scroll</a> as follows:</p>
     <dl class="switch">
      <dt>If it is unset
      <dd>
       <p>The empty string.</p>
      <dt>If it is up
      <dd>
       <p>The string "<code>up</code>".</p>
     </dl>
     <p>Can be set.</p>
   </dl>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="constructor" data-export="" id="dom-vttregion-vttregion"><code>VTTRegion()</code></dfn> constructor, when invoked, must run the
following steps:</p>
   <ol class="algorithm" data-algorithm="VTTRegion construction">
    <li>
     <p>Create a new <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-16">WebVTT region</a>. Let <var>region</var> be that <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-17">WebVTT region</a>.</p>
    <li>
     <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-7">WebVTT region identifier</a> be the empty string.</p>
    <li>
     <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-7">WebVTT region width</a> be 100.</p>
    <li>
     <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-lines" id="ref-for-webvtt-region-lines-4">WebVTT region lines</a> be 3.</p>
    <li>
     <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-7">text track region regionAnchorX</a> be
 0.</p>
    <li>
     <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-8">text track region regionAnchorY</a> be
 100.</p>
    <li>
     <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-viewport-anchor" id="ref-for-webvtt-region-viewport-anchor-3">text track region viewportAnchorX</a> be 0.</p>
    <li>
     <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-viewport-anchor" id="ref-for-webvtt-region-viewport-anchor-4">text track region viewportAnchorY</a> be 100.</p>
    <li>
     <p>Let <var>region</var>’s <a data-link-type="dfn" href="#webvtt-region-scroll" id="ref-for-webvtt-region-scroll-5">WebVTT region scroll</a> be the empty string.</p>
    <li>
     <p>Return the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-6">VTTRegion</a></code> object representing <var>region</var>.</p>
   </ol>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="attribute" data-export="" id="dom-vttregion-id"><code>id</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-8">WebVTT region
identifier</a> of the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-18">WebVTT region</a> that the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-7">VTTRegion</a></code> object represents. On setting, the <a data-link-type="dfn" href="#webvtt-region-identifier" id="ref-for-webvtt-region-identifier-9">WebVTT region identifier</a> must be set to the new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="attribute" data-export="" id="dom-vttregion-width"><code>width</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-8">WebVTT
region width</a> of the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-19">WebVTT region</a> that the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-8">VTTRegion</a></code> object represents. On setting,
if the new value is negative or greater than 100, then an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> exception must be
thrown. Otherwise, the <a data-link-type="dfn" href="#webvtt-region-width" id="ref-for-webvtt-region-width-9">WebVTT region width</a> must be set to the new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="attribute" data-export="" id="dom-vttregion-lines"><code>lines</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-region-lines" id="ref-for-webvtt-region-lines-5">WebVTT
region lines</a> of the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-20">WebVTT region</a> that the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-9">VTTRegion</a></code> object represents. On setting,
the <a data-link-type="dfn" href="#webvtt-region-lines" id="ref-for-webvtt-region-lines-6">WebVTT region lines</a> must be set to the new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="attribute" data-export="" id="dom-vttregion-regionanchorx"><code>regionAnchorX</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-9">WebVTT region anchor</a> X offset of the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-21">WebVTT region</a> that the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-10">VTTRegion</a></code> object
represents. On setting, if the new value is negative or greater than 100, then an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> exception must be thrown. Otherwise, the <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-10">WebVTT region anchor</a> X distance must be set to the
new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="attribute" data-export="" id="dom-vttregion-regionanchory"><code>regionAnchorY</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-11">WebVTT region anchor</a> Y offset of the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-22">WebVTT region</a> that the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-11">VTTRegion</a></code> object
represents. On setting, if the new value is negative or greater than 100, then an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> exception must be thrown. Otherwise, the <a data-link-type="dfn" href="#webvtt-region-anchor" id="ref-for-webvtt-region-anchor-12">WebVTT region anchor</a> Y distance must be set to the
new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="attribute" data-export="" id="dom-vttregion-viewportanchorx"><code>viewportAnchorX</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-region-viewport-anchor" id="ref-for-webvtt-region-viewport-anchor-5">WebVTT region viewport anchor</a> X offset of the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-23">WebVTT region</a> that the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-12">VTTRegion</a></code> object represents. On setting, if the new value is negative or greater than 100, then an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> exception must be thrown. Otherwise, the <a data-link-type="dfn" href="#webvtt-region-viewport-anchor" id="ref-for-webvtt-region-viewport-anchor-6">WebVTT region viewport anchor</a> X
distance must be set to the new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="attribute" data-export="" id="dom-vttregion-viewportanchory"><code>viewportAnchorY</code></dfn> attribute, on getting, must return the <a data-link-type="dfn" href="#webvtt-region-viewport-anchor" id="ref-for-webvtt-region-viewport-anchor-7">WebVTT region viewport anchor</a> Y offset of the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-24">WebVTT region</a> that the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-13">VTTRegion</a></code> object represents. On setting, if the new value is negative or greater than 100, then an <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a></code> exception must be thrown. Otherwise, the <a data-link-type="dfn" href="#webvtt-region-viewport-anchor" id="ref-for-webvtt-region-viewport-anchor-8">WebVTT region viewport anchor</a> Y
distance must be set to the new value.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="VTTRegion" data-dfn-type="attribute" data-export="" id="dom-vttregion-scroll"><code>scroll</code></dfn> attribute, on getting, must return the string from
the second cell of the row in the table below whose first cell is the <a data-link-type="dfn" href="#webvtt-region-scroll" id="ref-for-webvtt-region-scroll-6">WebVTT region scroll</a> setting of the <a data-link-type="dfn" href="#webvtt-region" id="ref-for-webvtt-region-25">WebVTT region</a> that the <code class="idl"><a data-link-type="idl" href="#vttregion" id="ref-for-vttregion-14">VTTRegion</a></code> object represents:</p>
   <table class="complex data">
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="#webvtt-region-scroll" id="ref-for-webvtt-region-scroll-7">WebVTT region scroll</a>
      <th><code class="idl"><a data-link-type="idl" href="#dom-vttregion-scroll" id="ref-for-dom-vttregion-scroll-3">scroll</a></code> value
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-region-scroll-none" id="ref-for-webvtt-region-scroll-none-2">None</a>
      <td>"<code></code>" (the empty string)
     <tr>
      <td><a data-link-type="dfn" href="#webvtt-region-scroll-up" id="ref-for-webvtt-region-scroll-up-3">Up</a>
      <td>"<code>up</code>"
   </table>
   <p>On setting, the <a data-link-type="dfn" href="#webvtt-region-scroll" id="ref-for-webvtt-region-scroll-8">WebVTT region scroll</a> must be set to the value given on the first cell of
the row in the table above whose second cell is a <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#case-sensitive">case-sensitive</a> match for the new value.</p>
   <h2 class="heading settled" data-level="10" id="iana"><span class="secno">10. </span><span class="content">IANA considerations</span><a class="self-link" href="#iana"></a></h2>
   <h3 class="heading settled" data-level="10.1" id="iana-text-vtt"><span class="secno">10.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="text-vtt"><code>text/vtt</code></dfn></span><a class="self-link" href="#iana-text-vtt"></a></h3>
   <p>This registration is for community review and will be submitted to the IESG for review, approval,
and registration with IANA.</p>
   <dl>
    <dt>Type name:
    <dd>text
    <dt>Subtype name:
    <dd>vtt
    <dt>Required parameters:
    <dd>No parameters
    <dt>Optional parameters:
    <dd>No parameters
    <dt>Encoding considerations:
    <dd>8bit (always UTF-8)
    <dt>Security considerations:
    <dd>
     <p>Text track files themselves pose no immediate risk unless sensitive information is included
  within the data. Implementations, however, are required to follow specific rules when processing
  text tracks, to ensure that certain origin-based restrictions are honored. Failure to correctly
  implement these rules can result in information leakage, cross-site scripting attacks, and the
  like.</p>
    <dt>Interoperability considerations:
    <dd>
     <p>Rules for processing both conforming and non-conforming content are defined in this
  specification.</p>
    <dt>Published specification:
    <dd> This document is the relevant specification. 
    <dt>Applications that use this media type:
    <dd> Web browsers and other video players. 
    <dt>Additional information:
    <dd>
     <dl>
      <dt>Magic number(s):
      <dd>
       <p>WebVTT files all begin with one of the following byte sequences (where "EOF" means the end of
    the file):</p>
       <ul class="brief">
        <li> EF BB BF 57 45 42 56 54 54 0A 
        <li> EF BB BF 57 45 42 56 54 54 0D 
        <li> EF BB BF 57 45 42 56 54 54 20 
        <li> EF BB BF 57 45 42 56 54 54 09 
        <li> EF BB BF 57 45 42 56 54 54 EOF 
        <li> 57 45 42 56 54 54 0A 
        <li> 57 45 42 56 54 54 0D 
        <li> 57 45 42 56 54 54 20 
        <li> 57 45 42 56 54 54 09 
        <li> 57 45 42 56 54 54 EOF 
       </ul>
       <p class="note" role="note">(An optional UTF-8 BOM, the ASCII string "<code>WEBVTT</code>", and finally a
    space, tab, line break, or the end of the file.)</p>
      <dt>File extension(s):
      <dd>"<code>vtt</code>"
      <dt>Macintosh file type code(s):
      <dd>No specific Macintosh file type codes are recommended for this type.
     </dl>
    <dt>Person &amp; email address to contact for further information:
    <dd>Silvia Pfeiffer &lt;silviapfeiffer1@gmail.com>
    <dt>Intended usage:
    <dd>Common
    <dt>Restrictions on usage:
    <dd>No restrictions apply.
    <dt>Authors:
    <dd>Silvia Pfeiffer &lt;silviapfeiffer1@gmail.com>, Simon Pieters &lt;simonp@opera.com>, Philip
 Jägenstedt &lt;philipj@opera.com>, Ian Hickson &lt;ian@hixie.ch>
    <dt>Change controller:
    <dd>W3C
   </dl>
   <p>Fragment identifiers have no meaning with <code>text/vtt</code> resources.</p>
   <h2 class="no-num heading settled" id="privacy-and-security-considerations"><span class="content">Privacy and Security Considerations</span><a class="self-link" href="#privacy-and-security-considerations"></a></h2>
   <h3 class="heading settled" id="fromat-security"><span class="content">Text-based format security</span><a class="self-link" href="#fromat-security"></a></h3>
   <p>As with any text-based format, it is possible to construct malicious content that might cause
buffer over-runs, value overflows (e.g. string representations of integers that overflow a given
word length), and the like. Implementers should take care in implementing a parser that over-long
lines, field values, or encoded values do not cause security problems.</p>
   <h3 class="heading settled" id="styling-security"><span class="content">Styling-related privacy and security</span><a class="self-link" href="#styling-security"></a></h3>
   <p>WebVTT can embed CSS style sheets, which will be applied in user agents that support CSS. Under
these circumstances, the privacy and security considerations of CSS apply, with the following
caveats.</p>
   <p>Such style sheets <a href="#style-no-external-resources">cannot fetch any external resources</a>,
and it is important for privacy that user agents do not allow this. Otherwise, WebVTT files could be
authored such that a third party is notified when the user watches a particular video, and even the
current time in that video.</p>
   <p>It is possible for a user agent to offer user style sheets, but their presence and nature will
not be detectable by scripts running in the same user agent (e.g. browser) since the CSS object
model for such style sheets is not exposed to script and there is no way to get the computed style
for pseudo-elements other than <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css3-selectors/#sel-before">::before</a> and <a class="css" data-link-type="maybe" href="https://www.w3.org/TR/css3-selectors/#sel-after">::after</a> with the <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle">getComputedStyle()</a></code> API. <a data-link-type="biblio" href="#biblio-cssom">[CSSOM]</a></p>
   <h3 class="heading settled" id="scripting-security"><span class="content">Scripting-related security</span><a class="self-link" href="#scripting-security"></a></h3>
   <p>WebVTT does not include or enable scripting. It is important that user agents do not support a
way to execute script embedded in a WebVTT file.</p>
   <p>However, it is possible to construct and deliver a file that is designed not to present captions
or subtitles, but instead to provide timed input (‘triggers’) to a script system. A
poorly-written script or script system might then cause security, privacy or other problems;
however, this consideration really applies to the script system. Since WebVTT supplies these
triggers at their timestamps, a malicious file might present such triggers very rapidly, perhaps
causing undue resource consumption.</p>
   <h3 class="heading settled" id="privacy-of-preference"><span class="content">Privacy of preference</span><a class="self-link" href="#privacy-of-preference"></a></h3>
   <p>A user agent that selects, and causes to download or interpret a WebVTT file, might indicate to
the origin server that the user has a need for captions or subtitles, and also the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#honor-user-preferences-for-automatic-text-track-selection">language preference</a> of the user for captions or
subtitles. That is a (small) piece of information about the user. However, the offering of a caption
file, and the choice whether to retrieve and consume it, are really characteristics of the format or
protocol which does the offer (e.g. the HTML element), rather than of the caption format itself. <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a></p>
   <h2 class="no-num heading settled" id="acknowledgements"><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
   <p>Thanks to the SubRip community, including in particular Zuggy and ai4spam, for their work on the
SubRip software program whose SRT file format was used as the basis for the WebVTT text track file
format.</p>
   <p>Thanks to Ian Hickson and many others for their work on the HTML standard, where WebVTT was
originally specified. <a data-link-type="biblio" href="#biblio-html51">[HTML51]</a></p>
   <p> Thanks to
 Addison Phillips,
 Alastor Wu,
 Andreas Tai,
 Anna Cavender,
 Anne van Kesteren,
 Benjamin Schaaf,
 Brian Quass,
 Caitlin Potter,
 Courtney Kennedy,
 Cyril Concolato,
 Dae Kim,
 David Singer,
 Eric Carlson,
 fantasai,
 Frank Olivier,
 Fredrik Söderquist,
 Giuseppe Pascale,
 Glenn Adams,
 Glenn Maynard,
 John Foliot,
 Kyle Huey,
 Lawrence Forooghian,
 Loretta Guarino Reid,
 Ms2ger,
 Nigel Megitt,
 Ralph Giles,
 Richard Ishida,
 Rick Eyre,
 Ronny Mennerich,
 Theresa O’Connor, and
 Victor Cărbune
 for their useful comments. </p>
  </main>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    ""
    <ul>
     <li><a href="#dom-directionsetting">enum-value for DirectionSetting</a><span>, in §9.1</span>
     <li><a href="#dom-scrollsetting">enum-value for ScrollSetting</a><span>, in §9.2</span>
    </ul>
   <li><a href="#dom-vttcue-align">align</a><span>, in §9.1</span>
   <li><a href="#enumdef-alignsetting">AlignSetting</a><span>, in §9.1</span>
   <li><a href="#apply-webvtt-cue-settings">apply WebVTT cue settings</a><span>, in §7.2</span>
   <li><a href="#attach-a-webvtt-internal-node-object">attach a WebVTT Internal Node Object</a><span>, in §6.4</span>
   <li>
    auto
    <ul>
     <li><a href="#dom-autokeyword-auto">enum-value for AutoKeyword</a><span>, in §9.1</span>
     <li><a href="#dom-positionalignsetting-auto">enum-value for PositionAlignSetting</a><span>, in §9.1</span>
    </ul>
   <li>
    "auto"
    <ul>
     <li><a href="#dom-autokeyword-auto">enum-value for AutoKeyword</a><span>, in §9.1</span>
     <li><a href="#dom-positionalignsetting-auto">enum-value for PositionAlignSetting</a><span>, in §9.1</span>
    </ul>
   <li><a href="#enumdef-autokeyword">AutoKeyword</a><span>, in §9.1</span>
   <li>
    "center"
    <ul>
     <li><a href="#dom-linealignsetting-center">enum-value for LineAlignSetting</a><span>, in §9.1</span>
     <li><a href="#dom-positionalignsetting-center">enum-value for PositionAlignSetting</a><span>, in §9.1</span>
     <li><a href="#dom-alignsetting-center">enum-value for AlignSetting</a><span>, in §9.1</span>
    </ul>
   <li>
    center
    <ul>
     <li><a href="#dom-linealignsetting-center">enum-value for LineAlignSetting</a><span>, in §9.1</span>
     <li><a href="#dom-positionalignsetting-center">enum-value for PositionAlignSetting</a><span>, in §9.1</span>
     <li><a href="#dom-alignsetting-center">enum-value for AlignSetting</a><span>, in §9.1</span>
    </ul>
   <li><a href="#collect-a-webvtt-block">collect a WebVTT block</a><span>, in §6.1</span>
   <li><a href="#collect-a-webvtt-timestamp">collect a WebVTT timestamp</a><span>, in §6.3</span>
   <li><a href="#collect-webvtt-cue-timings-and-settings">collect WebVTT cue timings and settings</a><span>, in §6.3</span>
   <li><a href="#collect-webvtt-region-settings">collect WebVTT region settings</a><span>, in §6.2</span>
   <li><a href="#consume-an-html-character-reference">consume an HTML character reference</a><span>, in §6.4</span>
   <li><a href="#cue">::cue</a><span>, in §8.2.1</span>
   <li><a href="#cue-component-class-names">cue component class names</a><span>, in §4.2.2</span>
   <li><a href="#cue-computed-line">cue computed line</a><span>, in §3.3</span>
   <li><a href="#cue-computed-position">cue computed position</a><span>, in §3.3</span>
   <li><a href="#cue-computed-position-alignment">cue computed position alignment</a><span>, in §3.3</span>
   <li><a href="#cue-payload">cue payload</a><span>, in §4.1</span>
   <li><a href="#cue-region">::cue-region</a><span>, in §8.2.3</span>
   <li><a href="#cue-region-selector">::cue-region(selector)</a><span>, in §8.2.3</span>
   <li><a href="#cue-selector">::cue(selector)</a><span>, in §8.2.1</span>
   <li><a href="#cue-text">cue text</a><span>, in §3.2</span>
   <li><a href="#enumdef-directionsetting">DirectionSetting</a><span>, in §9.1</span>
   <li>
    "end"
    <ul>
     <li><a href="#dom-linealignsetting-end">enum-value for LineAlignSetting</a><span>, in §9.1</span>
     <li><a href="#dom-alignsetting-end">enum-value for AlignSetting</a><span>, in §9.1</span>
    </ul>
   <li>
    end
    <ul>
     <li><a href="#dom-linealignsetting-end">enum-value for LineAlignSetting</a><span>, in §9.1</span>
     <li><a href="#dom-alignsetting-end">enum-value for AlignSetting</a><span>, in §9.1</span>
    </ul>
   <li><a href="#future">:future</a><span>, in §8.2.2</span>
   <li><a href="#dom-vttcue-getcueashtml">getCueAsHTML()</a><span>, in §9.1</span>
   <li><a href="#html-character-reference-in-annotation-state">HTML character reference in annotation state</a><span>, in §6.4</span>
   <li><a href="#html-character-reference-in-data-state">HTML character reference in data state</a><span>, in §6.4</span>
   <li><a href="#dom-vttregion-id">id</a><span>, in §9.2</span>
   <li><a href="#incremental-webvtt-parser">incremental WebVTT parser</a><span>, in §6.1</span>
   <li><a href="#in-the-future">in the future</a><span>, in §8.2.2</span>
   <li><a href="#in-the-past">in the past</a><span>, in §8.2.2</span>
   <li><a href="#dom-alignsetting-left">"left"</a><span>, in §9.1</span>
   <li><a href="#dom-alignsetting-left">left</a><span>, in §9.1</span>
   <li><a href="#dom-vttcue-line">line</a><span>, in §9.1</span>
   <li><a href="#dom-vttcue-linealign">lineAlign</a><span>, in §9.1</span>
   <li><a href="#enumdef-linealignsetting">LineAlignSetting</a><span>, in §9.1</span>
   <li><a href="#typedefdef-lineandpositionsetting">LineAndPositionSetting</a><span>, in §9.1</span>
   <li><a href="#dom-positionalignsetting-line-left">"line-left"</a><span>, in §9.1</span>
   <li><a href="#dom-positionalignsetting-line-left">line-left</a><span>, in §9.1</span>
   <li><a href="#dom-positionalignsetting-line-right">line-right</a><span>, in §9.1</span>
   <li><a href="#dom-positionalignsetting-line-right">"line-right"</a><span>, in §9.1</span>
   <li><a href="#dom-vttregion-lines">lines</a><span>, in §9.2</span>
   <li><a href="#list-of-webvtt-node-objects">List of WebVTT Node Objects</a><span>, in §6.4</span>
   <li><a href="#dom-directionsetting-lr">lr</a><span>, in §9.1</span>
   <li><a href="#dom-directionsetting-lr">"lr"</a><span>, in §9.1</span>
   <li><a href="#obtain-a-set-of-css-boxes">obtain a set of CSS boxes</a><span>, in §7.3</span>
   <li><a href="#parse-a-percentage-string">parse a percentage string</a><span>, in §6.2</span>
   <li><a href="#parse-the-webvtt-cue-settings">parse the WebVTT cue settings</a><span>, in §6.3</span>
   <li><a href="#past">:past</a><span>, in §8.2.2</span>
   <li><a href="#dom-vttcue-position">position</a><span>, in §9.1</span>
   <li><a href="#dom-vttcue-positionalign">positionAlign</a><span>, in §9.1</span>
   <li><a href="#enumdef-positionalignsetting">PositionAlignSetting</a><span>, in §9.1</span>
   <li><a href="#dom-vttcue-region">region</a><span>, in §9.1</span>
   <li><a href="#dom-vttregion-regionanchorx">regionAnchorX</a><span>, in §9.2</span>
   <li><a href="#dom-vttregion-regionanchory">regionAnchorY</a><span>, in §9.2</span>
   <li><a href="#dom-alignsetting-right">right</a><span>, in §9.1</span>
   <li><a href="#dom-alignsetting-right">"right"</a><span>, in §9.1</span>
   <li><a href="#dom-directionsetting-rl">rl</a><span>, in §9.1</span>
   <li><a href="#dom-directionsetting-rl">"rl"</a><span>, in §9.1</span>
   <li><a href="#rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating the display of WebVTT text tracks</a><span>, in §7.1</span>
   <li><a href="#dom-vttregion-scroll">scroll</a><span>, in §9.2</span>
   <li><a href="#enumdef-scrollsetting">ScrollSetting</a><span>, in §9.2</span>
   <li><a href="#dom-vttcue-size">size</a><span>, in §9.1</span>
   <li><a href="#dom-vttcue-snaptolines">snapToLines</a><span>, in §9.1</span>
   <li>
    "start"
    <ul>
     <li><a href="#dom-linealignsetting-start">enum-value for LineAlignSetting</a><span>, in §9.1</span>
     <li><a href="#dom-alignsetting-start">enum-value for AlignSetting</a><span>, in §9.1</span>
    </ul>
   <li>
    start
    <ul>
     <li><a href="#dom-linealignsetting-start">enum-value for LineAlignSetting</a><span>, in §9.1</span>
     <li><a href="#dom-alignsetting-start">enum-value for AlignSetting</a><span>, in §9.1</span>
    </ul>
   <li><a href="#dom-vttcue-text">text</a><span>, in §9.1</span>
   <li><a href="#text-track-list-of-regions">text track list of regions</a><span>, in §3.4</span>
   <li><a href="#text-vtt">text/vtt</a><span>, in §10.1</span>
   <li><a href="#dom-scrollsetting-up">up</a><span>, in §9.2</span>
   <li><a href="#dom-scrollsetting-up">"up"</a><span>, in §9.2</span>
   <li><a href="#user-agents-that-do-not-support-a-full-html-css-engine">User agents that do not support a full HTML CSS engine</a><span>, in §2.1</span>
   <li><a href="#user-agents-that-do-not-support-css">User agents that do not support CSS</a><span>, in §2.1</span>
   <li><a href="#user-agents-that-support-a-full-html-css-engine">User agents that support a full HTML CSS engine</a><span>, in §2.1</span>
   <li><a href="#dom-vttcue-vertical">vertical</a><span>, in §9.1</span>
   <li><a href="#dom-vttregion-viewportanchorx">viewportAnchorX</a><span>, in §9.2</span>
   <li><a href="#dom-vttregion-viewportanchory">viewportAnchorY</a><span>, in §9.2</span>
   <li><a href="#vttcue">VTTCue</a><span>, in §9.1</span>
   <li><a href="#dom-vttcue-vttcue">VTTCue(startTime, endTime, text)</a><span>, in §9.1</span>
   <li><a href="#dom-vttregion-vttregion">VTTRegion()</a><span>, in §9.2</span>
   <li><a href="#vttregion">VTTRegion</a><span>, in §9.2</span>
   <li><a href="#webvtt">WebVTT</a><span>, in §1</span>
   <li><a href="#webvtt-alignment-cue-setting">WebVTT alignment cue setting</a><span>, in §4.4</span>
   <li><a href="#webvtt-bold-object">WebVTT Bold Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-caption-or-subtitle-cue">WebVTT caption or subtitle cue</a><span>, in §3.3</span>
   <li><a href="#webvtt-caption-or-subtitle-cue-components">WebVTT caption or subtitle cue components</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-caption-or-subtitle-cue-text">WebVTT caption or subtitle cue text</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-chapter-cue">WebVTT chapter cue</a><span>, in §3.5</span>
   <li><a href="#webvtt-chapter-title-text">WebVTT chapter title text</a><span>, in §4.2.3</span>
   <li><a href="#webvtt-class-object">WebVTT Class Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-comment-block">WebVTT comment block</a><span>, in §4.1</span>
   <li><a href="#webvtt-cue">WebVTT cue</a><span>, in §3.2</span>
   <li><a href="#webvtt-cue-automatic-position">WebVTT cue automatic position</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-background-box">WebVTT cue background box</a><span>, in §7.3</span>
   <li><a href="#webvtt-cue-block">WebVTT cue block</a><span>, in §4.1</span>
   <li><a href="#webvtt-cue-bold-span">WebVTT cue bold span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-box">WebVTT cue box</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-center-alignment">WebVTT cue center alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-class-span">WebVTT cue class span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-end-alignment">WebVTT cue end alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-horizontal-writing-direction">WebVTT cue horizontal writing direction</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-identifier">WebVTT cue identifier</a><span>, in §4.1</span>
   <li><a href="#webvtt-cue-internal-text">WebVTT cue internal text</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-italics-span">WebVTT cue italics span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-language-span">WebVTT cue language span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-left-alignment">WebVTT cue left alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-line">WebVTT cue line</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-line-alignment">WebVTT cue line alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-line-automatic">WebVTT cue line automatic</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-line-center-alignment">WebVTT cue line center alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-line-end-alignment">WebVTT cue line end alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-line-start-alignment">WebVTT cue line start alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-position">WebVTT cue position</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-position-alignment">WebVTT cue position alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-position-automatic-alignment">WebVTT cue position automatic alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-position-center-alignment">WebVTT cue position center alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-position-line-left-alignment">WebVTT cue position line-left alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-position-line-right-alignment">WebVTT cue position line-right alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-region">WebVTT cue region</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-right-alignment">WebVTT cue right alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-ruby-span">WebVTT cue ruby span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-ruby-text-span">WebVTT cue ruby text span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-setting">WebVTT cue setting</a><span>, in §4.1</span>
   <li><a href="#webvtt-cue-setting-name">WebVTT cue setting name</a><span>, in §4.1</span>
   <li><a href="#webvtt-cue-settings-list">WebVTT cue settings list</a><span>, in §4.1</span>
   <li><a href="#webvtt-cue-setting-value">WebVTT cue setting value</a><span>, in §4.1</span>
   <li><a href="#webvtt-cue-size">WebVTT cue size</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-snap-to-lines-flag">WebVTT cue snap-to-lines flag</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-span-end-tag">WebVTT cue span end tag</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-span-start-tag">WebVTT cue span start tag</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-span-start-tag-annotation-text">WebVTT cue span start tag annotation text</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-start-alignment">WebVTT cue start alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-text-alignment">WebVTT cue text alignment</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-text-dom-construction-rules">WebVTT cue text DOM construction rules</a><span>, in §6.5</span>
   <li><a href="#webvtt-cue-text-parsing-rules">WebVTT cue text parsing rules</a><span>, in §6.4</span>
   <li><a href="#webvtt-cue-text-span">WebVTT cue text span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-text-tokenizer">WebVTT cue text tokenizer</a><span>, in §6.4</span>
   <li><a href="#webvtt-cue-timestamp">WebVTT cue timestamp</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-timings">WebVTT cue timings</a><span>, in §4.1</span>
   <li><a href="#webvtt-cue-underline-span">WebVTT cue underline span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-vertical-growing-left-writing-direction">WebVTT cue vertical growing left writing direction</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-vertical-growing-right-writing-direction">WebVTT cue vertical growing right writing direction</a><span>, in §3.3</span>
   <li><a href="#webvtt-cue-voice-span">WebVTT cue voice span</a><span>, in §4.2.2</span>
   <li><a href="#webvtt-cue-writing-direction">WebVTT cue writing direction</a><span>, in §3.3</span>
   <li><a href="#webvtt-data-state">WebVTT data state</a><span>, in §6.4</span>
   <li><a href="#webvtt-end-tag-state">WebVTT end tag state</a><span>, in §6.4</span>
   <li><a href="#webvtt-file">WebVTT file</a><span>, in §4.1</span>
   <li><a href="#webvtt-file-body">WebVTT file body</a><span>, in §4.1</span>
   <li><a href="#webvtt-file-using-caption-or-subtitle-cue-text">WebVTT file using caption or subtitle cue text</a><span>, in §4.6.3</span>
   <li><a href="#webvtt-file-using-chapter-title-text">WebVTT file using chapter title text</a><span>, in §4.6.2</span>
   <li><a href="#webvtt-file-using-metadata-content">WebVTT file using metadata content</a><span>, in §4.6.1</span>
   <li><a href="#webvtt-file-using-only-nested-cues">WebVTT file using only nested cues</a><span>, in §4.5.1</span>
   <li><a href="#webvtt-internal-node-object">WebVTT Internal Node Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-italic-object">WebVTT Italic Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-language-object">WebVTT Language Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-leaf-node-object">WebVTT Leaf Node Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-line-cue-setting">WebVTT line cue setting</a><span>, in §4.4</span>
   <li><a href="#webvtt-line-terminator">WebVTT line terminator</a><span>, in §4.1</span>
   <li><a href="#webvtt-metadata-cue">WebVTT metadata cue</a><span>, in §3.6</span>
   <li><a href="#webvtt-metadata-text">WebVTT metadata text</a><span>, in §4.2.1</span>
   <li><a href="#webvtt-node-object">WebVTT Node Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-node-objects-applicable-classes">WebVTT Node Object’s applicable classes</a><span>, in §6.4</span>
   <li><a href="#webvtt-node-objects-applicable-language">WebVTT Node Object’s applicable language</a><span>, in §6.4</span>
   <li><a href="#webvtt-parser">WebVTT parser</a><span>, in §6.1</span>
   <li><a href="#webvtt-parser-algorithm">WebVTT parser algorithm</a><span>, in §6.1</span>
   <li><a href="#webvtt-percentage">WebVTT percentage</a><span>, in §4.1</span>
   <li><a href="#webvtt-position-cue-setting">WebVTT position cue setting</a><span>, in §4.4</span>
   <li><a href="#webvtt-region">WebVTT region</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-anchor">WebVTT region anchor</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-anchor-setting">WebVTT region anchor setting</a><span>, in §4.3</span>
   <li><a href="#webvtt-region-cue-setting">WebVTT region cue setting</a><span>, in §4.4</span>
   <li><a href="#webvtt-region-definition-block">WebVTT region definition block</a><span>, in §4.1</span>
   <li><a href="#webvtt-region-identifier">WebVTT region identifier</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-identifier-setting">WebVTT region identifier setting</a><span>, in §4.3</span>
   <li><a href="#webvtt-region-lines">WebVTT region lines</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-lines-setting">WebVTT region lines setting</a><span>, in §4.3</span>
   <li><a href="#webvtt-region-object">WebVTT region object</a><span>, in §6.2</span>
   <li><a href="#webvtt-region-scroll">WebVTT region scroll</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-scroll-none">WebVTT region scroll none</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-scroll-setting">WebVTT region scroll setting</a><span>, in §4.3</span>
   <li><a href="#webvtt-region-scroll-up">WebVTT region scroll up</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-settings-list">WebVTT region settings list</a><span>, in §4.3</span>
   <li><a href="#webvtt-region-viewport-anchor">WebVTT region viewport anchor</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-viewport-anchor-setting">WebVTT region viewport anchor setting</a><span>, in §4.3</span>
   <li><a href="#webvtt-region-width">WebVTT region width</a><span>, in §3.4</span>
   <li><a href="#webvtt-region-width-setting">WebVTT region width setting</a><span>, in §4.3</span>
   <li><a href="#webvtt-ruby-object">WebVTT Ruby Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-ruby-text-object">WebVTT Ruby Text Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-rules-for-extracting-the-chapter-title">WebVTT rules for extracting the chapter title</a><span>, in §6.6</span>
   <li><a href="#webvtt-size-cue-setting">WebVTT size cue setting</a><span>, in §4.4</span>
   <li><a href="#webvtt-start-tag-annotation-state">WebVTT start tag annotation state</a><span>, in §6.4</span>
   <li><a href="#webvtt-start-tag-class-state">WebVTT start tag class state</a><span>, in §6.4</span>
   <li><a href="#webvtt-start-tag-state">WebVTT start tag state</a><span>, in §6.4</span>
   <li><a href="#webvtt-style-block">WebVTT style block</a><span>, in §4.1</span>
   <li><a href="#webvtt-tag-state">WebVTT tag state</a><span>, in §6.4</span>
   <li><a href="#webvtt-text-object">WebVTT Text Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-timestamp">WebVTT timestamp</a><span>, in §4.1</span>
   <li><a href="#webvtt-timestamp-object">WebVTT Timestamp Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-timestamp-tag-state">WebVTT timestamp tag state</a><span>, in §6.4</span>
   <li><a href="#webvtt-underline-object">WebVTT Underline Object</a><span>, in §6.4</span>
   <li><a href="#webvtt-vertical-text-cue-setting">WebVTT vertical text cue setting</a><span>, in §4.4</span>
   <li><a href="#webvtt-voice-object">WebVTT Voice Object</a><span>, in §6.4</span>
   <li><a href="#dom-vttregion-width">width</a><span>, in §9.2</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[css-align-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css3-align/#propdef-justify-content">justify-content</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-backgrounds-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css3-background/#propdef-background">background</a>
     <li><a href="https://www.w3.org/TR/css3-background/#propdef-background-color">background-color</a>
     <li><a href="https://www.w3.org/TR/css3-background/#propdef-background-image">background-image</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-cascade-4]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-cascade-4/#at-ruledef-import">@import</a>
     <li><a href="https://www.w3.org/TR/css-cascade-4/#cascade">cascade</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-color-4]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-color-4/#propdef-color">color</a>
     <li><a href="https://www.w3.org/TR/css-color-4/#valdef-color-green">green</a>
     <li><a href="https://www.w3.org/TR/css-color-4/#propdef-opacity">opacity</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-display-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-display-3/#propdef-display">display</a>
     <li><a href="https://www.w3.org/TR/css-display-3/#valdef-display-inline">inline</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-flexbox-1]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-flexbox-1/#valdef-justify-content-flex-end">flex-end</a>
     <li><a href="https://www.w3.org/TR/css-flexbox-1/#propdef-flex-flow">flex-flow</a>
     <li><a href="https://www.w3.org/TR/css-flexbox-1/#valdef-display-inline-flex">inline-flex</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-fonts-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-fonts-3/#propdef-font">font</a>
     <li><a href="https://www.w3.org/TR/css-fonts-3/#propdef-font-style">font-style</a>
     <li><a href="https://www.w3.org/TR/css-fonts-3/#propdef-font-weight">font-weight</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-fonts-4]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-fonts-4/#valdef-font-weight-bold">bold</a>
     <li><a href="https://www.w3.org/TR/css-fonts-4/#valdef-font-style-italic">italic</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-overflow-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-overflow-3/#valdef-overflow-hidden">hidden</a>
     <li><a href="https://www.w3.org/TR/css-overflow-3/#propdef-overflow">overflow</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-position-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css3-positioning/#valdef-position-absolute">absolute</a>
     <li><a href="https://www.w3.org/TR/css3-positioning/#propdef-left">left</a>
     <li><a href="https://www.w3.org/TR/css3-positioning/#propdef-position">position</a>
     <li><a href="https://www.w3.org/TR/css3-positioning/#valdef-position-relative">relative</a>
     <li><a href="https://www.w3.org/TR/css3-positioning/#propdef-top">top</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-sizing-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-sizing-3/#valdef-width-auto">auto</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SYNTAX-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-syntax-3/#parse-a-stylesheet0">parse a stylesheet</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-text-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-text-3/#valdef-overflow-wrap-break-word">break-word</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#valdef-text-align-center">center</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#valdef-text-align-end">end</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#valdef-text-align-left">left</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#propdef-overflow-wrap">overflow-wrap</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#valdef-white-space-pre-line">pre-line</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#valdef-text-align-right">right</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#valdef-text-align-start">start</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#propdef-text-align">text-align</a>
     <li><a href="https://www.w3.org/TR/css-text-3/#propdef-white-space">white-space</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-text-decor-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-text-decor-3/#text-decoration">text-decoration</a>
     <li><a href="https://www.w3.org/TR/css-text-decor-3/#text-shadow">text-shadow</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-transitions-1]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css3-transitions/#propdef-transition-duration">transition-duration</a>
     <li><a href="https://www.w3.org/TR/css3-transitions/#propdef-transition-property">transition-property</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-ui-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-ui-4/#propdef-outline">outline</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-values-4/#vh">vh</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#vw">vw</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-WRITING-MODES-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css-writing-modes-3/#propdef-unicode-bidi">unicode-bidi</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-writing-modes-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-writing-modes-4/#valdef-writing-mode-horizontal-tb">horizontal-tb</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-4/#valdef-unicode-bidi-plaintext">plaintext</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-4/#propdef-text-combine-upright">text-combine-upright</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-4/#propdef-writing-mode">writing-mode</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS22]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/CSS22/visudet.html#propdef-height">height</a>
     <li><a href="https://www.w3.org/TR/CSS22/visudet.html#propdef-line-height">line-height</a>
     <li><a href="https://www.w3.org/TR/CSS22/visudet.html#propdef-max-height">max-height</a>
     <li><a href="https://www.w3.org/TR/CSS22/visudet.html#propdef-min-height">min-height</a>
     <li><a href="https://www.w3.org/TR/CSS22/visufx.html#propdef-visibility">visibility</a>
     <li><a href="https://www.w3.org/TR/CSS22/visudet.html#propdef-width">width</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-RUBY]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-ruby-1/#valdef-display-ruby">ruby</a>
     <li><a href="https://drafts.csswg.org/css-ruby-1/#valdef-display-ruby-base">ruby-base</a>
     <li><a href="https://www.w3.org/TR/css-ruby-1/#propdef-ruby-position">ruby-position</a>
     <li><a href="https://drafts.csswg.org/css-ruby-1/#valdef-display-ruby-text">ruby-text</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-alternate-flag">alternate flag</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#create-a-css-style-sheet">create a css style sheet</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-css-rules">css rules</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#css-style-sheet">css style sheet</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#dom-window-getcomputedstyle">getComputedStyle(elt, pseudoElt)</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-location">location</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-media">media</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-origin-clean-flag">origin-clean flag</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-owner-css-rule">owner css rule</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-owner-node">owner node</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-parent-css-style-sheet">parent css style sheet</a>
     <li><a href="https://www.w3.org/TR/cssom-1/#concept-css-style-sheet-title">title</a>
    </ul>
   <li>
    <a data-link-type="biblio">[dom-20151119]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/dom/#document">Document</a>
     <li><a href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a>
     <li><a href="https://www.w3.org/TR/dom/#processinginstruction">ProcessingInstruction</a>
     <li><a href="https://www.w3.org/TR/dom/#text">Text</a>
     <li><a href="https://www.w3.org/TR/dom/#concept-cd-data">data</a>
     <li><a href="https://www.w3.org/TR/dom/#dom-element-namespaceuri">namespaceURI</a>
     <li><a href="https://www.w3.org/TR/dom/#dom-node-ownerdocument">ownerDocument</a>
     <li><a href="https://www.w3.org/TR/dom/#dom-event-target">target</a>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING-CR]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/encoding/#utf-8-decode">utf-8 decode</a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/rendering.html#presentational-hints">presentational hints</a>
    </ul>
   <li>
    <a data-link-type="biblio">[selectors-3]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/css3-selectors/#sel-after">::after</a>
     <li><a href="https://www.w3.org/TR/css3-selectors/#sel-before">::before</a>
    </ul>
   <li>
    <a data-link-type="biblio">[SELECTORS4]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/selectors4/#future-pseudo">:future</a>
     <li><a href="https://www.w3.org/TR/selectors4/#lang-pseudo">:lang()</a>
     <li><a href="https://www.w3.org/TR/selectors4/#past-pseudo">:past</a>
     <li><a href="https://www.w3.org/TR/selectors4/#attribute-selector">attribute selector</a>
     <li><a href="https://www.w3.org/TR/selectors4/#class-selector">class selector</a>
     <li><a href="https://www.w3.org/TR/selectors4/#id-selector">id selector</a>
     <li><a href="https://www.w3.org/TR/selectors4/#originating-element">originating element</a>
     <li><a href="https://www.w3.org/TR/selectors4/#type-selector">type selector</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><a href="https://heycam.github.io/webidl/#Exposed">Exposed</a>
     <li><a href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL-1]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/TR/WebIDL-1/#idl-DOMString">DOMString</a>
     <li><a href="https://www.w3.org/TR/WebIDL-1/#indexsizeerror">IndexSizeError</a>
     <li><a href="https://www.w3.org/TR/WebIDL-1/#idl-boolean">boolean</a>
     <li><a href="https://www.w3.org/TR/WebIDL-1/#idl-double">double</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-bcp47">[BCP47]
   <dd>A. Phillips; M. Davis. <a href="https://tools.ietf.org/html/bcp47">Tags for Identifying Languages</a>. September 2009. IETF Best Current Practice. URL: <a href="https://tools.ietf.org/html/bcp47">https://tools.ietf.org/html/bcp47</a>
   <dt id="biblio-bidi">[BIDI]
   <dd>Mark Davis; Aharon Lanin; Andrew Glass. <a href="https://www.unicode.org/reports/tr9/tr9-37.html">Unicode Bidirectional Algorithm</a>. 14 May 2017. Unicode Standard Annex #9. URL: <a href="https://www.unicode.org/reports/tr9/tr9-37.html">https://www.unicode.org/reports/tr9/tr9-37.html</a>
   <dt id="biblio-css-align-3">[CSS-ALIGN-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-align-3/">CSS Box Alignment Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-align-3/">https://www.w3.org/TR/css-align-3/</a>
   <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
   <dd>Bert Bos; Elika Etemad; Brad Kemper. <a href="https://www.w3.org/TR/css-backgrounds-3/">CSS Backgrounds and Borders Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-backgrounds-3/">https://www.w3.org/TR/css-backgrounds-3/</a>
   <dt id="biblio-css-cascade-4">[CSS-CASCADE-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-4/">CSS Cascading and Inheritance Level 4</a>. URL: <a href="https://www.w3.org/TR/css-cascade-4/">https://www.w3.org/TR/css-cascade-4/</a>
   <dt id="biblio-css-color-4">[CSS-COLOR-4]
   <dd>Tab Atkins Jr.; Chris Lilley. <a href="https://www.w3.org/TR/css-color-4/">CSS Color Module Level 4</a>. URL: <a href="https://www.w3.org/TR/css-color-4/">https://www.w3.org/TR/css-color-4/</a>
   <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
   <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-display-3/">CSS Display Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
   <dt id="biblio-css-flexbox-1">[CSS-FLEXBOX-1]
   <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://www.w3.org/TR/css-flexbox-1/">CSS Flexible Box Layout Module Level 1</a>. URL: <a href="https://www.w3.org/TR/css-flexbox-1/">https://www.w3.org/TR/css-flexbox-1/</a>
   <dt id="biblio-css-fonts-3">[CSS-FONTS-3]
   <dd>John Daggett. <a href="https://www.w3.org/TR/css-fonts-3/">CSS Fonts Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-fonts-3/">https://www.w3.org/TR/css-fonts-3/</a>
   <dt id="biblio-css-fonts-4">[CSS-FONTS-4]
   <dd>John Daggett; Myles Maxfield. <a href="https://www.w3.org/TR/css-fonts-4/">CSS Fonts Module Level 4</a>. URL: <a href="https://www.w3.org/TR/css-fonts-4/">https://www.w3.org/TR/css-fonts-4/</a>
   <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
   <dd>David Baron; Florian Rivoal. <a href="https://www.w3.org/TR/css-overflow-3/">CSS Overflow Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-overflow-3/">https://www.w3.org/TR/css-overflow-3/</a>
   <dt id="biblio-css-position-3">[CSS-POSITION-3]
   <dd>Rossen Atanassov; Arron Eicholz. <a href="https://www.w3.org/TR/css-position-3/">CSS Positioned Layout Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-position-3/">https://www.w3.org/TR/css-position-3/</a>
   <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
   <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-sizing-3/">CSS Intrinsic &amp; Extrinsic Sizing Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-sizing-3/">https://www.w3.org/TR/css-sizing-3/</a>
   <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
   <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/">CSS Syntax Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
   <dt id="biblio-css-text-3">[CSS-TEXT-3]
   <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-text-3/">CSS Text Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-text-3/">https://www.w3.org/TR/css-text-3/</a>
   <dt id="biblio-css-text-4">[CSS-TEXT-4]
   <dd>Elika Etemad; Koji Ishii; Alan Stearns. <a href="https://www.w3.org/TR/css-text-4/">CSS Text Module Level 4</a>. URL: <a href="https://www.w3.org/TR/css-text-4/">https://www.w3.org/TR/css-text-4/</a>
   <dt id="biblio-css-text-decor-3">[CSS-TEXT-DECOR-3]
   <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-text-decor-3/">CSS Text Decoration Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-text-decor-3/">https://www.w3.org/TR/css-text-decor-3/</a>
   <dt id="biblio-css-transitions-1">[CSS-TRANSITIONS-1]
   <dd>David Baron; Dean Jackson; Brian Birtles. <a href="https://www.w3.org/TR/css-transitions-1/">CSS Transitions</a>. URL: <a href="https://www.w3.org/TR/css-transitions-1/">https://www.w3.org/TR/css-transitions-1/</a>
   <dt id="biblio-css-ui-4">[CSS-UI-4]
   <dd>Florian Rivoal. <a href="https://www.w3.org/TR/css-ui-4/">CSS Basic User Interface Module Level 4</a>. URL: <a href="https://www.w3.org/TR/css-ui-4/">https://www.w3.org/TR/css-ui-4/</a>
   <dt id="biblio-css-values">[CSS-VALUES]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-3/">CSS Values and Units Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
   <dt id="biblio-css-writing-modes-3">[CSS-WRITING-MODES-3]
   <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-3/">CSS Writing Modes Level 3</a>. URL: <a href="https://www.w3.org/TR/css-writing-modes-3/">https://www.w3.org/TR/css-writing-modes-3/</a>
   <dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
   <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-writing-modes-4/">CSS Writing Modes Level 4</a>. URL: <a href="https://www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
   <dt id="biblio-css22">[CSS22]
   <dd>Bert Bos. <a href="https://www.w3.org/TR/CSS22/">Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification</a>. URL: <a href="https://www.w3.org/TR/CSS22/">https://www.w3.org/TR/CSS22/</a>
   <dt id="biblio-css3-color">[CSS3-COLOR]
   <dd>Tantek Çelik; Chris Lilley; David Baron. <a href="https://www.w3.org/TR/css-color-3/">CSS Color Module Level 3</a>. 5 December 2017. CR. URL: <a href="https://www.w3.org/TR/css-color-3/">https://www.w3.org/TR/css-color-3/</a>
   <dt id="biblio-css3-ruby">[CSS3-RUBY]
   <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-ruby-1/">CSS Ruby Layout Module Level 1</a>. URL: <a href="https://www.w3.org/TR/css-ruby-1/">https://www.w3.org/TR/css-ruby-1/</a>
   <dt id="biblio-cssom">[CSSOM]
   <dd>Simon Pieters; Glenn Adams. <a href="https://www.w3.org/TR/cssom-1/">CSS Object Model (CSSOM)</a>. URL: <a href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
   <dt id="biblio-dom-20151119">[DOM-20151119]
   <dd>Anne van Kesteren; et al. <a href="https://www.w3.org/TR/2015/REC-dom-20151119/">W3C DOM4</a>. 19 November 2015. REC. URL: <a href="https://www.w3.org/TR/2015/REC-dom-20151119/">https://www.w3.org/TR/2015/REC-dom-20151119/</a>
   <dt id="biblio-encoding-cr">[ENCODING-CR]
   <dd>Anne van Kesteren; Joshua Bell; Addison Phillips. <a href="https://www.w3.org/TR/2017/CR-encoding-20170413/">Encoding</a>. 13 April 2017. CR. URL: <a href="https://www.w3.org/TR/2017/CR-encoding-20170413/">https://www.w3.org/TR/2017/CR-encoding-20170413/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-html51">[HTML51]
   <dd>Steve Faulkner; et al. <a href="https://www.w3.org/TR/html51/">HTML 5.1 2nd Edition</a>. URL: <a href="https://www.w3.org/TR/html51/">https://www.w3.org/TR/html51/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-rfc3629">[RFC3629]
   <dd>F. Yergeau. <a href="https://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>. November 2003. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc3629">https://tools.ietf.org/html/rfc3629</a>
   <dt id="biblio-selectors-3">[SELECTORS-3]
   <dd>Tantek Çelik; et al. <a href="https://www.w3.org/TR/selectors-3/">Selectors Level 3</a>. URL: <a href="https://www.w3.org/TR/selectors-3/">https://www.w3.org/TR/selectors-3/</a>
   <dt id="biblio-selectors4">[SELECTORS4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/selectors-4/">Selectors Level 4</a>. URL: <a href="https://www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Cameron McCormack; Boris Zbarsky; Tobie Langel. <a href="https://heycam.github.io/webidl/">Web IDL</a>. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-webidl-1">[WEBIDL-1]
   <dd>Cameron McCormack. <a href="https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/">WebIDL Level 1</a>. URL: <a href="https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/">https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-maur">[MAUR]
   <dd>Shane McCarron; Michael Cooper; Mark Sadecki. <a href="http://www.w3.org/TR/media-accessibility-reqs/">Media Accessibility User Requirements</a>. WD. URL: <a href="http://www.w3.org/TR/media-accessibility-reqs/">http://www.w3.org/TR/media-accessibility-reqs/</a>
   <dt id="biblio-wcag20">[WCAG20]
   <dd>Ben Caldwell; et al. <a href="https://www.w3.org/TR/WCAG20/">Web Content Accessibility Guidelines (WCAG) 2.0</a>. 11 December 2008. REC. URL: <a href="https://www.w3.org/TR/WCAG20/">https://www.w3.org/TR/WCAG20/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><span class="kt">enum</span> <a class="nv" href="#enumdef-autokeyword"><code>AutoKeyword</code></a> { <a class="s" href="#dom-autokeyword-auto"><code>"auto"</code></a> };
<span class="kt">typedef</span> (<a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <span class="kt">or</span> <a class="n" data-link-type="idl-name" href="#enumdef-autokeyword">AutoKeyword</a>) <a class="nv" href="#typedefdef-lineandpositionsetting"><code>LineAndPositionSetting</code></a>;
<span class="kt">enum</span> <a class="nv" href="#enumdef-directionsetting"><code>DirectionSetting</code></a> { <a class="s" href="#dom-directionsetting"><code>""</code></a> /* horizontal */, <a class="s" href="#dom-directionsetting-rl"><code>"rl"</code></a>, <a class="s" href="#dom-directionsetting-lr"><code>"lr"</code></a> };
<span class="kt">enum</span> <a class="nv" href="#enumdef-linealignsetting"><code>LineAlignSetting</code></a> { <a class="s" href="#dom-linealignsetting-start"><code>"start"</code></a>, <a class="s" href="#dom-linealignsetting-center"><code>"center"</code></a>, <a class="s" href="#dom-linealignsetting-end"><code>"end"</code></a> };
<span class="kt">enum</span> <a class="nv" href="#enumdef-positionalignsetting"><code>PositionAlignSetting</code></a> { <a class="s" href="#dom-positionalignsetting-line-left"><code>"line-left"</code></a>, <a class="s" href="#dom-positionalignsetting-center"><code>"center"</code></a>, <a class="s" href="#dom-positionalignsetting-line-right"><code>"line-right"</code></a>, <a class="s" href="#dom-positionalignsetting-auto"><code>"auto"</code></a> };
<span class="kt">enum</span> <a class="nv" href="#enumdef-alignsetting"><code>AlignSetting</code></a> { <a class="s" href="#dom-alignsetting-start"><code>"start"</code></a>, <a class="s" href="#dom-alignsetting-center"><code>"center"</code></a>, <a class="s" href="#dom-alignsetting-end"><code>"end"</code></a>, <a class="s" href="#dom-alignsetting-left"><code>"left"</code></a>, <a class="s" href="#dom-alignsetting-right"><code>"right"</code></a> };
[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<span class="n">Window</span>,
 <a class="nv idl-code" data-link-type="constructor" href="#dom-vttcue-vttcue">Constructor</a>(<a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv" href="#dom-vttcue-vttcue-starttime-endtime-text-starttime"><code>startTime</code></a>, <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv" href="#dom-vttcue-vttcue-starttime-endtime-text-endtime"><code>endTime</code></a>, <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-DOMString"><span class="kt">DOMString</span></a> <a class="nv" href="#dom-vttcue-vttcue-starttime-endtime-text-text"><code>text</code></a>)]
<span class="kt">interface</span> <a class="nv" href="#vttcue"><code>VTTCue</code></a> : <a class="n" data-link-type="idl-name" href="https://www.w3.org/TR/html51/semantics-embedded-content.html#texttrackcue-texttrackcue">TextTrackCue</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#vttregion">VTTRegion</a>? <a class="nv idl-code" data-link-type="attribute" data-type="VTTRegion?" href="#dom-vttcue-region">region</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-directionsetting">DirectionSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="DirectionSetting" href="#dom-vttcue-vertical">vertical</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-boolean"><span class="kt">boolean</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-vttcue-snaptolines">snapToLines</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#typedefdef-lineandpositionsetting">LineAndPositionSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="LineAndPositionSetting" href="#dom-vttcue-line">line</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-linealignsetting">LineAlignSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="LineAlignSetting" href="#dom-vttcue-linealign">lineAlign</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#typedefdef-lineandpositionsetting">LineAndPositionSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="LineAndPositionSetting" href="#dom-vttcue-position">position</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-positionalignsetting">PositionAlignSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="PositionAlignSetting" href="#dom-vttcue-positionalign">positionAlign</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttcue-size">size</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-alignsetting">AlignSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="AlignSetting" href="#dom-vttcue-align">align</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-DOMString"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-vttcue-text">text</a>;
  <a class="n" data-link-type="idl-name" href="https://www.w3.org/TR/dom/#documentfragment">DocumentFragment</a> <a class="nv idl-code" data-link-type="method" href="#dom-vttcue-getcueashtml">getCueAsHTML</a>();
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-scrollsetting"><code>ScrollSetting</code></a> { <a class="s" href="#dom-scrollsetting"><code>""</code></a> /* none */, <a class="s" href="#dom-scrollsetting-up"><code>"up"</code></a> };
[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<span class="n">Window</span>,
 <a class="nv idl-code" data-link-type="constructor" href="#dom-vttregion-vttregion">Constructor</a>]
<span class="kt">interface</span> <a class="nv" href="#vttregion"><code>VTTRegion</code></a> {
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-DOMString"><span class="kt">DOMString</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-vttregion-id">id</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-width">width</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><span class="kt">unsigned</span> <span class="kt">long</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="unsigned long" href="#dom-vttregion-lines">lines</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-regionanchorx">regionAnchorX</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-regionanchory">regionAnchorY</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-viewportanchorx">viewportAnchorX</a>;
  <span class="kt">attribute</span> <a class="n idl-code" data-link-type="interface" href="https://www.w3.org/TR/WebIDL-1/#idl-double"><span class="kt">double</span></a> <a class="nv idl-code" data-link-type="attribute" data-type="double" href="#dom-vttregion-viewportanchory">viewportAnchorY</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-scrollsetting">ScrollSetting</a> <a class="nv idl-code" data-link-type="attribute" data-type="ScrollSetting" href="#dom-vttregion-scroll">scroll</a>;
};

</pre>
  <aside class="dfn-panel" data-for="webvtt">
   <b><a href="#webvtt">#webvtt</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-1">2.1. Conformance classes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-agents-that-do-not-support-css">
   <b><a href="#user-agents-that-do-not-support-css">#user-agents-that-do-not-support-css</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-agents-that-do-not-support-css-1">7. Rendering</a>
    <li><a href="#ref-for-user-agents-that-do-not-support-css-2">8. CSS extensions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-agents-that-do-not-support-a-full-html-css-engine">
   <b><a href="#user-agents-that-do-not-support-a-full-html-css-engine">#user-agents-that-do-not-support-a-full-html-css-engine</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-agents-that-do-not-support-a-full-html-css-engine-1">2.1. Conformance classes</a>
    <li><a href="#ref-for-user-agents-that-do-not-support-a-full-html-css-engine-2">7. Rendering</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue">
   <b><a href="#webvtt-cue">#webvtt-cue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-1">1.1. A simple caption file</a>
    <li><a href="#ref-for-webvtt-cue-2">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-3">(2)</a> <a href="#ref-for-webvtt-cue-4">(3)</a> <a href="#ref-for-webvtt-cue-5">(4)</a> <a href="#ref-for-webvtt-cue-6">(5)</a> <a href="#ref-for-webvtt-cue-7">(6)</a> <a href="#ref-for-webvtt-cue-8">(7)</a> <a href="#ref-for-webvtt-cue-9">(8)</a> <a href="#ref-for-webvtt-cue-10">(9)</a> <a href="#ref-for-webvtt-cue-11">(10)</a> <a href="#ref-for-webvtt-cue-12">(11)</a> <a href="#ref-for-webvtt-cue-13">(12)</a>
    <li><a href="#ref-for-webvtt-cue-14">3.5. WebVTT chapter cues</a>
    <li><a href="#ref-for-webvtt-cue-15">3.6. WebVTT metadata cues</a>
    <li><a href="#ref-for-webvtt-cue-16">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-cue-17">4.3. WebVTT region settings</a>
    <li><a href="#ref-for-webvtt-cue-18">6.1. WebVTT file parsing</a> <a href="#ref-for-webvtt-cue-19">(2)</a> <a href="#ref-for-webvtt-cue-20">(3)</a> <a href="#ref-for-webvtt-cue-21">(4)</a> <a href="#ref-for-webvtt-cue-22">(5)</a>
    <li><a href="#ref-for-webvtt-cue-23">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-24">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-cue-25">6.6. WebVTT rules for extracting the chapter
title</a>
    <li><a href="#ref-for-webvtt-cue-26">7.1. Processing model</a> <a href="#ref-for-webvtt-cue-27">(2)</a>
    <li><a href="#ref-for-webvtt-cue-28">7.4. Applying CSS properties to WebVTT Node Objects</a> <a href="#ref-for-webvtt-cue-29">(2)</a>
    <li><a href="#ref-for-webvtt-cue-30">8.2. Processing model</a> <a href="#ref-for-webvtt-cue-31">(2)</a> <a href="#ref-for-webvtt-cue-32">(3)</a>
    <li><a href="#ref-for-webvtt-cue-33">8.2.2. The :past and :future pseudo-classes</a> <a href="#ref-for-webvtt-cue-34">(2)</a>
    <li><a href="#ref-for-webvtt-cue-35">8.2.3. The ::cue-region pseudo-element</a>
    <li><a href="#ref-for-webvtt-cue-36">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-37">(2)</a> <a href="#ref-for-webvtt-cue-38">(3)</a> <a href="#ref-for-webvtt-cue-39">(4)</a> <a href="#ref-for-webvtt-cue-40">(5)</a> <a href="#ref-for-webvtt-cue-41">(6)</a> <a href="#ref-for-webvtt-cue-42">(7)</a> <a href="#ref-for-webvtt-cue-43">(8)</a> <a href="#ref-for-webvtt-cue-44">(9)</a> <a href="#ref-for-webvtt-cue-45">(10)</a> <a href="#ref-for-webvtt-cue-46">(11)</a> <a href="#ref-for-webvtt-cue-47">(12)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="cue-text">
   <b><a href="#cue-text">#cue-text</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cue-text-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-cue-text-2">(2)</a> <a href="#ref-for-cue-text-3">(3)</a>
    <li><a href="#ref-for-cue-text-4">3.5. WebVTT chapter cues</a>
    <li><a href="#ref-for-cue-text-5">3.6. WebVTT metadata cues</a>
    <li><a href="#ref-for-cue-text-6">4.2.3. WebVTT chapter title text</a>
    <li><a href="#ref-for-cue-text-7">6.1. WebVTT file parsing</a> <a href="#ref-for-cue-text-8">(2)</a>
    <li><a href="#ref-for-cue-text-9">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-cue-text-10">(2)</a>
    <li><a href="#ref-for-cue-text-11">6.6. WebVTT rules for extracting the chapter
title</a>
    <li><a href="#ref-for-cue-text-12">7.1. Processing model</a>
    <li><a href="#ref-for-cue-text-13">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-cue-text-14">9.1. The VTTCue interface</a> <a href="#ref-for-cue-text-15">(2)</a> <a href="#ref-for-cue-text-16">(3)</a> <a href="#ref-for-cue-text-17">(4)</a> <a href="#ref-for-cue-text-18">(5)</a> <a href="#ref-for-cue-text-19">(6)</a> <a href="#ref-for-cue-text-20">(7)</a> <a href="#ref-for-cue-text-21">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-caption-or-subtitle-cue">
   <b><a href="#webvtt-caption-or-subtitle-cue">#webvtt-caption-or-subtitle-cue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-1">3.4. WebVTT caption or subtitle regions</a>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-2">7. Rendering</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-box">
   <b><a href="#webvtt-cue-box">#webvtt-cue-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-box-1">1.4. Other caption and subtitling features</a> <a href="#ref-for-webvtt-cue-box-2">(2)</a> <a href="#ref-for-webvtt-cue-box-3">(3)</a> <a href="#ref-for-webvtt-cue-box-4">(4)</a> <a href="#ref-for-webvtt-cue-box-5">(5)</a>
    <li><a href="#ref-for-webvtt-cue-box-6">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-box-7">(2)</a> <a href="#ref-for-webvtt-cue-box-8">(3)</a> <a href="#ref-for-webvtt-cue-box-9">(4)</a> <a href="#ref-for-webvtt-cue-box-10">(5)</a> <a href="#ref-for-webvtt-cue-box-11">(6)</a> <a href="#ref-for-webvtt-cue-box-12">(7)</a> <a href="#ref-for-webvtt-cue-box-13">(8)</a> <a href="#ref-for-webvtt-cue-box-14">(9)</a> <a href="#ref-for-webvtt-cue-box-15">(10)</a> <a href="#ref-for-webvtt-cue-box-16">(11)</a> <a href="#ref-for-webvtt-cue-box-17">(12)</a> <a href="#ref-for-webvtt-cue-box-18">(13)</a> <a href="#ref-for-webvtt-cue-box-19">(14)</a> <a href="#ref-for-webvtt-cue-box-20">(15)</a> <a href="#ref-for-webvtt-cue-box-21">(16)</a> <a href="#ref-for-webvtt-cue-box-22">(17)</a> <a href="#ref-for-webvtt-cue-box-23">(18)</a>
    <li><a href="#ref-for-webvtt-cue-box-24">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-cue-box-25">(2)</a> <a href="#ref-for-webvtt-cue-box-26">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-writing-direction">
   <b><a href="#webvtt-cue-writing-direction">#webvtt-cue-writing-direction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-writing-direction-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-writing-direction-2">(2)</a> <a href="#ref-for-webvtt-cue-writing-direction-3">(3)</a> <a href="#ref-for-webvtt-cue-writing-direction-4">(4)</a> <a href="#ref-for-webvtt-cue-writing-direction-5">(5)</a> <a href="#ref-for-webvtt-cue-writing-direction-6">(6)</a> <a href="#ref-for-webvtt-cue-writing-direction-7">(7)</a> <a href="#ref-for-webvtt-cue-writing-direction-8">(8)</a> <a href="#ref-for-webvtt-cue-writing-direction-9">(9)</a> <a href="#ref-for-webvtt-cue-writing-direction-10">(10)</a> <a href="#ref-for-webvtt-cue-writing-direction-11">(11)</a>
    <li><a href="#ref-for-webvtt-cue-writing-direction-12">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-webvtt-cue-writing-direction-13">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-writing-direction-14">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-webvtt-cue-writing-direction-15">(2)</a> <a href="#ref-for-webvtt-cue-writing-direction-16">(3)</a>
    <li><a href="#ref-for-webvtt-cue-writing-direction-17">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-writing-direction-18">(2)</a> <a href="#ref-for-webvtt-cue-writing-direction-19">(3)</a> <a href="#ref-for-webvtt-cue-writing-direction-20">(4)</a> <a href="#ref-for-webvtt-cue-writing-direction-21">(5)</a> <a href="#ref-for-webvtt-cue-writing-direction-22">(6)</a> <a href="#ref-for-webvtt-cue-writing-direction-23">(7)</a> <a href="#ref-for-webvtt-cue-writing-direction-24">(8)</a> <a href="#ref-for-webvtt-cue-writing-direction-25">(9)</a> <a href="#ref-for-webvtt-cue-writing-direction-26">(10)</a> <a href="#ref-for-webvtt-cue-writing-direction-27">(11)</a> <a href="#ref-for-webvtt-cue-writing-direction-28">(12)</a> <a href="#ref-for-webvtt-cue-writing-direction-29">(13)</a> <a href="#ref-for-webvtt-cue-writing-direction-30">(14)</a> <a href="#ref-for-webvtt-cue-writing-direction-31">(15)</a> <a href="#ref-for-webvtt-cue-writing-direction-32">(16)</a> <a href="#ref-for-webvtt-cue-writing-direction-33">(17)</a>
    <li><a href="#ref-for-webvtt-cue-writing-direction-34">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-writing-direction-35">(2)</a> <a href="#ref-for-webvtt-cue-writing-direction-36">(3)</a> <a href="#ref-for-webvtt-cue-writing-direction-37">(4)</a> <a href="#ref-for-webvtt-cue-writing-direction-38">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-horizontal-writing-direction">
   <b><a href="#webvtt-cue-horizontal-writing-direction">#webvtt-cue-horizontal-writing-direction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-horizontal-writing-direction-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-2">(2)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-3">(3)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-4">(4)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-5">(5)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-6">(6)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-7">(7)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-8">(8)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-9">(9)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-10">(10)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-11">(11)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-12">(12)</a>
    <li><a href="#ref-for-webvtt-cue-horizontal-writing-direction-13">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-horizontal-writing-direction-14">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-horizontal-writing-direction-15">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-16">(2)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-17">(3)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-18">(4)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-19">(5)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-20">(6)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-21">(7)</a>
    <li><a href="#ref-for-webvtt-cue-horizontal-writing-direction-22">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-23">(2)</a> <a href="#ref-for-webvtt-cue-horizontal-writing-direction-24">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-vertical-growing-left-writing-direction">
   <b><a href="#webvtt-cue-vertical-growing-left-writing-direction">#webvtt-cue-vertical-growing-left-writing-direction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-2">(2)</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-3">(3)</a>
    <li><a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-4">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-5">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-6">(2)</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-7">(3)</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-8">(4)</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-9">(5)</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-10">(6)</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-11">(7)</a>
    <li><a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-12">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-vertical-growing-left-writing-direction-13">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-vertical-growing-right-writing-direction">
   <b><a href="#webvtt-cue-vertical-growing-right-writing-direction">#webvtt-cue-vertical-growing-right-writing-direction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-2">(2)</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-3">(3)</a>
    <li><a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-4">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-5">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-6">(2)</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-7">(3)</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-8">(4)</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-9">(5)</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-10">(6)</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-11">(7)</a>
    <li><a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-12">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-vertical-growing-right-writing-direction-13">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-snap-to-lines-flag">
   <b><a href="#webvtt-cue-snap-to-lines-flag">#webvtt-cue-snap-to-lines-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-snap-to-lines-flag-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-2">(2)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-3">(3)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-4">(4)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-5">(5)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-6">(6)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-7">(7)</a>
    <li><a href="#ref-for-webvtt-cue-snap-to-lines-flag-8">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-snap-to-lines-flag-9">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-snap-to-lines-flag-10">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-11">(2)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-12">(3)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-13">(4)</a>
    <li><a href="#ref-for-webvtt-cue-snap-to-lines-flag-14">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-15">(2)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-16">(3)</a> <a href="#ref-for-webvtt-cue-snap-to-lines-flag-17">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-line">
   <b><a href="#webvtt-cue-line">#webvtt-cue-line</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-line-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-line-2">(2)</a> <a href="#ref-for-webvtt-cue-line-3">(3)</a> <a href="#ref-for-webvtt-cue-line-4">(4)</a> <a href="#ref-for-webvtt-cue-line-5">(5)</a> <a href="#ref-for-webvtt-cue-line-6">(6)</a> <a href="#ref-for-webvtt-cue-line-7">(7)</a> <a href="#ref-for-webvtt-cue-line-8">(8)</a> <a href="#ref-for-webvtt-cue-line-9">(9)</a> <a href="#ref-for-webvtt-cue-line-10">(10)</a> <a href="#ref-for-webvtt-cue-line-11">(11)</a> <a href="#ref-for-webvtt-cue-line-12">(12)</a> <a href="#ref-for-webvtt-cue-line-13">(13)</a> <a href="#ref-for-webvtt-cue-line-14">(14)</a> <a href="#ref-for-webvtt-cue-line-15">(15)</a> <a href="#ref-for-webvtt-cue-line-16">(16)</a> <a href="#ref-for-webvtt-cue-line-17">(17)</a> <a href="#ref-for-webvtt-cue-line-18">(18)</a> <a href="#ref-for-webvtt-cue-line-19">(19)</a> <a href="#ref-for-webvtt-cue-line-20">(20)</a>
    <li><a href="#ref-for-webvtt-cue-line-21">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-line-22">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-webvtt-cue-line-23">(2)</a>
    <li><a href="#ref-for-webvtt-cue-line-24">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-line-25">(2)</a> <a href="#ref-for-webvtt-cue-line-26">(3)</a> <a href="#ref-for-webvtt-cue-line-27">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-line-automatic">
   <b><a href="#webvtt-cue-line-automatic">#webvtt-cue-line-automatic</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-line-automatic-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-line-automatic-2">(2)</a> <a href="#ref-for-webvtt-cue-line-automatic-3">(3)</a>
    <li><a href="#ref-for-webvtt-cue-line-automatic-4">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-line-automatic-5">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-line-automatic-6">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-line-automatic-7">(2)</a> <a href="#ref-for-webvtt-cue-line-automatic-8">(3)</a> <a href="#ref-for-webvtt-cue-line-automatic-9">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="cue-computed-line">
   <b><a href="#cue-computed-line">#cue-computed-line</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cue-computed-line-1">3.3. WebVTT caption or subtitle cues</a>
    <li><a href="#ref-for-cue-computed-line-2">7.2. Processing cue settings</a> <a href="#ref-for-cue-computed-line-3">(2)</a> <a href="#ref-for-cue-computed-line-4">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-line-alignment">
   <b><a href="#webvtt-cue-line-alignment">#webvtt-cue-line-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-line-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-line-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-line-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-line-alignment-4">(4)</a>
    <li><a href="#ref-for-webvtt-cue-line-alignment-5">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-webvtt-cue-line-alignment-6">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-line-alignment-7">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-webvtt-cue-line-alignment-8">(2)</a> <a href="#ref-for-webvtt-cue-line-alignment-9">(3)</a>
    <li><a href="#ref-for-webvtt-cue-line-alignment-10">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-line-alignment-11">(2)</a> <a href="#ref-for-webvtt-cue-line-alignment-12">(3)</a> <a href="#ref-for-webvtt-cue-line-alignment-13">(4)</a>
    <li><a href="#ref-for-webvtt-cue-line-alignment-14">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-line-alignment-15">(2)</a> <a href="#ref-for-webvtt-cue-line-alignment-16">(3)</a> <a href="#ref-for-webvtt-cue-line-alignment-17">(4)</a> <a href="#ref-for-webvtt-cue-line-alignment-18">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-line-start-alignment">
   <b><a href="#webvtt-cue-line-start-alignment">#webvtt-cue-line-start-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-line-start-alignment-1">3.3. WebVTT caption or subtitle cues</a>
    <li><a href="#ref-for-webvtt-cue-line-start-alignment-2">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-cue-line-start-alignment-3">(2)</a>
    <li><a href="#ref-for-webvtt-cue-line-start-alignment-4">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-line-start-alignment-5">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-line-start-alignment-6">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-line-start-alignment-7">(2)</a> <a href="#ref-for-webvtt-cue-line-start-alignment-8">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-line-center-alignment">
   <b><a href="#webvtt-cue-line-center-alignment">#webvtt-cue-line-center-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-line-center-alignment-1">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-webvtt-cue-line-center-alignment-2">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-line-center-alignment-3">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-line-center-alignment-4">(2)</a>
    <li><a href="#ref-for-webvtt-cue-line-center-alignment-5">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-line-center-alignment-6">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-line-end-alignment">
   <b><a href="#webvtt-cue-line-end-alignment">#webvtt-cue-line-end-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-line-end-alignment-1">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-webvtt-cue-line-end-alignment-2">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-line-end-alignment-3">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-line-end-alignment-4">(2)</a>
    <li><a href="#ref-for-webvtt-cue-line-end-alignment-5">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-line-end-alignment-6">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-position">
   <b><a href="#webvtt-cue-position">#webvtt-cue-position</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-position-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-position-2">(2)</a> <a href="#ref-for-webvtt-cue-position-3">(3)</a> <a href="#ref-for-webvtt-cue-position-4">(4)</a> <a href="#ref-for-webvtt-cue-position-5">(5)</a> <a href="#ref-for-webvtt-cue-position-6">(6)</a> <a href="#ref-for-webvtt-cue-position-7">(7)</a> <a href="#ref-for-webvtt-cue-position-8">(8)</a> <a href="#ref-for-webvtt-cue-position-9">(9)</a> <a href="#ref-for-webvtt-cue-position-10">(10)</a> <a href="#ref-for-webvtt-cue-position-11">(11)</a> <a href="#ref-for-webvtt-cue-position-12">(12)</a> <a href="#ref-for-webvtt-cue-position-13">(13)</a> <a href="#ref-for-webvtt-cue-position-14">(14)</a> <a href="#ref-for-webvtt-cue-position-15">(15)</a> <a href="#ref-for-webvtt-cue-position-16">(16)</a> <a href="#ref-for-webvtt-cue-position-17">(17)</a> <a href="#ref-for-webvtt-cue-position-18">(18)</a> <a href="#ref-for-webvtt-cue-position-19">(19)</a>
    <li><a href="#ref-for-webvtt-cue-position-20">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-position-21">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-webvtt-cue-position-22">(2)</a>
    <li><a href="#ref-for-webvtt-cue-position-23">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-position-24">(2)</a> <a href="#ref-for-webvtt-cue-position-25">(3)</a> <a href="#ref-for-webvtt-cue-position-26">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-automatic-position">
   <b><a href="#webvtt-cue-automatic-position">#webvtt-cue-automatic-position</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-automatic-position-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-automatic-position-2">(2)</a> <a href="#ref-for-webvtt-cue-automatic-position-3">(3)</a> <a href="#ref-for-webvtt-cue-automatic-position-4">(4)</a> <a href="#ref-for-webvtt-cue-automatic-position-5">(5)</a>
    <li><a href="#ref-for-webvtt-cue-automatic-position-6">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-automatic-position-7">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-automatic-position-8">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-automatic-position-9">(2)</a> <a href="#ref-for-webvtt-cue-automatic-position-10">(3)</a> <a href="#ref-for-webvtt-cue-automatic-position-11">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="cue-computed-position">
   <b><a href="#cue-computed-position">#cue-computed-position</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cue-computed-position-1">7.1. Processing model</a>
    <li><a href="#ref-for-cue-computed-position-2">7.2. Processing cue settings</a> <a href="#ref-for-cue-computed-position-3">(2)</a> <a href="#ref-for-cue-computed-position-4">(3)</a> <a href="#ref-for-cue-computed-position-5">(4)</a> <a href="#ref-for-cue-computed-position-6">(5)</a> <a href="#ref-for-cue-computed-position-7">(6)</a> <a href="#ref-for-cue-computed-position-8">(7)</a> <a href="#ref-for-cue-computed-position-9">(8)</a> <a href="#ref-for-cue-computed-position-10">(9)</a> <a href="#ref-for-cue-computed-position-11">(10)</a> <a href="#ref-for-cue-computed-position-12">(11)</a> <a href="#ref-for-cue-computed-position-13">(12)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-position-alignment">
   <b><a href="#webvtt-cue-position-alignment">#webvtt-cue-position-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-position-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-position-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-position-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-position-alignment-4">(4)</a> <a href="#ref-for-webvtt-cue-position-alignment-5">(5)</a> <a href="#ref-for-webvtt-cue-position-alignment-6">(6)</a>
    <li><a href="#ref-for-webvtt-cue-position-alignment-7">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-position-alignment-8">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-webvtt-cue-position-alignment-9">(2)</a> <a href="#ref-for-webvtt-cue-position-alignment-10">(3)</a>
    <li><a href="#ref-for-webvtt-cue-position-alignment-11">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-position-alignment-12">(2)</a> <a href="#ref-for-webvtt-cue-position-alignment-13">(3)</a> <a href="#ref-for-webvtt-cue-position-alignment-14">(4)</a> <a href="#ref-for-webvtt-cue-position-alignment-15">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-position-line-left-alignment">
   <b><a href="#webvtt-cue-position-line-left-alignment">#webvtt-cue-position-line-left-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-position-line-left-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-position-line-left-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-position-line-left-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-position-line-left-alignment-4">(4)</a>
    <li><a href="#ref-for-webvtt-cue-position-line-left-alignment-5">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-webvtt-cue-position-line-left-alignment-6">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-position-line-left-alignment-7">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-position-line-left-alignment-8">(2)</a> <a href="#ref-for-webvtt-cue-position-line-left-alignment-9">(3)</a>
    <li><a href="#ref-for-webvtt-cue-position-line-left-alignment-10">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-position-line-left-alignment-11">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-position-center-alignment">
   <b><a href="#webvtt-cue-position-center-alignment">#webvtt-cue-position-center-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-position-center-alignment-1">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-webvtt-cue-position-center-alignment-2">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-position-center-alignment-3">7.1. Processing model</a>
    <li><a href="#ref-for-webvtt-cue-position-center-alignment-4">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-position-center-alignment-5">(2)</a> <a href="#ref-for-webvtt-cue-position-center-alignment-6">(3)</a> <a href="#ref-for-webvtt-cue-position-center-alignment-7">(4)</a>
    <li><a href="#ref-for-webvtt-cue-position-center-alignment-8">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-position-center-alignment-9">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-position-line-right-alignment">
   <b><a href="#webvtt-cue-position-line-right-alignment">#webvtt-cue-position-line-right-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-position-line-right-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-position-line-right-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-position-line-right-alignment-3">(3)</a>
    <li><a href="#ref-for-webvtt-cue-position-line-right-alignment-4">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-webvtt-cue-position-line-right-alignment-5">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-position-line-right-alignment-6">7.1. Processing model</a>
    <li><a href="#ref-for-webvtt-cue-position-line-right-alignment-7">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-position-line-right-alignment-8">(2)</a> <a href="#ref-for-webvtt-cue-position-line-right-alignment-9">(3)</a>
    <li><a href="#ref-for-webvtt-cue-position-line-right-alignment-10">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-position-line-right-alignment-11">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-position-automatic-alignment">
   <b><a href="#webvtt-cue-position-automatic-alignment">#webvtt-cue-position-automatic-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-position-automatic-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-position-automatic-alignment-2">(2)</a>
    <li><a href="#ref-for-webvtt-cue-position-automatic-alignment-3">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-position-automatic-alignment-4">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-position-automatic-alignment-5">(2)</a> <a href="#ref-for-webvtt-cue-position-automatic-alignment-6">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="cue-computed-position-alignment">
   <b><a href="#cue-computed-position-alignment">#cue-computed-position-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cue-computed-position-alignment-1">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-cue-computed-position-alignment-2">7.1. Processing model</a> <a href="#ref-for-cue-computed-position-alignment-3">(2)</a> <a href="#ref-for-cue-computed-position-alignment-4">(3)</a>
    <li><a href="#ref-for-cue-computed-position-alignment-5">7.2. Processing cue settings</a> <a href="#ref-for-cue-computed-position-alignment-6">(2)</a> <a href="#ref-for-cue-computed-position-alignment-7">(3)</a> <a href="#ref-for-cue-computed-position-alignment-8">(4)</a> <a href="#ref-for-cue-computed-position-alignment-9">(5)</a> <a href="#ref-for-cue-computed-position-alignment-10">(6)</a> <a href="#ref-for-cue-computed-position-alignment-11">(7)</a> <a href="#ref-for-cue-computed-position-alignment-12">(8)</a> <a href="#ref-for-cue-computed-position-alignment-13">(9)</a> <a href="#ref-for-cue-computed-position-alignment-14">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-size">
   <b><a href="#webvtt-cue-size">#webvtt-cue-size</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-size-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-size-2">(2)</a> <a href="#ref-for-webvtt-cue-size-3">(3)</a> <a href="#ref-for-webvtt-cue-size-4">(4)</a> <a href="#ref-for-webvtt-cue-size-5">(5)</a> <a href="#ref-for-webvtt-cue-size-6">(6)</a>
    <li><a href="#ref-for-webvtt-cue-size-7">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-size-8">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-webvtt-cue-size-9">(2)</a>
    <li><a href="#ref-for-webvtt-cue-size-10">7.2. Processing cue settings</a> <a href="#ref-for-webvtt-cue-size-11">(2)</a>
    <li><a href="#ref-for-webvtt-cue-size-12">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-size-13">(2)</a> <a href="#ref-for-webvtt-cue-size-14">(3)</a> <a href="#ref-for-webvtt-cue-size-15">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-text-alignment">
   <b><a href="#webvtt-cue-text-alignment">#webvtt-cue-text-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-text-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-text-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-text-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-text-alignment-4">(4)</a> <a href="#ref-for-webvtt-cue-text-alignment-5">(5)</a> <a href="#ref-for-webvtt-cue-text-alignment-6">(6)</a> <a href="#ref-for-webvtt-cue-text-alignment-7">(7)</a> <a href="#ref-for-webvtt-cue-text-alignment-8">(8)</a> <a href="#ref-for-webvtt-cue-text-alignment-9">(9)</a> <a href="#ref-for-webvtt-cue-text-alignment-10">(10)</a> <a href="#ref-for-webvtt-cue-text-alignment-11">(11)</a> <a href="#ref-for-webvtt-cue-text-alignment-12">(12)</a> <a href="#ref-for-webvtt-cue-text-alignment-13">(13)</a> <a href="#ref-for-webvtt-cue-text-alignment-14">(14)</a>
    <li><a href="#ref-for-webvtt-cue-text-alignment-15">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-text-alignment-16">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-webvtt-cue-text-alignment-17">(2)</a> <a href="#ref-for-webvtt-cue-text-alignment-18">(3)</a> <a href="#ref-for-webvtt-cue-text-alignment-19">(4)</a> <a href="#ref-for-webvtt-cue-text-alignment-20">(5)</a>
    <li><a href="#ref-for-webvtt-cue-text-alignment-21">7.4. Applying CSS properties to WebVTT Node Objects</a> <a href="#ref-for-webvtt-cue-text-alignment-22">(2)</a>
    <li><a href="#ref-for-webvtt-cue-text-alignment-23">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-text-alignment-24">(2)</a> <a href="#ref-for-webvtt-cue-text-alignment-25">(3)</a> <a href="#ref-for-webvtt-cue-text-alignment-26">(4)</a> <a href="#ref-for-webvtt-cue-text-alignment-27">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-start-alignment">
   <b><a href="#webvtt-cue-start-alignment">#webvtt-cue-start-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-start-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-start-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-start-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-start-alignment-4">(4)</a> <a href="#ref-for-webvtt-cue-start-alignment-5">(5)</a> <a href="#ref-for-webvtt-cue-start-alignment-6">(6)</a>
    <li><a href="#ref-for-webvtt-cue-start-alignment-7">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-start-alignment-8">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-cue-start-alignment-9">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-start-alignment-10">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-center-alignment">
   <b><a href="#webvtt-cue-center-alignment">#webvtt-cue-center-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-center-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-center-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-center-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-center-alignment-4">(4)</a>
    <li><a href="#ref-for-webvtt-cue-center-alignment-5">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-center-alignment-6">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-center-alignment-7">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-cue-center-alignment-8">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-center-alignment-9">(2)</a> <a href="#ref-for-webvtt-cue-center-alignment-10">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-end-alignment">
   <b><a href="#webvtt-cue-end-alignment">#webvtt-cue-end-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-end-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-end-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-end-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-end-alignment-4">(4)</a> <a href="#ref-for-webvtt-cue-end-alignment-5">(5)</a>
    <li><a href="#ref-for-webvtt-cue-end-alignment-6">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-end-alignment-7">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-cue-end-alignment-8">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-end-alignment-9">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-left-alignment">
   <b><a href="#webvtt-cue-left-alignment">#webvtt-cue-left-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-left-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-left-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-left-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-left-alignment-4">(4)</a>
    <li><a href="#ref-for-webvtt-cue-left-alignment-5">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-left-alignment-6">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-cue-left-alignment-7">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-left-alignment-8">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-right-alignment">
   <b><a href="#webvtt-cue-right-alignment">#webvtt-cue-right-alignment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-right-alignment-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-cue-right-alignment-2">(2)</a> <a href="#ref-for-webvtt-cue-right-alignment-3">(3)</a> <a href="#ref-for-webvtt-cue-right-alignment-4">(4)</a>
    <li><a href="#ref-for-webvtt-cue-right-alignment-5">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-cue-right-alignment-6">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-cue-right-alignment-7">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-right-alignment-8">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-region">
   <b><a href="#webvtt-cue-region">#webvtt-cue-region</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-region-1">3.3. WebVTT caption or subtitle cues</a>
    <li><a href="#ref-for-webvtt-cue-region-2">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-cue-region-3">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-webvtt-cue-region-4">(2)</a> <a href="#ref-for-webvtt-cue-region-5">(3)</a> <a href="#ref-for-webvtt-cue-region-6">(4)</a>
    <li><a href="#ref-for-webvtt-cue-region-7">7.1. Processing model</a> <a href="#ref-for-webvtt-cue-region-8">(2)</a> <a href="#ref-for-webvtt-cue-region-9">(3)</a>
    <li><a href="#ref-for-webvtt-cue-region-10">9.1. The VTTCue interface</a> <a href="#ref-for-webvtt-cue-region-11">(2)</a> <a href="#ref-for-webvtt-cue-region-12">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region">
   <b><a href="#webvtt-region">#webvtt-region</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-webvtt-region-2">(2)</a> <a href="#ref-for-webvtt-region-3">(3)</a>
    <li><a href="#ref-for-webvtt-region-4">3.4. WebVTT caption or subtitle regions</a> <a href="#ref-for-webvtt-region-5">(2)</a>
    <li><a href="#ref-for-webvtt-region-6">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-region-7">(2)</a> <a href="#ref-for-webvtt-region-8">(3)</a>
    <li><a href="#ref-for-webvtt-region-9">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-region-10">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-11">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-region-12">7.1. Processing model</a> <a href="#ref-for-webvtt-region-13">(2)</a> <a href="#ref-for-webvtt-region-14">(3)</a>
    <li><a href="#ref-for-webvtt-region-15">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-region-16">9.2. The VTTRegion interface</a> <a href="#ref-for-webvtt-region-17">(2)</a> <a href="#ref-for-webvtt-region-18">(3)</a> <a href="#ref-for-webvtt-region-19">(4)</a> <a href="#ref-for-webvtt-region-20">(5)</a> <a href="#ref-for-webvtt-region-21">(6)</a> <a href="#ref-for-webvtt-region-22">(7)</a> <a href="#ref-for-webvtt-region-23">(8)</a> <a href="#ref-for-webvtt-region-24">(9)</a> <a href="#ref-for-webvtt-region-25">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-identifier">
   <b><a href="#webvtt-region-identifier">#webvtt-region-identifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-identifier-1">4.4. WebVTT cue settings</a>
    <li><a href="#ref-for-webvtt-region-identifier-2">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-region-identifier-3">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-identifier-4">6.3. WebVTT cue timings and settings parsing</a>
    <li><a href="#ref-for-webvtt-region-identifier-5">8.1. Introduction</a>
    <li><a href="#ref-for-webvtt-region-identifier-6">8.2.3. The ::cue-region pseudo-element</a>
    <li><a href="#ref-for-webvtt-region-identifier-7">9.2. The VTTRegion interface</a> <a href="#ref-for-webvtt-region-identifier-8">(2)</a> <a href="#ref-for-webvtt-region-identifier-9">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-width">
   <b><a href="#webvtt-region-width">#webvtt-region-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-width-1">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-region-width-2">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-width-3">7.1. Processing model</a> <a href="#ref-for-webvtt-region-width-4">(2)</a> <a href="#ref-for-webvtt-region-width-5">(3)</a> <a href="#ref-for-webvtt-region-width-6">(4)</a>
    <li><a href="#ref-for-webvtt-region-width-7">9.2. The VTTRegion interface</a> <a href="#ref-for-webvtt-region-width-8">(2)</a> <a href="#ref-for-webvtt-region-width-9">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-lines">
   <b><a href="#webvtt-region-lines">#webvtt-region-lines</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-lines-1">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-region-lines-2">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-lines-3">7.1. Processing model</a>
    <li><a href="#ref-for-webvtt-region-lines-4">9.2. The VTTRegion interface</a> <a href="#ref-for-webvtt-region-lines-5">(2)</a> <a href="#ref-for-webvtt-region-lines-6">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-anchor">
   <b><a href="#webvtt-region-anchor">#webvtt-region-anchor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-anchor-1">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-region-anchor-2">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-anchor-3">7.1. Processing model</a> <a href="#ref-for-webvtt-region-anchor-4">(2)</a> <a href="#ref-for-webvtt-region-anchor-5">(3)</a> <a href="#ref-for-webvtt-region-anchor-6">(4)</a>
    <li><a href="#ref-for-webvtt-region-anchor-7">9.2. The VTTRegion interface</a> <a href="#ref-for-webvtt-region-anchor-8">(2)</a> <a href="#ref-for-webvtt-region-anchor-9">(3)</a> <a href="#ref-for-webvtt-region-anchor-10">(4)</a> <a href="#ref-for-webvtt-region-anchor-11">(5)</a> <a href="#ref-for-webvtt-region-anchor-12">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-viewport-anchor">
   <b><a href="#webvtt-region-viewport-anchor">#webvtt-region-viewport-anchor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-viewport-anchor-1">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-region-viewport-anchor-2">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-viewport-anchor-3">9.2. The VTTRegion interface</a> <a href="#ref-for-webvtt-region-viewport-anchor-4">(2)</a> <a href="#ref-for-webvtt-region-viewport-anchor-5">(3)</a> <a href="#ref-for-webvtt-region-viewport-anchor-6">(4)</a> <a href="#ref-for-webvtt-region-viewport-anchor-7">(5)</a> <a href="#ref-for-webvtt-region-viewport-anchor-8">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-scroll">
   <b><a href="#webvtt-region-scroll">#webvtt-region-scroll</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-scroll-1">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-region-scroll-2">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-scroll-3">7.1. Processing model</a>
    <li><a href="#ref-for-webvtt-region-scroll-4">9.2. The VTTRegion interface</a> <a href="#ref-for-webvtt-region-scroll-5">(2)</a> <a href="#ref-for-webvtt-region-scroll-6">(3)</a> <a href="#ref-for-webvtt-region-scroll-7">(4)</a> <a href="#ref-for-webvtt-region-scroll-8">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-scroll-none">
   <b><a href="#webvtt-region-scroll-none">#webvtt-region-scroll-none</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-scroll-none-1">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-region-scroll-none-2">9.2. The VTTRegion interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-scroll-up">
   <b><a href="#webvtt-region-scroll-up">#webvtt-region-scroll-up</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-scroll-up-1">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-scroll-up-2">7.1. Processing model</a>
    <li><a href="#ref-for-webvtt-region-scroll-up-3">9.2. The VTTRegion interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="text-track-list-of-regions">
   <b><a href="#text-track-list-of-regions">#text-track-list-of-regions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-text-track-list-of-regions-1">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-text-track-list-of-regions-2">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-text-track-list-of-regions-3">(2)</a>
    <li><a href="#ref-for-text-track-list-of-regions-4">7.1. Processing model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-file">
   <b><a href="#webvtt-file">#webvtt-file</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-file-1">2.1. Conformance classes</a> <a href="#ref-for-webvtt-file-2">(2)</a> <a href="#ref-for-webvtt-file-3">(3)</a> <a href="#ref-for-webvtt-file-4">(4)</a> <a href="#ref-for-webvtt-file-5">(5)</a> <a href="#ref-for-webvtt-file-6">(6)</a>
    <li><a href="#ref-for-webvtt-file-7">4.1. WebVTT file structure</a> <a href="#ref-for-webvtt-file-8">(2)</a>
    <li><a href="#ref-for-webvtt-file-9">4.3. WebVTT region settings</a>
    <li><a href="#ref-for-webvtt-file-10">4.5.1. WebVTT file using only nested cues</a>
    <li><a href="#ref-for-webvtt-file-11">4.6. Types of WebVTT files</a>
    <li><a href="#ref-for-webvtt-file-12">4.6.1. WebVTT file using metadata content</a>
    <li><a href="#ref-for-webvtt-file-13">4.6.3. WebVTT file using caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-file-14">6.1. WebVTT file parsing</a> <a href="#ref-for-webvtt-file-15">(2)</a> <a href="#ref-for-webvtt-file-16">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-file-body">
   <b><a href="#webvtt-file-body">#webvtt-file-body</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-file-body-1">4.1. WebVTT file structure</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-line-terminator">
   <b><a href="#webvtt-line-terminator">#webvtt-line-terminator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-line-terminator-1">4.1. WebVTT file structure</a> <a href="#ref-for-webvtt-line-terminator-2">(2)</a> <a href="#ref-for-webvtt-line-terminator-3">(3)</a> <a href="#ref-for-webvtt-line-terminator-4">(4)</a> <a href="#ref-for-webvtt-line-terminator-5">(5)</a> <a href="#ref-for-webvtt-line-terminator-6">(6)</a> <a href="#ref-for-webvtt-line-terminator-7">(7)</a> <a href="#ref-for-webvtt-line-terminator-8">(8)</a> <a href="#ref-for-webvtt-line-terminator-9">(9)</a> <a href="#ref-for-webvtt-line-terminator-10">(10)</a> <a href="#ref-for-webvtt-line-terminator-11">(11)</a> <a href="#ref-for-webvtt-line-terminator-12">(12)</a> <a href="#ref-for-webvtt-line-terminator-13">(13)</a> <a href="#ref-for-webvtt-line-terminator-14">(14)</a> <a href="#ref-for-webvtt-line-terminator-15">(15)</a> <a href="#ref-for-webvtt-line-terminator-16">(16)</a>
    <li><a href="#ref-for-webvtt-line-terminator-17">4.2.1. WebVTT metadata text</a> <a href="#ref-for-webvtt-line-terminator-18">(2)</a> <a href="#ref-for-webvtt-line-terminator-19">(3)</a>
    <li><a href="#ref-for-webvtt-line-terminator-20">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-line-terminator-21">(2)</a> <a href="#ref-for-webvtt-line-terminator-22">(3)</a> <a href="#ref-for-webvtt-line-terminator-23">(4)</a> <a href="#ref-for-webvtt-line-terminator-24">(5)</a>
    <li><a href="#ref-for-webvtt-line-terminator-25">4.2.3. WebVTT chapter title text</a>
    <li><a href="#ref-for-webvtt-line-terminator-26">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-line-terminator-27">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-definition-block">
   <b><a href="#webvtt-region-definition-block">#webvtt-region-definition-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-definition-block-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-region-definition-block-2">4.3. WebVTT region settings</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-style-block">
   <b><a href="#webvtt-style-block">#webvtt-style-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-style-block-1">4.1. WebVTT file structure</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-block">
   <b><a href="#webvtt-cue-block">#webvtt-cue-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-block-1">4.1. WebVTT file structure</a> <a href="#ref-for-webvtt-cue-block-2">(2)</a> <a href="#ref-for-webvtt-cue-block-3">(3)</a> <a href="#ref-for-webvtt-cue-block-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="cue-payload">
   <b><a href="#cue-payload">#cue-payload</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cue-payload-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-cue-payload-2">4.2.2. WebVTT caption or subtitle cue text</a>
    <li><a href="#ref-for-cue-payload-3">4.6.1. WebVTT file using metadata content</a>
    <li><a href="#ref-for-cue-payload-4">4.6.2. WebVTT file using chapter title text</a>
    <li><a href="#ref-for-cue-payload-5">4.6.3. WebVTT file using caption or subtitle cue text</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-identifier">
   <b><a href="#webvtt-cue-identifier">#webvtt-cue-identifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-identifier-1">4.1. WebVTT file structure</a> <a href="#ref-for-webvtt-cue-identifier-2">(2)</a> <a href="#ref-for-webvtt-cue-identifier-3">(3)</a> <a href="#ref-for-webvtt-cue-identifier-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-timings">
   <b><a href="#webvtt-cue-timings">#webvtt-cue-timings</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-timings-1">4.1. WebVTT file structure</a> <a href="#ref-for-webvtt-cue-timings-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-timestamp">
   <b><a href="#webvtt-timestamp">#webvtt-timestamp</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-timestamp-1">4.1. WebVTT file structure</a> <a href="#ref-for-webvtt-timestamp-2">(2)</a> <a href="#ref-for-webvtt-timestamp-3">(3)</a> <a href="#ref-for-webvtt-timestamp-4">(4)</a> <a href="#ref-for-webvtt-timestamp-5">(5)</a>
    <li><a href="#ref-for-webvtt-timestamp-6">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-timestamp-7">(2)</a>
    <li><a href="#ref-for-webvtt-timestamp-8">6.5. WebVTT cue text DOM construction rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-settings-list">
   <b><a href="#webvtt-cue-settings-list">#webvtt-cue-settings-list</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-settings-list-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-cue-settings-list-2">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-cue-settings-list-3">(2)</a>
    <li><a href="#ref-for-webvtt-cue-settings-list-4">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-cue-settings-list-5">(2)</a> <a href="#ref-for-webvtt-cue-settings-list-6">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-setting">
   <b><a href="#webvtt-cue-setting">#webvtt-cue-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-setting-1">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-cue-setting-2">(2)</a> <a href="#ref-for-webvtt-cue-setting-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-setting-name">
   <b><a href="#webvtt-cue-setting-name">#webvtt-cue-setting-name</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-setting-name-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-cue-setting-name-2">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-cue-setting-name-3">(2)</a> <a href="#ref-for-webvtt-cue-setting-name-4">(3)</a> <a href="#ref-for-webvtt-cue-setting-name-5">(4)</a> <a href="#ref-for-webvtt-cue-setting-name-6">(5)</a> <a href="#ref-for-webvtt-cue-setting-name-7">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-setting-value">
   <b><a href="#webvtt-cue-setting-value">#webvtt-cue-setting-value</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-setting-value-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-cue-setting-value-2">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-cue-setting-value-3">(2)</a> <a href="#ref-for-webvtt-cue-setting-value-4">(3)</a> <a href="#ref-for-webvtt-cue-setting-value-5">(4)</a> <a href="#ref-for-webvtt-cue-setting-value-6">(5)</a> <a href="#ref-for-webvtt-cue-setting-value-7">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-percentage">
   <b><a href="#webvtt-percentage">#webvtt-percentage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-percentage-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-percentage-2">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-percentage-3">(2)</a> <a href="#ref-for-webvtt-percentage-4">(3)</a> <a href="#ref-for-webvtt-percentage-5">(4)</a> <a href="#ref-for-webvtt-percentage-6">(5)</a>
    <li><a href="#ref-for-webvtt-percentage-7">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-percentage-8">(2)</a> <a href="#ref-for-webvtt-percentage-9">(3)</a>
    <li><a href="#ref-for-webvtt-percentage-10">6.2. WebVTT region settings parsing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-comment-block">
   <b><a href="#webvtt-comment-block">#webvtt-comment-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-comment-block-1">4.1. WebVTT file structure</a> <a href="#ref-for-webvtt-comment-block-2">(2)</a> <a href="#ref-for-webvtt-comment-block-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-metadata-text">
   <b><a href="#webvtt-metadata-text">#webvtt-metadata-text</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-metadata-text-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-metadata-text-2">4.2.1. WebVTT metadata text</a>
    <li><a href="#ref-for-webvtt-metadata-text-3">4.6.1. WebVTT file using metadata content</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-caption-or-subtitle-cue-text">
   <b><a href="#webvtt-caption-or-subtitle-cue-text">#webvtt-caption-or-subtitle-cue-text</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-text-1">2.1. Conformance classes</a>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-text-2">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-text-3">4.2.2. WebVTT caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-text-4">4.6.3. WebVTT file using caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-text-5">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-text-6">(2)</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-text-7">(3)</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-text-8">(4)</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-text-9">(5)</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-text-10">(6)</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-text-11">(7)</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-text-12">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-caption-or-subtitle-cue-components">
   <b><a href="#webvtt-caption-or-subtitle-cue-components">#webvtt-caption-or-subtitle-cue-components</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-components-1">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-components-2">(2)</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-components-3">(3)</a> <a href="#ref-for-webvtt-caption-or-subtitle-cue-components-4">(4)</a>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-components-5">5. Default classes for WebVTT Caption or Subtitle Cue Components</a>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-components-6">5.1. Default text colors</a>
    <li><a href="#ref-for-webvtt-caption-or-subtitle-cue-components-7">5.2. Default text background colors</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="cue-component-class-names">
   <b><a href="#cue-component-class-names">#cue-component-class-names</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-cue-component-class-names-1">5. Default classes for WebVTT Caption or Subtitle Cue Components</a>
    <li><a href="#ref-for-cue-component-class-names-2">5.1. Default text colors</a> <a href="#ref-for-cue-component-class-names-3">(2)</a>
    <li><a href="#ref-for-cue-component-class-names-4">5.2. Default text background colors</a> <a href="#ref-for-cue-component-class-names-5">(2)</a>
    <li><a href="#ref-for-cue-component-class-names-6">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-internal-text">
   <b><a href="#webvtt-cue-internal-text">#webvtt-cue-internal-text</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-internal-text-1">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-cue-internal-text-2">(2)</a> <a href="#ref-for-webvtt-cue-internal-text-3">(3)</a> <a href="#ref-for-webvtt-cue-internal-text-4">(4)</a> <a href="#ref-for-webvtt-cue-internal-text-5">(5)</a> <a href="#ref-for-webvtt-cue-internal-text-6">(6)</a> <a href="#ref-for-webvtt-cue-internal-text-7">(7)</a> <a href="#ref-for-webvtt-cue-internal-text-8">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-class-span">
   <b><a href="#webvtt-cue-class-span">#webvtt-cue-class-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-class-span-1">4.2.2. WebVTT caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-cue-class-span-2">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-italics-span">
   <b><a href="#webvtt-cue-italics-span">#webvtt-cue-italics-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-italics-span-1">4.2.2. WebVTT caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-cue-italics-span-2">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-bold-span">
   <b><a href="#webvtt-cue-bold-span">#webvtt-cue-bold-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-bold-span-1">4.2.2. WebVTT caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-cue-bold-span-2">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-underline-span">
   <b><a href="#webvtt-cue-underline-span">#webvtt-cue-underline-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-underline-span-1">4.2.2. WebVTT caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-cue-underline-span-2">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-ruby-span">
   <b><a href="#webvtt-cue-ruby-span">#webvtt-cue-ruby-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-ruby-span-1">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-cue-ruby-span-2">(2)</a>
    <li><a href="#ref-for-webvtt-cue-ruby-span-3">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-ruby-text-span">
   <b><a href="#webvtt-cue-ruby-text-span">#webvtt-cue-ruby-text-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-ruby-text-span-1">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-voice-span">
   <b><a href="#webvtt-cue-voice-span">#webvtt-cue-voice-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-voice-span-1">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-cue-voice-span-2">(2)</a>
    <li><a href="#ref-for-webvtt-cue-voice-span-3">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-language-span">
   <b><a href="#webvtt-cue-language-span">#webvtt-cue-language-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-language-span-1">4.2.2. WebVTT caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-cue-language-span-2">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-span-start-tag">
   <b><a href="#webvtt-cue-span-start-tag">#webvtt-cue-span-start-tag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-span-start-tag-1">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-cue-span-start-tag-2">(2)</a> <a href="#ref-for-webvtt-cue-span-start-tag-3">(3)</a> <a href="#ref-for-webvtt-cue-span-start-tag-4">(4)</a> <a href="#ref-for-webvtt-cue-span-start-tag-5">(5)</a> <a href="#ref-for-webvtt-cue-span-start-tag-6">(6)</a> <a href="#ref-for-webvtt-cue-span-start-tag-7">(7)</a> <a href="#ref-for-webvtt-cue-span-start-tag-8">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-span-end-tag">
   <b><a href="#webvtt-cue-span-end-tag">#webvtt-cue-span-end-tag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-span-end-tag-1">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-cue-span-end-tag-2">(2)</a> <a href="#ref-for-webvtt-cue-span-end-tag-3">(3)</a> <a href="#ref-for-webvtt-cue-span-end-tag-4">(4)</a> <a href="#ref-for-webvtt-cue-span-end-tag-5">(5)</a> <a href="#ref-for-webvtt-cue-span-end-tag-6">(6)</a> <a href="#ref-for-webvtt-cue-span-end-tag-7">(7)</a> <a href="#ref-for-webvtt-cue-span-end-tag-8">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-timestamp">
   <b><a href="#webvtt-cue-timestamp">#webvtt-cue-timestamp</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-timestamp-1">4.2.2. WebVTT caption or subtitle cue text</a> <a href="#ref-for-webvtt-cue-timestamp-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-text-span">
   <b><a href="#webvtt-cue-text-span">#webvtt-cue-text-span</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-text-span-1">4.2.2. WebVTT caption or subtitle cue text</a>
    <li><a href="#ref-for-webvtt-cue-text-span-2">4.2.3. WebVTT chapter title text</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-span-start-tag-annotation-text">
   <b><a href="#webvtt-cue-span-start-tag-annotation-text">#webvtt-cue-span-start-tag-annotation-text</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-span-start-tag-annotation-text-1">4.2.2. WebVTT caption or subtitle cue text</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-chapter-title-text">
   <b><a href="#webvtt-chapter-title-text">#webvtt-chapter-title-text</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-chapter-title-text-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-chapter-title-text-2">4.6.2. WebVTT file using chapter title text</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-settings-list">
   <b><a href="#webvtt-region-settings-list">#webvtt-region-settings-list</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-settings-list-1">4.1. WebVTT file structure</a>
    <li><a href="#ref-for-webvtt-region-settings-list-2">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-region-settings-list-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-identifier-setting">
   <b><a href="#webvtt-region-identifier-setting">#webvtt-region-identifier-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-identifier-setting-1">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-region-identifier-setting-2">(2)</a> <a href="#ref-for-webvtt-region-identifier-setting-3">(3)</a> <a href="#ref-for-webvtt-region-identifier-setting-4">(4)</a> <a href="#ref-for-webvtt-region-identifier-setting-5">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-width-setting">
   <b><a href="#webvtt-region-width-setting">#webvtt-region-width-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-width-setting-1">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-region-width-setting-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-lines-setting">
   <b><a href="#webvtt-region-lines-setting">#webvtt-region-lines-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-lines-setting-1">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-region-lines-setting-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-anchor-setting">
   <b><a href="#webvtt-region-anchor-setting">#webvtt-region-anchor-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-anchor-setting-1">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-region-anchor-setting-2">(2)</a> <a href="#ref-for-webvtt-region-anchor-setting-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-viewport-anchor-setting">
   <b><a href="#webvtt-region-viewport-anchor-setting">#webvtt-region-viewport-anchor-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-viewport-anchor-setting-1">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-region-viewport-anchor-setting-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-scroll-setting">
   <b><a href="#webvtt-region-scroll-setting">#webvtt-region-scroll-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-scroll-setting-1">4.3. WebVTT region settings</a> <a href="#ref-for-webvtt-region-scroll-setting-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-vertical-text-cue-setting">
   <b><a href="#webvtt-vertical-text-cue-setting">#webvtt-vertical-text-cue-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-vertical-text-cue-setting-1">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-vertical-text-cue-setting-2">(2)</a> <a href="#ref-for-webvtt-vertical-text-cue-setting-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-line-cue-setting">
   <b><a href="#webvtt-line-cue-setting">#webvtt-line-cue-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-line-cue-setting-1">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-line-cue-setting-2">(2)</a> <a href="#ref-for-webvtt-line-cue-setting-3">(3)</a> <a href="#ref-for-webvtt-line-cue-setting-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-position-cue-setting">
   <b><a href="#webvtt-position-cue-setting">#webvtt-position-cue-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-position-cue-setting-1">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-position-cue-setting-2">(2)</a> <a href="#ref-for-webvtt-position-cue-setting-3">(3)</a> <a href="#ref-for-webvtt-position-cue-setting-4">(4)</a> <a href="#ref-for-webvtt-position-cue-setting-5">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-size-cue-setting">
   <b><a href="#webvtt-size-cue-setting">#webvtt-size-cue-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-size-cue-setting-1">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-size-cue-setting-2">(2)</a> <a href="#ref-for-webvtt-size-cue-setting-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-alignment-cue-setting">
   <b><a href="#webvtt-alignment-cue-setting">#webvtt-alignment-cue-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-alignment-cue-setting-1">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-alignment-cue-setting-2">(2)</a> <a href="#ref-for-webvtt-alignment-cue-setting-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-cue-setting">
   <b><a href="#webvtt-region-cue-setting">#webvtt-region-cue-setting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-cue-setting-1">4.4. WebVTT cue settings</a> <a href="#ref-for-webvtt-region-cue-setting-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-file-using-only-nested-cues">
   <b><a href="#webvtt-file-using-only-nested-cues">#webvtt-file-using-only-nested-cues</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-file-using-only-nested-cues-1">4.5.1. WebVTT file using only nested cues</a> <a href="#ref-for-webvtt-file-using-only-nested-cues-2">(2)</a>
    <li><a href="#ref-for-webvtt-file-using-only-nested-cues-3">4.6.2. WebVTT file using chapter title text</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-parser">
   <b><a href="#webvtt-parser">#webvtt-parser</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-parser-1">3.3. WebVTT caption or subtitle cues</a>
    <li><a href="#ref-for-webvtt-parser-2">6.1. WebVTT file parsing</a> <a href="#ref-for-webvtt-parser-3">(2)</a> <a href="#ref-for-webvtt-parser-4">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="incremental-webvtt-parser">
   <b><a href="#incremental-webvtt-parser">#incremental-webvtt-parser</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-incremental-webvtt-parser-1">6.1. WebVTT file parsing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-parser-algorithm">
   <b><a href="#webvtt-parser-algorithm">#webvtt-parser-algorithm</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-parser-algorithm-1">6.1. WebVTT file parsing</a>
    <li><a href="#ref-for-webvtt-parser-algorithm-2">6.2. WebVTT region settings parsing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="collect-a-webvtt-block">
   <b><a href="#collect-a-webvtt-block">#collect-a-webvtt-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-collect-a-webvtt-block-1">6.1. WebVTT file parsing</a> <a href="#ref-for-collect-a-webvtt-block-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="collect-webvtt-region-settings">
   <b><a href="#collect-webvtt-region-settings">#collect-webvtt-region-settings</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-collect-webvtt-region-settings-1">6.1. WebVTT file parsing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-region-object">
   <b><a href="#webvtt-region-object">#webvtt-region-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-region-object-1">6.1. WebVTT file parsing</a> <a href="#ref-for-webvtt-region-object-2">(2)</a>
    <li><a href="#ref-for-webvtt-region-object-3">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-webvtt-region-object-4">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-region-object-5">7.1. Processing model</a>
    <li><a href="#ref-for-webvtt-region-object-6">7.4. Applying CSS properties to WebVTT Node Objects</a> <a href="#ref-for-webvtt-region-object-7">(2)</a> <a href="#ref-for-webvtt-region-object-8">(3)</a> <a href="#ref-for-webvtt-region-object-9">(4)</a>
    <li><a href="#ref-for-webvtt-region-object-10">8.1. Introduction</a> <a href="#ref-for-webvtt-region-object-11">(2)</a>
    <li><a href="#ref-for-webvtt-region-object-12">8.2.3. The ::cue-region pseudo-element</a> <a href="#ref-for-webvtt-region-object-13">(2)</a> <a href="#ref-for-webvtt-region-object-14">(3)</a> <a href="#ref-for-webvtt-region-object-15">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="parse-a-percentage-string">
   <b><a href="#parse-a-percentage-string">#parse-a-percentage-string</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-a-percentage-string-1">6.2. WebVTT region settings parsing</a> <a href="#ref-for-parse-a-percentage-string-2">(2)</a> <a href="#ref-for-parse-a-percentage-string-3">(3)</a> <a href="#ref-for-parse-a-percentage-string-4">(4)</a> <a href="#ref-for-parse-a-percentage-string-5">(5)</a>
    <li><a href="#ref-for-parse-a-percentage-string-6">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-parse-a-percentage-string-7">(2)</a> <a href="#ref-for-parse-a-percentage-string-8">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="collect-webvtt-cue-timings-and-settings">
   <b><a href="#collect-webvtt-cue-timings-and-settings">#collect-webvtt-cue-timings-and-settings</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-collect-webvtt-cue-timings-and-settings-1">6.1. WebVTT file parsing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="parse-the-webvtt-cue-settings">
   <b><a href="#parse-the-webvtt-cue-settings">#parse-the-webvtt-cue-settings</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-parse-the-webvtt-cue-settings-1">6.3. WebVTT cue timings and settings parsing</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="collect-a-webvtt-timestamp">
   <b><a href="#collect-a-webvtt-timestamp">#collect-a-webvtt-timestamp</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-collect-a-webvtt-timestamp-1">6.3. WebVTT cue timings and settings parsing</a> <a href="#ref-for-collect-a-webvtt-timestamp-2">(2)</a>
    <li><a href="#ref-for-collect-a-webvtt-timestamp-3">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-node-object">
   <b><a href="#webvtt-node-object">#webvtt-node-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-node-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-node-object-2">(2)</a> <a href="#ref-for-webvtt-node-object-3">(3)</a> <a href="#ref-for-webvtt-node-object-4">(4)</a> <a href="#ref-for-webvtt-node-object-5">(5)</a>
    <li><a href="#ref-for-webvtt-node-object-6">6.5. WebVTT cue text DOM construction rules</a> <a href="#ref-for-webvtt-node-object-7">(2)</a> <a href="#ref-for-webvtt-node-object-8">(3)</a>
    <li><a href="#ref-for-webvtt-node-object-9">7.3. Obtaining CSS boxes</a> <a href="#ref-for-webvtt-node-object-10">(2)</a>
    <li><a href="#ref-for-webvtt-node-object-11">7.4. Applying CSS properties to WebVTT Node Objects</a> <a href="#ref-for-webvtt-node-object-12">(2)</a>
    <li><a href="#ref-for-webvtt-node-object-13">8.2. Processing model</a> <a href="#ref-for-webvtt-node-object-14">(2)</a>
    <li><a href="#ref-for-webvtt-node-object-15">8.2.1. The ::cue pseudo-element</a>
    <li><a href="#ref-for-webvtt-node-object-16">8.2.2. The :past and :future pseudo-classes</a> <a href="#ref-for-webvtt-node-object-17">(2)</a> <a href="#ref-for-webvtt-node-object-18">(3)</a> <a href="#ref-for-webvtt-node-object-19">(4)</a> <a href="#ref-for-webvtt-node-object-20">(5)</a> <a href="#ref-for-webvtt-node-object-21">(6)</a> <a href="#ref-for-webvtt-node-object-22">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-internal-node-object">
   <b><a href="#webvtt-internal-node-object">#webvtt-internal-node-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-internal-node-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-internal-node-object-2">(2)</a> <a href="#ref-for-webvtt-internal-node-object-3">(3)</a> <a href="#ref-for-webvtt-internal-node-object-4">(4)</a> <a href="#ref-for-webvtt-internal-node-object-5">(5)</a> <a href="#ref-for-webvtt-internal-node-object-6">(6)</a> <a href="#ref-for-webvtt-internal-node-object-7">(7)</a>
    <li><a href="#ref-for-webvtt-internal-node-object-8">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-internal-node-object-9">7.3. Obtaining CSS boxes</a>
    <li><a href="#ref-for-webvtt-internal-node-object-10">8.1. Introduction</a> <a href="#ref-for-webvtt-internal-node-object-11">(2)</a> <a href="#ref-for-webvtt-internal-node-object-12">(3)</a> <a href="#ref-for-webvtt-internal-node-object-13">(4)</a> <a href="#ref-for-webvtt-internal-node-object-14">(5)</a>
    <li><a href="#ref-for-webvtt-internal-node-object-15">8.2.1. The ::cue pseudo-element</a> <a href="#ref-for-webvtt-internal-node-object-16">(2)</a> <a href="#ref-for-webvtt-internal-node-object-17">(3)</a> <a href="#ref-for-webvtt-internal-node-object-18">(4)</a> <a href="#ref-for-webvtt-internal-node-object-19">(5)</a> <a href="#ref-for-webvtt-internal-node-object-20">(6)</a> <a href="#ref-for-webvtt-internal-node-object-21">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-node-objects-applicable-classes">
   <b><a href="#webvtt-node-objects-applicable-classes">#webvtt-node-objects-applicable-classes</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-node-objects-applicable-classes-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-node-objects-applicable-classes-2">(2)</a>
    <li><a href="#ref-for-webvtt-node-objects-applicable-classes-3">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-node-objects-applicable-classes-4">8.1. Introduction</a>
    <li><a href="#ref-for-webvtt-node-objects-applicable-classes-5">8.2.1. The ::cue pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-node-objects-applicable-language">
   <b><a href="#webvtt-node-objects-applicable-language">#webvtt-node-objects-applicable-language</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-node-objects-applicable-language-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-node-objects-applicable-language-2">(2)</a> <a href="#ref-for-webvtt-node-objects-applicable-language-3">(3)</a> <a href="#ref-for-webvtt-node-objects-applicable-language-4">(4)</a>
    <li><a href="#ref-for-webvtt-node-objects-applicable-language-5">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-node-objects-applicable-language-6">8.1. Introduction</a> <a href="#ref-for-webvtt-node-objects-applicable-language-7">(2)</a> <a href="#ref-for-webvtt-node-objects-applicable-language-8">(3)</a> <a href="#ref-for-webvtt-node-objects-applicable-language-9">(4)</a>
    <li><a href="#ref-for-webvtt-node-objects-applicable-language-10">8.2.1. The ::cue pseudo-element</a> <a href="#ref-for-webvtt-node-objects-applicable-language-11">(2)</a> <a href="#ref-for-webvtt-node-objects-applicable-language-12">(3)</a> <a href="#ref-for-webvtt-node-objects-applicable-language-13">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-of-webvtt-node-objects">
   <b><a href="#list-of-webvtt-node-objects">#list-of-webvtt-node-objects</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-of-webvtt-node-objects-1">6.2. WebVTT region settings parsing</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-2">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-list-of-webvtt-node-objects-3">(2)</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-4">6.5. WebVTT cue text DOM construction rules</a> <a href="#ref-for-list-of-webvtt-node-objects-5">(2)</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-6">6.6. WebVTT rules for extracting the chapter
title</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-7">7.1. Processing model</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-8">7.2. Processing cue settings</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-9">7.4. Applying CSS properties to WebVTT Node Objects</a> <a href="#ref-for-list-of-webvtt-node-objects-10">(2)</a> <a href="#ref-for-list-of-webvtt-node-objects-11">(3)</a> <a href="#ref-for-list-of-webvtt-node-objects-12">(4)</a> <a href="#ref-for-list-of-webvtt-node-objects-13">(5)</a> <a href="#ref-for-list-of-webvtt-node-objects-14">(6)</a> <a href="#ref-for-list-of-webvtt-node-objects-15">(7)</a> <a href="#ref-for-list-of-webvtt-node-objects-16">(8)</a> <a href="#ref-for-list-of-webvtt-node-objects-17">(9)</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-18">8.1. Introduction</a> <a href="#ref-for-list-of-webvtt-node-objects-19">(2)</a> <a href="#ref-for-list-of-webvtt-node-objects-20">(3)</a> <a href="#ref-for-list-of-webvtt-node-objects-21">(4)</a> <a href="#ref-for-list-of-webvtt-node-objects-22">(5)</a> <a href="#ref-for-list-of-webvtt-node-objects-23">(6)</a> <a href="#ref-for-list-of-webvtt-node-objects-24">(7)</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-25">8.2. Processing model</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-26">8.2.1. The ::cue pseudo-element</a> <a href="#ref-for-list-of-webvtt-node-objects-27">(2)</a> <a href="#ref-for-list-of-webvtt-node-objects-28">(3)</a> <a href="#ref-for-list-of-webvtt-node-objects-29">(4)</a> <a href="#ref-for-list-of-webvtt-node-objects-30">(5)</a> <a href="#ref-for-list-of-webvtt-node-objects-31">(6)</a> <a href="#ref-for-list-of-webvtt-node-objects-32">(7)</a>
    <li><a href="#ref-for-list-of-webvtt-node-objects-33">8.2.2. The :past and :future pseudo-classes</a> <a href="#ref-for-list-of-webvtt-node-objects-34">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-class-object">
   <b><a href="#webvtt-class-object">#webvtt-class-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-class-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-class-object-2">(2)</a>
    <li><a href="#ref-for-webvtt-class-object-3">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-class-object-4">8.2.1. The ::cue pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-italic-object">
   <b><a href="#webvtt-italic-object">#webvtt-italic-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-italic-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-italic-object-2">(2)</a>
    <li><a href="#ref-for-webvtt-italic-object-3">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-italic-object-4">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-italic-object-5">8.2.1. The ::cue pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-bold-object">
   <b><a href="#webvtt-bold-object">#webvtt-bold-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-bold-object-1">1.3. Styling captions</a>
    <li><a href="#ref-for-webvtt-bold-object-2">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-bold-object-3">(2)</a>
    <li><a href="#ref-for-webvtt-bold-object-4">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-bold-object-5">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-bold-object-6">8.2.1. The ::cue pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-underline-object">
   <b><a href="#webvtt-underline-object">#webvtt-underline-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-underline-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-underline-object-2">(2)</a>
    <li><a href="#ref-for-webvtt-underline-object-3">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-underline-object-4">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-underline-object-5">8.2.1. The ::cue pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-ruby-object">
   <b><a href="#webvtt-ruby-object">#webvtt-ruby-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-ruby-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-ruby-object-2">(2)</a> <a href="#ref-for-webvtt-ruby-object-3">(3)</a>
    <li><a href="#ref-for-webvtt-ruby-object-4">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-ruby-object-5">7.3. Obtaining CSS boxes</a>
    <li><a href="#ref-for-webvtt-ruby-object-6">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-ruby-object-7">8.2.1. The ::cue pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-ruby-text-object">
   <b><a href="#webvtt-ruby-text-object">#webvtt-ruby-text-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-ruby-text-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-ruby-text-object-2">(2)</a> <a href="#ref-for-webvtt-ruby-text-object-3">(3)</a>
    <li><a href="#ref-for-webvtt-ruby-text-object-4">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-webvtt-ruby-text-object-5">6.6. WebVTT rules for extracting the chapter
title</a>
    <li><a href="#ref-for-webvtt-ruby-text-object-6">7.3. Obtaining CSS boxes</a>
    <li><a href="#ref-for-webvtt-ruby-text-object-7">7.4. Applying CSS properties to WebVTT Node Objects</a> <a href="#ref-for-webvtt-ruby-text-object-8">(2)</a>
    <li><a href="#ref-for-webvtt-ruby-text-object-9">8.2.1. The ::cue pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-voice-object">
   <b><a href="#webvtt-voice-object">#webvtt-voice-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-voice-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-voice-object-2">(2)</a> <a href="#ref-for-webvtt-voice-object-3">(3)</a>
    <li><a href="#ref-for-webvtt-voice-object-4">6.5. WebVTT cue text DOM construction rules</a> <a href="#ref-for-webvtt-voice-object-5">(2)</a>
    <li><a href="#ref-for-webvtt-voice-object-6">8.1. Introduction</a>
    <li><a href="#ref-for-webvtt-voice-object-7">8.2.1. The ::cue pseudo-element</a> <a href="#ref-for-webvtt-voice-object-8">(2)</a> <a href="#ref-for-webvtt-voice-object-9">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-language-object">
   <b><a href="#webvtt-language-object">#webvtt-language-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-language-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-language-object-2">(2)</a>
    <li><a href="#ref-for-webvtt-language-object-3">6.5. WebVTT cue text DOM construction rules</a> <a href="#ref-for-webvtt-language-object-4">(2)</a>
    <li><a href="#ref-for-webvtt-language-object-5">8.1. Introduction</a>
    <li><a href="#ref-for-webvtt-language-object-6">8.2.1. The ::cue pseudo-element</a> <a href="#ref-for-webvtt-language-object-7">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-leaf-node-object">
   <b><a href="#webvtt-leaf-node-object">#webvtt-leaf-node-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-leaf-node-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-leaf-node-object-2">(2)</a>
    <li><a href="#ref-for-webvtt-leaf-node-object-3">8.2.1. The ::cue pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-text-object">
   <b><a href="#webvtt-text-object">#webvtt-text-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-text-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-text-object-2">(2)</a> <a href="#ref-for-webvtt-text-object-3">(3)</a>
    <li><a href="#ref-for-webvtt-text-object-4">6.5. WebVTT cue text DOM construction rules</a> <a href="#ref-for-webvtt-text-object-5">(2)</a>
    <li><a href="#ref-for-webvtt-text-object-6">6.6. WebVTT rules for extracting the chapter
title</a>
    <li><a href="#ref-for-webvtt-text-object-7">7.3. Obtaining CSS boxes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-timestamp-object">
   <b><a href="#webvtt-timestamp-object">#webvtt-timestamp-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-timestamp-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-timestamp-object-2">(2)</a>
    <li><a href="#ref-for-webvtt-timestamp-object-3">6.5. WebVTT cue text DOM construction rules</a> <a href="#ref-for-webvtt-timestamp-object-4">(2)</a>
    <li><a href="#ref-for-webvtt-timestamp-object-5">8.1. Introduction</a>
    <li><a href="#ref-for-webvtt-timestamp-object-6">8.2.2. The :past and :future pseudo-classes</a> <a href="#ref-for-webvtt-timestamp-object-7">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-text-parsing-rules">
   <b><a href="#webvtt-cue-text-parsing-rules">#webvtt-cue-text-parsing-rules</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-text-parsing-rules-1">6.6. WebVTT rules for extracting the chapter
title</a>
    <li><a href="#ref-for-webvtt-cue-text-parsing-rules-2">7.1. Processing model</a>
    <li><a href="#ref-for-webvtt-cue-text-parsing-rules-3">9.1. The VTTCue interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="attach-a-webvtt-internal-node-object">
   <b><a href="#attach-a-webvtt-internal-node-object">#attach-a-webvtt-internal-node-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-attach-a-webvtt-internal-node-object-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-attach-a-webvtt-internal-node-object-2">(2)</a> <a href="#ref-for-attach-a-webvtt-internal-node-object-3">(3)</a> <a href="#ref-for-attach-a-webvtt-internal-node-object-4">(4)</a> <a href="#ref-for-attach-a-webvtt-internal-node-object-5">(5)</a> <a href="#ref-for-attach-a-webvtt-internal-node-object-6">(6)</a> <a href="#ref-for-attach-a-webvtt-internal-node-object-7">(7)</a> <a href="#ref-for-attach-a-webvtt-internal-node-object-8">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-text-tokenizer">
   <b><a href="#webvtt-cue-text-tokenizer">#webvtt-cue-text-tokenizer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-text-tokenizer-1">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-data-state">
   <b><a href="#webvtt-data-state">#webvtt-data-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-data-state-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-data-state-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="html-character-reference-in-data-state">
   <b><a href="#html-character-reference-in-data-state">#html-character-reference-in-data-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-html-character-reference-in-data-state-1">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-tag-state">
   <b><a href="#webvtt-tag-state">#webvtt-tag-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-tag-state-1">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-start-tag-state">
   <b><a href="#webvtt-start-tag-state">#webvtt-start-tag-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-start-tag-state-1">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-start-tag-class-state">
   <b><a href="#webvtt-start-tag-class-state">#webvtt-start-tag-class-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-start-tag-class-state-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-start-tag-class-state-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-start-tag-annotation-state">
   <b><a href="#webvtt-start-tag-annotation-state">#webvtt-start-tag-annotation-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-start-tag-annotation-state-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-webvtt-start-tag-annotation-state-2">(2)</a> <a href="#ref-for-webvtt-start-tag-annotation-state-3">(3)</a> <a href="#ref-for-webvtt-start-tag-annotation-state-4">(4)</a> <a href="#ref-for-webvtt-start-tag-annotation-state-5">(5)</a> <a href="#ref-for-webvtt-start-tag-annotation-state-6">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="html-character-reference-in-annotation-state">
   <b><a href="#html-character-reference-in-annotation-state">#html-character-reference-in-annotation-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-html-character-reference-in-annotation-state-1">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-end-tag-state">
   <b><a href="#webvtt-end-tag-state">#webvtt-end-tag-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-end-tag-state-1">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-timestamp-tag-state">
   <b><a href="#webvtt-timestamp-tag-state">#webvtt-timestamp-tag-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-timestamp-tag-state-1">6.4. WebVTT cue text parsing rules</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="consume-an-html-character-reference">
   <b><a href="#consume-an-html-character-reference">#consume-an-html-character-reference</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-consume-an-html-character-reference-1">6.4. WebVTT cue text parsing rules</a> <a href="#ref-for-consume-an-html-character-reference-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-text-dom-construction-rules">
   <b><a href="#webvtt-cue-text-dom-construction-rules">#webvtt-cue-text-dom-construction-rules</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-text-dom-construction-rules-1">9.1. The VTTCue interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-rules-for-extracting-the-chapter-title">
   <b><a href="#webvtt-rules-for-extracting-the-chapter-title">#webvtt-rules-for-extracting-the-chapter-title</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-rules-for-extracting-the-chapter-title-1">9.1. The VTTCue interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="rules-for-updating-the-display-of-webvtt-text-tracks">
   <b><a href="#rules-for-updating-the-display-of-webvtt-text-tracks">#rules-for-updating-the-display-of-webvtt-text-tracks</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-1">3.3. WebVTT caption or subtitle cues</a> <a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-2">(2)</a>
    <li><a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-3">7.1. Processing model</a>
    <li><a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-4">7.4. Applying CSS properties to WebVTT Node Objects</a> <a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-5">(2)</a> <a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-6">(3)</a>
    <li><a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-7">8.2. Processing model</a> <a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-8">(2)</a>
    <li><a href="#ref-for-rules-for-updating-the-display-of-webvtt-text-tracks-9">8.2.3. The ::cue-region pseudo-element</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="apply-webvtt-cue-settings">
   <b><a href="#apply-webvtt-cue-settings">#apply-webvtt-cue-settings</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-apply-webvtt-cue-settings-1">7.1. Processing model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="obtain-a-set-of-css-boxes">
   <b><a href="#obtain-a-set-of-css-boxes">#obtain-a-set-of-css-boxes</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-obtain-a-set-of-css-boxes-1">7.1. Processing model</a>
    <li><a href="#ref-for-obtain-a-set-of-css-boxes-2">7.2. Processing cue settings</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webvtt-cue-background-box">
   <b><a href="#webvtt-cue-background-box">#webvtt-cue-background-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webvtt-cue-background-box-1">7.4. Applying CSS properties to WebVTT Node Objects</a>
    <li><a href="#ref-for-webvtt-cue-background-box-2">8.2.1. The ::cue pseudo-element</a> <a href="#ref-for-webvtt-cue-background-box-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-autokeyword">
   <b><a href="#enumdef-autokeyword">#enumdef-autokeyword</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-autokeyword-1">9.1. The VTTCue interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-lineandpositionsetting">
   <b><a href="#typedefdef-lineandpositionsetting">#typedefdef-lineandpositionsetting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-lineandpositionsetting-1">9.1. The VTTCue interface</a> <a href="#ref-for-typedefdef-lineandpositionsetting-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-directionsetting">
   <b><a href="#enumdef-directionsetting">#enumdef-directionsetting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-directionsetting-1">9.1. The VTTCue interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-linealignsetting">
   <b><a href="#enumdef-linealignsetting">#enumdef-linealignsetting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-linealignsetting-1">9.1. The VTTCue interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-positionalignsetting">
   <b><a href="#enumdef-positionalignsetting">#enumdef-positionalignsetting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-positionalignsetting-1">9.1. The VTTCue interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-alignsetting">
   <b><a href="#enumdef-alignsetting">#enumdef-alignsetting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-alignsetting-1">9.1. The VTTCue interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="vttcue">
   <b><a href="#vttcue">#vttcue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-vttcue-1">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-vttcue-2">9.1. The VTTCue interface</a> <a href="#ref-for-vttcue-3">(2)</a> <a href="#ref-for-vttcue-4">(3)</a> <a href="#ref-for-vttcue-5">(4)</a> <a href="#ref-for-vttcue-6">(5)</a> <a href="#ref-for-vttcue-7">(6)</a> <a href="#ref-for-vttcue-8">(7)</a> <a href="#ref-for-vttcue-9">(8)</a> <a href="#ref-for-vttcue-10">(9)</a> <a href="#ref-for-vttcue-11">(10)</a> <a href="#ref-for-vttcue-12">(11)</a> <a href="#ref-for-vttcue-13">(12)</a> <a href="#ref-for-vttcue-14">(13)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-vttcue">
   <b><a href="#dom-vttcue-vttcue">#dom-vttcue-vttcue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-vttcue-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-vttcue-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-region">
   <b><a href="#dom-vttcue-region">#dom-vttcue-region</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-region-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-region-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-vertical">
   <b><a href="#dom-vttcue-vertical">#dom-vttcue-vertical</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-vertical-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-vertical-2">(2)</a> <a href="#ref-for-dom-vttcue-vertical-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-snaptolines">
   <b><a href="#dom-vttcue-snaptolines">#dom-vttcue-snaptolines</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-snaptolines-1">3.3. WebVTT caption or subtitle cues</a>
    <li><a href="#ref-for-dom-vttcue-snaptolines-2">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-snaptolines-3">(2)</a> <a href="#ref-for-dom-vttcue-snaptolines-4">(3)</a> <a href="#ref-for-dom-vttcue-snaptolines-5">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-line">
   <b><a href="#dom-vttcue-line">#dom-vttcue-line</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-line-1">3.3. WebVTT caption or subtitle cues</a>
    <li><a href="#ref-for-dom-vttcue-line-2">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-line-3">(2)</a> <a href="#ref-for-dom-vttcue-line-4">(3)</a> <a href="#ref-for-dom-vttcue-line-5">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-linealign">
   <b><a href="#dom-vttcue-linealign">#dom-vttcue-linealign</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-linealign-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-linealign-2">(2)</a> <a href="#ref-for-dom-vttcue-linealign-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-position">
   <b><a href="#dom-vttcue-position">#dom-vttcue-position</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-position-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-position-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-positionalign">
   <b><a href="#dom-vttcue-positionalign">#dom-vttcue-positionalign</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-positionalign-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-positionalign-2">(2)</a> <a href="#ref-for-dom-vttcue-positionalign-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-size">
   <b><a href="#dom-vttcue-size">#dom-vttcue-size</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-size-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-size-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-align">
   <b><a href="#dom-vttcue-align">#dom-vttcue-align</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-align-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-align-2">(2)</a> <a href="#ref-for-dom-vttcue-align-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-text">
   <b><a href="#dom-vttcue-text">#dom-vttcue-text</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-text-1">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-text-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttcue-getcueashtml">
   <b><a href="#dom-vttcue-getcueashtml">#dom-vttcue-getcueashtml</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttcue-getcueashtml-1">6.5. WebVTT cue text DOM construction rules</a>
    <li><a href="#ref-for-dom-vttcue-getcueashtml-2">9.1. The VTTCue interface</a> <a href="#ref-for-dom-vttcue-getcueashtml-3">(2)</a> <a href="#ref-for-dom-vttcue-getcueashtml-4">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-scrollsetting">
   <b><a href="#enumdef-scrollsetting">#enumdef-scrollsetting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-scrollsetting-1">9.2. The VTTRegion interface</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="vttregion">
   <b><a href="#vttregion">#vttregion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-vttregion-1">9.1. The VTTCue interface</a> <a href="#ref-for-vttregion-2">(2)</a> <a href="#ref-for-vttregion-3">(3)</a>
    <li><a href="#ref-for-vttregion-4">9.2. The VTTRegion interface</a> <a href="#ref-for-vttregion-5">(2)</a> <a href="#ref-for-vttregion-6">(3)</a> <a href="#ref-for-vttregion-7">(4)</a> <a href="#ref-for-vttregion-8">(5)</a> <a href="#ref-for-vttregion-9">(6)</a> <a href="#ref-for-vttregion-10">(7)</a> <a href="#ref-for-vttregion-11">(8)</a> <a href="#ref-for-vttregion-12">(9)</a> <a href="#ref-for-vttregion-13">(10)</a> <a href="#ref-for-vttregion-14">(11)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-vttregion">
   <b><a href="#dom-vttregion-vttregion">#dom-vttregion-vttregion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-vttregion-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-vttregion-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-id">
   <b><a href="#dom-vttregion-id">#dom-vttregion-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-id-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-id-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-width">
   <b><a href="#dom-vttregion-width">#dom-vttregion-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-width-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-width-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-lines">
   <b><a href="#dom-vttregion-lines">#dom-vttregion-lines</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-lines-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-lines-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-regionanchorx">
   <b><a href="#dom-vttregion-regionanchorx">#dom-vttregion-regionanchorx</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-regionanchorx-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-regionanchorx-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-regionanchory">
   <b><a href="#dom-vttregion-regionanchory">#dom-vttregion-regionanchory</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-regionanchory-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-regionanchory-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-viewportanchorx">
   <b><a href="#dom-vttregion-viewportanchorx">#dom-vttregion-viewportanchorx</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-viewportanchorx-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-viewportanchorx-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-viewportanchory">
   <b><a href="#dom-vttregion-viewportanchory">#dom-vttregion-viewportanchory</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-viewportanchory-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-viewportanchory-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-vttregion-scroll">
   <b><a href="#dom-vttregion-scroll">#dom-vttregion-scroll</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-vttregion-scroll-1">9.2. The VTTRegion interface</a> <a href="#ref-for-dom-vttregion-scroll-2">(2)</a> <a href="#ref-for-dom-vttregion-scroll-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="text-vtt">
   <b><a href="#text-vtt">#text-vtt</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-text-vtt-1">2.1. Conformance classes</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>
        <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to top">↑</abbr></a></p>
	</body>
</html>
